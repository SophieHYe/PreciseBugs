{"buggy_code": ["                   Yii Framework Change Log\n                   ========================\n\nVersion 1.1.27 under development\n--------------------------------\n\n- Bug: PHP 8.1 compatibility: Fix CFileCache call of file_get_contents (Bregi)\n\nVersion 1.1.26 September 30, 2022\n--------------------------------\n\n- Enh #4386: Added support for PHP 8.1 (marcovtwout, JonathanArgentao, ivany4, csears123)\n- Enh #4386: Updated HTMLPurifier to version 4.15.0 for PHP 8.1 support (https://github.com/ezyang/htmlpurifier/blob/v4.15.0/NEWS) (marcovtwout)\n- Enh #4392: Added support for SSL to CRedisCache (andres101)\n- Bug #4453: Alpine Linux compatibility: Avoid using `GLOB_BRACE` in `CFileHelper::removeDirectory` (ivany4)\n\nVersion 1.1.25 December 13, 2021\n--------------------------------\n\n- Bug #4226: Fix for Gii diff displaying \"reset() expects parameter 1 to be array, integer given\" (LeoZandvliet, marcovtwout)\n- Bug #4369: PHP 8.0 compatibility: Fix warning \"Only the first byte will be assigned to the string offset\" when generating code with Gii (marcovtwout)\n- Bug #4374: Fix for createUpdateCommand which did not accept just a table name when using MSSQL (c-schmitz)\n- Bug #4380: Prevent fatal errors while validating CSRF token of malformed requests (rob006)\n- Bug #4382: PHP 8.0 compatibility: Fix CFileLogRoute throwing TypeError when logfile cannot be opened (marcovtwout)\n\nVersion 1.1.24 June 7, 2021\n--------------------------------\n\n- Bug #4339: \"There is no active transaction\" when transaction is autocommitted (twisted1919)\n- Bug #4343: Fix \"driver does not support quoting\" when using the driver pdo_odbc (xpohoc69)\n- Bug #4355: Fix errorhandler missing backtrace entries (georaldc, marcovtwout)\n- Enh #4349: Added CHtml option to omit type attribute from <script> tag (mohamedmalki, marcovtwout)\n- Enh #4351: Added CHtml option to omit CDATA wrapper from <script> and <style> contents (marcovtwout)\n- Enh #4354: Allow to set log file permissions for CFileLogRoute (jdayamx)\n- Chg #4344: Upgraded jQuery to 1.12.4 (marcovtwout)\n- Chg #4344: Upgraded jQuery UI to 1.12.1 (marcovtwout)\n\nVersion 1.1.23 December 2, 2020\n-------------------------------\n\n- Bug #4291: The scheme (protocol) is deleted when validateIDN is enabled after validation (Argevollen)\n- Bug #4306: Add PHP 8 support (samdark)\n- Bug #4310: Items on memcache won't expire due to memcache difference in internal clock (nikolasr200)\n- Bug #4325: Add support for unicode strings beyond the BMP (like emojies) in `CJavaScript::encode()` (marcovtwout)\n- Bug: Fix CFileHelper::findFiles() to use correct directory separator under Windows (samdark)\n- Enh #4305: PHP 7.3 compatibility: Support giving cookies a SameSite=None attribute value (tomfotherby)\n- Enh #4308: PHP 7.3 compatibility: Add `samesite` as a session cookie option (tomfotherby)\n- Enh #4314: Exceptions thrown while loading fixtures now contain details about the error location (BBoom)\n- Enh #4314: Missing fixture files now throw exceptions (BBoom)\n- Enh #4315: Added change triggers to clickable checkbox rows in grid views, allowing other script to react to the changed checkbox states (BBoom)\n- Enh #4317: Added special option 'encode' to `$htmlOptions` argument in `CHtml::errorSummary` and `CHtml::error` (shidenko97)\n- Enh #4323: Add PostgreSQL 12 support (bio, d4rkstar, marcovtwout)\n- Chg #4293: Updated HTMLPurifier to version 4.13.0 (https://github.com/ezyang/htmlpurifier/blob/v4.13.0/NEWS) (marcovtwout)\n\nVersion 1.1.22 January 16, 2020\n-------------------------------\n\n- Bug #4256: PHP 7 compatibility: PHP4 style constructor in Pear/Text/Diff3.php (kenguest)\n- Bug #4256: PHP 7 compatibility: Fixed deprecated usage of create_function() in markdown.php (samdark)\n- Bug #4261: PHP 7.2 compatibility: INTL_IDNA_VARIANT_2003 has been depreacated (machour)\n- Bug #4261: Updated HTMLPurifier to version 4.10.0 (https://github.com/ezyang/htmlpurifier/blob/v4.10.0/NEWS) (machour)\n- Bug #4279: PHP 7.4 compatibility: Drop use of accessing string offsets using curly braces (kenguest)\n- Enh #4273: PHP 7.3 compatibility: Add \"sameSite\" support for cookies (thekonz)\n\nVersion 1.1.21 April 2, 2019\n----------------------------\n\n- Bug #4220: Fixed PHP 7.2 incompatibility caused by the use of `create_function` in CHttpRequest and CProfileLogRoute (martinpetrasch, freezy-sk)\n- Bug #4227: Fixed PHPUnit 6 compatibility (gianniszach)\n- Bug #4229: Remove deprecation errors from framework/web/js/source/jquery.yiiactiveform.js when using jQuery 3.1.1 (kenguest)\n- Bug #4234: CVE-2018-14773. Drop support for HTTP_X_REWRITE_URL (kenguest)\n- Bug #4238: Fixed intolerance to nulls in `CJavaScript::quote()` (stevoh6, ddziaduch)\n- Chg #4236: Freeze session before changing ini settings to be compatible with PHP 7.2 (vxk7m)\n\nVersion 1.1.20 July 6, 2018\n---------------------------\n\n- Bug #4162: Adjusted Zend Escaper to be compatible with PHP <5.3 and fixed usage of non-existing Exceptions (cebe)\n- Bug #4167: Fixed PHP 7.2 incompatibility of \"count()\" in `CActiveFinder` and CController::renderDynamic() (softark, ThePepster)\n- Bug #4168: Fixed `CDbHttpSession` PHP 7.1 compatibility (csears123)\n- Bug #4179: Fixed MariaDB 10.2 current_timestamp() (yaBliznyk)\n- Bug #4182: CSecurityManager requires mcrypt extension to work, and for PHP 7.2 we need to install it from pecl (sergey-dryabzhinsky)\n- Bug #4191: Fixed \"Headers already sent.\" error in CHttpSession (daniel1302)\n- Bug #4191: Fixed \"CHtml::value() behaves differently for objects\" for PHP 7.2 (daniel1302)\n- Bug #4197: Fixed PHP 7.2 assert with string argument is deprecated warning using Gii (ThePepster)\n- Bug #4198: Fixed PHP 7.2 SQLSRV lastInsertId (agusdrs)\n- Bug #4203: Fixed `CHttpCacheFilter::sendCacheControlHeader` PHP 7.2 compatibility (b1rdex)\n- Enh #4191: Added option for filter classes loaded by YiiBase autoloader (daniel1302)\n- Chg #4160: Updated HTMLPurifier to version 4.9.3 (takobell)\n\nVersion 1.1.19 June 8, 2017\n---------------------------\n\n- Bug #4155: Ignore PHP 7.1 warnings about deprecated mcrypt (samdark)\n- Bug #4156: Timeout in checkMxPorts of mail validator is now configurable (kenguest, samdark)\n- Enh: Fixed PHPUnit 6 compatibility (samdark)\n- Enh: Reworked model error escaping to escape on output rather than in validators directly (Zaffy, samdark)\n\nVersion 1.1.18 April 19, 2017\n-----------------------------\n\n- Bug #4004: Better fix for PostgreSQL Session storage (GuillaumeSmaha)\n- Bug #4015: Fixed bug with missing \"disabled\" attribute in internally rendered hidden fields (rob006)\n- Bug #4020: Fixed PHP 7 related bug in CCacheHttpSession when destroying not cached sessions (dirx)\n- Bug #4034: Fixed `CHttpSession::getIsStarted()` PHP 7 compatibility (tomotomo)\n- Bug #4043: Fixed `CJavaScript::quote()` to properly escape Unicode characters (samdark)\n- Bug #4061: Fixed \"Fatal Error: Nesting level too deep - recursive dependency\" error in `CArrayDataProvider` (kf99916, andrewnester)\n- Bug #4064: Fixed CHtml::beginForm which produced wrong HTML when using an anchor in the action URL of a GET form (Mytskine)\n- Bug #4069: Fixed error with `eCRedisCache::executeCommand()` when the previous connection timeout exception was catched (taobig)\n- Bug #4104: Fixed PHP 7 compatibiltiy in Text_Highlighter (samdark)\n- Bug #4111: Fixed PHP 7.1 incompatibility with CFileCache when `$embedExpiry=false` (cebe)\n- Bug #4130: Fixed PHP 7 added an interception of the ParseError exception for the eval() usage (devcommiter)\n- Bug #4133: Fixed PHP 7 usage of the func_get_args() functions in YiiBase.php (devcommiter)\n- Enh #2819: backported masking of CSRF tokens from Yii 2.0 (samdark)\n- Enh #4049: Added '//' as a proper beginning of absolute URL in createAbsoluteUrl() method (ksowa)\n- Enh #4075: Added CClientScript::hasPackage() (samdark)\n- Chg #4033: Updated Pear/Text used by Gii so it's PHP 7 compatible (samdark)\n- Chg #4103: Updated HTMLPurifier to version 4.9.2 (samdark)\n- Chg: Updated Text_Highlighter to version 0.7.3 (samdark)\n- Chg: Fixed PHP 7.1 incompatibility in Text_Highlighter (cebe)\n\nVersion 1.1.17 January 13, 2016\n------------------------------\n- Bug #1191: Fixed undefined index in CListIterator when data removed in parent CList (steven-hadfield)\n- Bug #2881: CGridView was blocking refresh on filter field change event after previous filtering using ENTER key (sivir)\n- Bug #2921: Fixed CStatePersister read/write concurrency issue causing state data corruption (matteosistisette, samdark)\n- Bug #2993: Fixed MySQL datetime fields can have default CURRENT_TIMESTAMP (tomvdp)\n- Bug #3144: Fixed regression introduced in 1.1.16, whitespace before and after attributes in validation rules where not ignored (cebe)\n- Bug #3458: Fixed CGridView with enableHistory breaks queries containing '&' characters (nkovacs)\n- Bug #3476: Database sessions with Postgres did not work properly (c-schmitz)\n- Bug #3497: CErrorHandler messages for HTTP response codes were not matching RFCs (TeMPOraL)\n- Bug #3637: Fixed not quoting primary key in count statements (applee)\n- Bug #3696: Fixed broken case insensitiveness for Active Record count expressions introduced with fixed #268 (xt99)\n- Bug #3700: Undefined variable `$acceptedLanguage` in `CHttpRequest::getPreferredLanguage()` (cebe, ddebin)\n- Bug #3704: Fixed `CSecurityManager` to work properly is case `cryptAlgorithm` specified as array (samdark)\n- Bug #3715: `CSecurityManager::legacyDecrypt` in version 1.1.16 was not compatible with 1.1.15 method (DanaLuther)\n- Bug #3724: Fixed namespace prefix in WSDL generator for arrayType. (ametad)\n- Bug #3757: Fixed regression in 1.1.16 `CPgsqlSchema::dropIndex()` (samdark)\n- Bug #3764: Fixed regression in 1.1.16, `CEmailValidator::validateValue()` should not allow empty values to pass (cebe)\n- Bug #3833: Fixed `CHttpRequest::sendFile()` range support in case `mbstring.internal_encoding=UTF-8` (MonkeyMaster)\n- Bug #3869: jQuery Yii GridView now doesn't fail when refreshing grid via POST request (a-t)\n- Bug #3879: Numeric labels in CBreadCrumbs reindex after using array_merge (AloneCoder)\n- Bug #3890: Ensured forward compatibility of `CWebService::getMethodName()` (samdark)\n- Bug #3947: Fix error with `array_diff` when one of CDbCriteria->select contains \"false\" (askobara, cebe)\n- Bug #3974: Fixed warning when request parameter contains array (cmazx)\n- Bug #3976: Fixed MSSQL command builderto comply with the DELETE command syntax (odalecne)\n- Bug #3980: Fixed CRedisCache error when using `mbstring.func_overload` and UTF-8 as `mbstring.internal_encoding` (Lexx918)\n- Enh #2399: It is now possible to use table names containing spaces by introducing alias (devivan)\n- Enh #3457: CHttpRequest can now detect content type and decode JSON in REST method bodies. (Sibilino)\n- Enh #3686: Wrapper div of hidden fields in CForm now have style `display:none` instead of `visibility:hidden` to not affect the layout (cebe, alaabadran)\n- Enh #3738: It is now possible to override the value of 'required' html option in `CHtml::activeLabelEx()` (matteosistisette)\n- Enh #3812: Added 'validateValue' method to 'CBooleanValidator' class (UA2004)\n- Enh #3827: Added the $options parameter to be used in stream_socket_client in CRedisCache.\n- Enh #3872: Added database-based StatePersister implementation (AloneCoder)\n- Enh #3948: Enhanced CHttpRequest path info extraction for compatibility with PHP 7 (dmitrivereshchagin)\n- Enh #3949: Added `$overwriteAll` argument to `CConsoleCommand::copyFiles()` which can be set to true in noninteractive commands (dmitrivereshchagin)\n- Enh #3995: CAuthManager is now able to silence errors when using PHP 7 (samdark)\n- Enh #3998: Improved PHP 7 compatibility for CTimestampBehavior and CChoiceFormat, and for Travis CI (softark)\n- Enh: CApcCache is now able to handle PHP 7 APCu (samdark)\n- Chg #3776: Autoloader now doesn't error in case of non-existing namespaced classes so other autoloaders have chance to handle these (alexandernst)\n\nVersion 1.1.16 December 21, 2014\n--------------------------------\n- Bug #264: Fixed wrong timestamp precision value in postgres schema (nineinchnick)\n- Bug #268: Fixed Active Record count error when some field name starting from 'count' (nineinchnick)\n- Bug #788: createIndex is not using the recommended way to create unique indexes on Postgres (nineinchnick)\n- Bug #1257: CFileValidator is no longer unsafe by default to prevent setting arbitrary values. Instead, when no file is uploaded attribute is set to null (marcovtwout)\n- Bug #1635: CDateFormatter::format() with 'ZZZZZ' pattern used to return timezone in RFC 822 format, now returns in ISO 8601 format as it stated in CLDR (resurtm)\n- Bug #2235: CPgsqlColumnSchema can't parse default value for numeric field (cebe, pavimus)\n- Bug #2376: CHttpSession::regenerateID() now checks if session is started before regenerating session ID (samdark)\n- Bug #2378: CActiveRecord::tableName() in namespaced model returned fully qualified class name (velosipedist, cebe)\n- Bug #2519: CGridView and CListView fixed to be able handling special characters if history is enabled (klimov-paul)\n- Bug #2594: CLogRouter::processLogs() now ensures to clear the Logger messages so nothing is logged twice when method is called multiple times (cebe)\n- Bug #2654: Allow CDbCommand to compose queries without 'from' clause (klimov-paul)\n- Bug #2658: CBaseListView, CGridView, CListView: added note about $itemsCssClass and $pagerCssClass properties, they must not contain empty string, null or false values (resurtm)\n- Bug #2969: CPgsqlSchema::addColumn() converts column type twice (cebe, klimov-paul)\n- Bug #2741: Updated CHtml to add maxlength support to all HTML5 fields (ggirtsou)\n- Bug #2753: Fixed CErrorHandler::errorAction ignored if error occurs while AJAX request (klimov-paul)\n- Bug #2756: Fixed applying condition twice during Active Record relation lazy loading (klimov-paul)\n- Bug #2770: Fixed CClientScript renders scripts with different HTML options inside same tag (klimov-paul)\n- Bug #2778: Fixed throwing unnecessary exception in CFileValidator when validating MIME types for a file upload that failed (Rupert-RR)\n- Bug #2785: Use table name with schema in composeMultipleInsertCommand (nineinchnick)\n- Bug #2836: Fixed rendering when try-catching widget Exception while 'captureOutput' is set to true (darkheir)\n- Bug #2845: Fixed 1.1.14 regression affecting non-strict comparison in `CRangeValidator` validator (samdark)\n- Bug #2855: Fixed issue with Component::__call() and normal properties holding a Closure (cebe)\n- Bug #2862: Fixed array_merge caused renumbering of $data indexes in CHtml::radioButtonList() (ligser)\n- Bug #2864: Fixed CGridView ajax calls failing CSRF validation when ajaxType is set to POST (nineinchnick)\n- Bug #2874: Fixed duplicate columns selection for HAS_MANY relation with composite primary key (borro)\n- Bug #2876: Fixed single quotes in comments column causes syntax error in model code generated  by Gii(klimov-paul)\n- Bug #2884: Fixed problem with table alias in CActiveRecord that has been introduced in 1.1.14 (cebe)\n- Bug #2887: Fixed CFormElement is missing __isset() (bijibox)\n- Bug #2912: Add options parameter to CListView beforeAjaxUpdate (spikyjt)\n- Bug #2917: Restored ability to overwrite module alias via application config which was broken in 1.1.14 (klimov-paul)\n- Bug #2944: Fixed CDbCriteria fails to merge limit when it is 0 (softark)\n- Bug #2945: Fixed CUrlRule escapes dot (.) symbol on parsing (qiangxue)\n- Bug #2959: Fixed CFileValidator to encode file name, while composing error messages (klimov-paul)\n- Bug #2963: CAssetManager::generatePath no longer uses basename for hasing (eirikhm)\n- Bug #2970: Fixed Active Record may join same relation twice on eager loading. (klimov-paul)\n- Bug #3010: Problem with callables given as values to CDetailView. CDetailView now only allows annonymous functions to be called, all other values will be taken as value (cebe)\n- Bug #3064: Fixed problem with array to string converion in CDbMigration methods that accept array parameters (cebe)\n- Bug #3055: CAction::runWithParams() now returns consistent result even if called without parameters (cebe)\n- Bug #3087: Fixed crash on cookie validation when switching between enabling and disabling validation (cebe)\n- Bug #3113: Fixed problems with realpath(false) which can occur in combination with Yii::getPathOfAlias() when alias does not exist (cebe)\n- Bug #3134: Fixed the issue that query cache returns the same data for the same SQL but different query methods (qiangxue)\n- Bug #3144: It wasn't possible to use attributes with spaces in validation rules (samdark)\n- Bug #3179: Fixed a bug with CBreadcrumbs widget and homelink that did not use activeLinkTemplate property (mbdwey, cebe)\n- Bug #3206: Quote table names in CDbMessageSource::loadMessagesFromDb (nkovacs)\n- Bug #3233: Gii now allows base classes with absolute namespace as well, not only relative ones (etienneq)\n- Bug #3242: Removed display:none on form hidden fields (mahadazad)\n- Bug #3283: Fixed CEmailValidator to validate empty value (nukkumatti)\n- Bug #3288: Check if PHPUnit_Runner_Version exists before requiring (hjellek)\n- Bug #3302: CActiveForm::error() fixed to respect 'hideErrorMessage' option on regular render (klimov-paul)\n- Bug #3305: COciSchema column comment reading from another schema (gureedo)\n- Bug #3321: Clear stat cache after rotating log files so later file size check is not cached (cebe, jjdunn)\n- Bug #3327: Gii did not generate empty directories properly (gureedo)\n- Bug #3406: Fixed Object of class Imagick could not be converted to string (eXprojects)\n- Bug #3410: Fixed wrong translation parameter name in CPhpAuthManager::addItemChild() (klimov-paul)\n- Bug #3569: CConsoleCommand::copyFiles() did not replace DIRECTORY_SEPARATOR correctly (jmxhit)\n- Bug #3582: make sure `build autoload` produces the same output on both Windows and Unix platforms (GerHobbelt)\n- Bug: Fixed the bug that backslashes are not escaped by CDbCommandBuilder::buildSearchCondition() (qiangxue)\n- Bug: Fixed URL parsing so it's now properly giving 404 for URLs like \"http://example.com//////site/about/////\" (samdark)\n- Bug: Fixed an issue with CFilehelper and not accessable directories which resulted in endless loop (cebe)\n- Bug: CSecurityManager encryption and string comparison were enhanced (sarciszewski, Jan Ewald, tom--, ircmaxell, qiangxue, samdark)\n- Enh: Public method CFileHelper::createDirectory() has been added (klimov-paul)\n- Enh: Added proper handling and support of the symlinked directories in CFileHelper::removeDirectory(), added $options parameter in CFileHelper::removeDirectory() (resurtm)\n- Enh #89: Support for SOAP headers in WSDL generator (nineinchnick)\n- Enh #94: Web services: Implement document/literal encoding for WDSL (nineinchnick)\n- Enh #106: Added getters to CGridColumn to allow getting cell contents for extended use cases of CGridView (cebe)\n- Enh #132: Added ODBC support in CDbConnection (nineinchnick, resurtm)\n- Enh #182: CSort: allow arrays in asc/desc keys of virtual attributes (nineinchnick)\n- Enh #640: Introduce bigpk and bigint column types in each class extending CDbSchema (nineinchnick)\n- Enh #873: CStatRelation (CActiveRecord::STAT) now supports scopes (resurtm, klimov-paul)\n- Enh #1372: CDbCommandBuilder::createMultipleInsertCommand() now throws exception if data array is empty (cebe)\n- Enh #1515: Post-JOIN operations (use|force|ignore index()) support in relational queries (KonovalovMaxim, resurtm)\n- Enh #1593: Allow access to exception currently processed by CErrorHandler (klimov-paul)\n- Enh #1893: Added Schema and native connection support for the CUBRID DBMS (https://www.cubrid.org/) (kadishmal)\n- Enh #2119: add `y` pattern to CDateTimeParser (mrpelle)\n- Enh #2540: Enable CJSON to use JsonSerializable interface when serializing objects (sammousa)\n- Enh #2630: CLinkPager $nextPageLabel, $prevPageLabel, $firstPageLabel and $lastPageLabel can now be false to disable the buttons (index0h)\n- Enh #2640: Enable diff on gii generated SQL files (1allen)\n- Enh #2664: Added support for HTTP PATCH requests to CHttpRequest (cebe)\n- Enh #2683: Application views generated by webapp command are now using HTML5 by default (cebe)\n- Enh #2688: CHtml::beginForm() now supports additional HTTP methods, via a hidden `_method` field. (phpnode)\n- Enh #2722: CFileHelper::findFiles() accepts absolutePaths in $options and returns absolute paths if true or relative ones otherwise (defaults to true) (pavel-voronin)\n- Enh #2734: Request::getPreferredLanguage() is now able to select a best matching between supported and requested languages (zvirusz)\n- Enh #2737: CFileCache: added cachePathMode and cacheFileMode options to set modes used by chmod() for cache directory and files (ujovlado)\n- Enh #2758: Updated phpdoc in blog demo to match current IDE supported syntax (samdark)\n- Enh #2777: Allow Yii::import() and Yii::createComponent() to import classes that are loaded by other autoloaders e.g. composer (cebe)\n- Enh #2791: requirements/index.php: added CRYPT_BLOWFISH check for CPasswordHelper (tom--)\n- Enh #2799: Add HTML5 input support for color, datetime, datetime-local, week and search to CHtml and CActiveForm (phpnode)\n- Enh #2817: Allow specifying $colums and $refColumns arguments as array in various CDbSchema methods (mynameiszanders, samdark)\n- Enh #2850: Parameter 'id' added for 'ajaxUpdateError' js function at 'CListView' and 'CGridView' (klimov-paul)\n- Enh #2851: Improved Mime-Type detection by using the `mime.types` file from apache http project to dected mime types by file extension (cebe, pavel-voronin, trejder)\n- Enh #2852: Refactored ShellCommand to be easier to extend (samdark, mindplay-dk)\n- Enh #2908: Add insertMultiple to Migrations (luislobo)\n- Enh #3014: Allow changing the database used by ActiveRecord in beforeCount() like it is possible in beforeFind() already (cebe)\n- Enh #3023: Added support for formatting DateTime instances to CFormatter (cebe, nitso)\n- Enh #3027: Added custom encodeLabel attributes of the CMenu items (hugeval)\n- Enh #3048: CApcCache is now compatible with APCu (iobotis, samdark)\n- Enh #3049: 'cli' mode detection at CConsoleApplication improved (klimov-paul)\n- Enh #3061: 'jquery.yiiGridView' and 'jquery.yiiListView' allows to handle all update options via history state data (klimov-paul)\n- Enh #3068: Added CDbCommand::naturalLeftJoin() and CDbCommand::naturalRightJoin() (bunchachis)\n- Enh #3115: Updated phpdoc for better code completion in modern IDEs (samdark)\n- Enh #3147: Updated Request::getIsSecureConnection() to work with lower and uppercase config values (cebe)\n- Enh #3156: It is now possible to override the models PK using primaryKey() method, even if the table defines one (drLev)\n- Enh #3182: Added namespace support for controllers in subdirectories (Ekstazi, samdark)\n- Enh #3202: Adding support for the `X-HTTP-Method-Override` header in CHttpRequest (pawzar)\n- Enh #3211: Added support for PHPUnit 3.8+ in the bootstrap (JoelMarcey, samdark)\n- Enh #3222: 'summaryTagName' and 'emptyCssClass' options added to CBaseListView (klimov-paul)\n- Enh #3225: Added CForm::errorSummaryHeader and CForm::errorSummaryFooter, used like in CActiveForm::errorSummary() (rawtaz)\n- Enh #3228: Added an ability to migrate to the certain time (gorcer, resurtm)\n- Enh #3277: CHtml::checkBoxList and radioButtonList to take into account closeSingleTag for <br> (hwmaier)\n- Enh #3307: Adding attribute localeClass to CApplication (pawzar)\n- Enh #3314: Removed async from special attribute list enabling async=false for scripts (wilwade)\n- Enh #3324: Added syslog log route (miramir, resurtm)\n- Enh #3346: Added `fileHeader` option to MessageCommand (mbdwey)\n- Enh #3349: Added errorCallback to CActiveForm::$clientOptions (rusalex)\n- Enh #3351: Allow array attribute for CFileValidator even if `maxFiles` is not > 1 (cebe)\n- Enh #3359: Added merge parameter to CModule::setModules (KJLJon)\n- Enh #3391: Exception and log for not existed ClientScript package (rusalex)\n- Enh #3500: Framework now responds with HTTP protocol version requested (samdark)\n- Enh #3513: Added 'getExtensionByMimeType' method to CFileHelper class (UA2004)\n- Enh #3533: Added Yii and YiiBase classes to composer autoloader (sammousa)\n- Enh #3571: Extracted rendering of data cell in CGridView.renderTableRow() to separate method for extensibility (hijarian)\n- Enh #3623: `itemscope` attribute is now rendered as HTML5 boolean (vercotux)\n- Chg #2025: Upgraded jQuery to 1.11.1 (marcovtwout)\n- Chg #3042: CPasswordHelper::generateSalt() now returns salt with $2y$ cost (samdark)\n- Chg #3137: Upgraded HTMLPurifier to 4.6.0 (samdark)\n- Chg #3298: ListView and GridView: Added check for the existence of a href attribute in link pager (dutchakdev)\n- Chg #3464: Updated multifile plugin used by CMultiFileUpload to version 1.48 (samdark)\n- Chg #3636: Upgraded jQuery UI to 1.11.2 (marcovtwout)\n- Chg: Updated the i18n data bundled with the framework to CLDR23.1 <http://unicode.org/Public/cldr/23.1/> this adds new locales and has many fixes and additional data for existing ones (cebe, dralshehri)\n- New #2955: Added official support for MariaDB (cebe, DaSourcerer)\n\nVersion 1.1.15 June 29, 2014\n----------------------------\n- Bug (CVE-2014-4672): CDetailView may be exploited to allow executing arbitrary PHP script on the server (cebe, qiangxue)\n\nVersion 1.1.14 August 11, 2013\n------------------------------\n- Bug: There was unnecessary echo in CRUD views generated by Gii (samdark)\n- Bug: CJavaScript::encode was formatting floats in a wrong way during encoding (samdark)\n- Bug: Fixed minLength and maxLength range check in CCaptchaAction::generateVerifyCode so values are now always stay in bounds (samdark)\n- Bug #101: CActiveFinder::buildJoinTree() no longer uses 'false' for 'select' value (klimov-paul)\n- Bug #135: Fixed wrong CActiveRecord rows count with having (klimov-paul)\n- Bug #139: Fixed Active Record lazy load through relation with condition (klimov-paul)\n- Bug #150: Fixed CWidget was not switching between view paths when using themes (antoncpu)\n- Bug #159: CUploadedFile::getInstancesByName() has been fixed allowing correct fetching files, which name is a part of other file name (klimov-paul)\n- Bug #196: CActiveForm: models list whose errors should be displayed in error summary is now customizable when using AJAX validation (resurtm)\n- Bug #662: Fixed incorrect Active Record lazy loading of relation through BELONGS_TO relation (klimov-paul)\n- Bug #1464: Fixed transparent background for ImageMagick in CCaptchaAction (manuel-84, cebe)\n- Bug #1669: CNumberValidator used to add wrong error messages in case non-numeric values being validated (resurtm)\n- Bug #1692: CWebUser::renewCookie() and CWebUser::restoreFromCookie() now make use of the identityCookie options (f10i)\n- Bug #1693: Fixed log file will rotate twice when high performance (monque)\n- Bug #1724: Allow CClientScript registering scripts and script files with the HTML options (klimov-paul)\n- Bug #1732: CWebLogRoute and CProfileLogRoute with enabled $showInFireBug: fixed bug related to JS `console` object in MSIE 8 and 9 (resurtm)\n- Bug #1763: CSqlDataProvider was appending another ORDER BY string to an existing ORDER BY statement when using fieldname with dot (szako)\n- Bug #1827: Gii wasn't properly handling table name with the schema part for PostgreSQL (resurtm)\n- Bug #1895: Fixed erroneous language attributes in french views (located at `framework\\views\\fr`) (Ragazzo)\n- Bug #1909: CGridView::$filterSelector now prevents default action after event has completed by returning false result in event handler function (matih)\n- Bug #1911: MigrateCommand does not rely on cached value about migration table existance anymore as this info could be outdated in testing enviroment (cebe)\n- Bug #1915: CDataProviderIterator: fixed init in case of disabled pagination (antoncpu)\n- Bug #1916: CMssqlSchema::findColumns() issues an \"invalid object name\" error (resurtm)\n- Bug #1924: CLogFilter::$dumper added: this property can be used to get around circular reference issue when using standard `var_export` dumper by changing it to `print_r` (resurtm)\n- Bug #1933: fixed using \"multiple\" parameter with a value of false in CHtml::activeDropDownList, CHtml::ListBox and CHtml::DropDownList (adminnu)\n- Bug #1941: yiiactiveform.js form reset now uses CHtml::errorCss instead of a hardcoded value (mdomba)\n- Bug #1942: CActiveForm client/ajax validation will now remove error class from server side validation (mdomba)\n- Bug #1945: Reference to undefined variable $column in CDbMigration::dropPrimaryKey (paystey)\n- Bug #1955: Some validators used to cause warnings or errors in case non-scalar array typed values being checked (resurtm)\n- Bug #1957: Add primary key support for MySQL schema (paystey)\n- Bug #1984: CDbMigration: fix of undeclared variable usage in debug information in dropPrimaryKey (papulovskiy)\n- Bug #1990: CDateFormatter::formatWeekInMonth(): incorrect result for a week which was last in a previous year and first in a next year simultaneously (resurtm)\n- Bug #1996: Using yiic help for commands with parameters with array as default value resulted in PHP error with latest PHP versions (dInGd0nG, samdark)\n- Bug #1997: Cache key in CGettextMessageSource::loadMessages wasn't specific enough (odevyatkov)\n- Bug #2023: CHttpRequest::stripSlashes() now modifies array keys as well (etienneq)\n- Bug #2030: Fixed problem with MySQL 4.x: Undefined Index: Comment in CMysqlSchema (cebe)\n- Bug #2048: AR now uses alias from CActiveRecord::getTableAlias instead of always using default \"t\" (s-larionov)\n- Bug #2049: CStatElement relation with join option throw exception when key-field present on joined table (Yiivgeny)\n- Bug #2078: Fixed problem with \"undefined\" parameter in query string when using CListView or CGridView with enableHistory (Parpaing)\n- Bug #2086: Fixed .hgignore rule for assets folder (GeXu3, Koduc)\n- Bug #2087: CLocale: getLocaleDisplayName() was only returning the language display name, not the full locale display name (brandonkelly)\n- Bug #2112: Fixed broken yiic shell CRUD command (mbischof)\n- Bug #2121: CMssqlSchema::resetSequence() incorrectly resets sequence (resurtm, joewoodhouse)\n- Bug #2122: CActiveRecord, lazy load: 'params' from relations used in 'through' option were not applied to the final SQL statement (resurtm)\n- Bug #2123: Fixed error in plural rules handling if locale has no plural rules defined (cebe, stepanselyuk)\n- Bug #2146: CEmailValidator fix when fsockopen() can output uncatched error 'Connection refused (61)' (armab)\n- Bug #2159: Fixed SQL syntax for delete command with join in MySQL (serebrov)\n- Bug #2184: CDbHttpSession now supports MS SQL Server BLOB data type (cheuschober, resurtm)\n- Bug #2201: Cannot use \"having\" with bound params in CActiveRecord::count() (ivokund)\n- Bug #2216: CDbCommandBuilder::createInCondition() has been updated, allowing to pass array of values with mixed keys for the single type column (klimov-paul)\n- Bug #2223: CActiveForm::error does not respect CHtml::$errorMessageCss (ivokund)\n- Bug #2239: Fixed CHtml::refresh() method to use proper syntax (mdomba)\n- Bug #2241: COciSchema::resetSequence() now works the same way as the same methods for the other RDMBSes. PHPDocs of the CMssqlSchema::resetSequence(), CMysqlSchema::resetSequence(), CPgsqlSchema::resetSequence(), COciSchema::resetSequence() and CSqliteSchema::resetSequence() methods have been adjusted to fit their real functionality (resurtm)\n- Bug #2244: MessageCommand has been updated, allowing to merge string with value '0' correctly (klimov-paul)\n- Bug #2258: CJuiSliderInput didn't support string typed 'range' option (bookin)\n- Bug #2283: Gii Model Generator's tooltips are not working and always invisible (resurtm)\n- Bug #2289: CDbCacheDependency with reuseDependentData did not invalidate cache when getting cache across different requests (marcovtwout)\n- Bug #2299: CMssqlSchema: findTableNames(), getTables() and getTableNames() methods used to prepend schema prefix to the table names twice (resurtm)\n- Bug #2311: Fixed SQlite default value for timestamp CURRENT_TIMESTAMP (zeeke)\n- Bug #2321: CGettextPoFile is now able to parse multiline msgid and msgstr declarations (resurtm)\n- Bug #2325: Fixed UTF-8 troubles in CDateTimeParser (error in parsing chinese and thai dates) (s-larionov)\n- Bug #2336: PostgreSQL: CDbCommandBuilder used `NULL` instead of `DEFAULT` as default value for the primary keys of serial type (resurtm)\n- Bug #2368: Reset error CSS for ':input', which includes SELECT elements (blueyed)\n- Bug #2398: Fixed 'Undefined variable: results' E_NOTICE at CProfileLogRoute (klimov-paul)\n- Bug #2402: Fixed clientValidation incorrectly rendered as HTML attribute, when used in CActiveForm::error() (mdomba)\n- Bug #2406: CUrlManager::$urlRuleClass now supports path alias value (as it was described in its PHPDoc before this fix) (resurtm)\n- Bug #2423: Fixed CHtml::button() enforces \"value\" attribute for the image buttons (klimov-paul)\n- Bug #2426: CDbCriteria::__wakeup() used to issue an error in case SQL containing fields were arrays and criteria parameters were specified (resurtm)\n- Bug #2438: CViewAction now checks if requested view is a string to not fail when array was given (cebe)\n- Bug #2449: CSqlDataProvider causes an error when CDbCommand with enabled PDO::FETCH_OBJ mode used as SQL source (resurtm)\n- Bug #2454: Fix CMysqlColumnSchema::extractLimit for ENUM values containing comma (blueyed)\n- Bug #2491: Prevent SQL exception being thrown when inserting a row into the session table whilst regenerating the session ID (mynameiszanders)\n- Bug #2502: Fix match controller in access rule, match uniqueId instead id (slavcodev)\n- Bug #2508: Fix CHtml::activeLabel() to resolve attribute input name for tabular input with custom 'for' (klimov-paul)\n- Bug #2516: Fixed the bug that some $.fn.yiiGridView methods were not working always if a custom CGridView::template was used (buakos)\n- Bug #2524: Fixed incorrect HTTPS detection (resurtm)\n- Bug #2551: CWebUser::loginRequired() AJAX response now properly sends 403 (creocoder)\n- Bug #2554: Fixed CRangeValidator when allowEmpty is false (samdark, creocoder)\n- Bug #2565: CCaptchaAction in ImageMagick mode used to issue an exception in case $backColor or $foreColor have had leading zeros (resurtm)\n- Bug #2581: Fixed the bug with empty ajaxVar in jquery.yiilistview.js and jquery.yiigridview.js (seregagl)\n- Bug #2602: CUrlValidator and CEmailValidator now works correctly with display_errors = on and validateIDN = true (creocoder)\n- Bug #2662: CLocale::getTerritory() used to return null value even for proper input values, bug fix #1622 made in 1.1.13 has been reverted (resurtm)\n- Bug #2632: Fixed inability import non-build aliases by config on some case (Yiivgeny)\n- Bug #2651: CHttpSession was using hardcoded GC probability/divisor values (marcovtwout, cebe, samdark)\n- Enh: Better CFileLogRoute performance (Qiang, samdark)\n- Enh: Refactored CHttpRequest::getDelete and CHttpRequest::getPut not to use _restParams directly (samdark)\n- Enh #100: CLogFilter::$logVars can now be array of arrays intended for designating particular items of the $GLOBALS (resurtm, tomtomsen)\n- Enh #129: Proper support of namespaced models in forms (LastDragon-ru, Ekstazi, pgaultier)\n- Enh #169: Allow to set AJAX request type for CListView and CGridView (klimov-paul)\n- Enh #289: Gii module could be submodule of an another module (resurtm)\n- Enh #315: COciSchema::checkIntegrity() method added: allows to toggle integrity check (resurtm)\n- Enh #755: Allow to get currently running command from CConsoleApplication (klimov-paul)\n- Enh #1065: CJuiSliderInput now supports ranged slider when using it without model (resurtm)\n- Enh #1142: CSecurityManager::computeHMAC() has been made public (resurtm)\n- Enh #1353: Added onBeforeCount event to CActiveRecord (jakob-stoeck)\n- Enh #1391: CDetailView: callables (including anonymous functions for PHP 5.3+) could be used as value generators of the attributes (resurtm)\n- Enh #1447: CSqliteSchema: added enabling/disabling integrity check for sqlite (gleb-sternharz, resurtm)\n- Enh #1589: Added HTTP range responses support to CHttpRequest::sendFile (Ragazzo, samdark)\n- Enh #1604: Added method CDbCommandBuilder::createMultipleInsertCommand() to support multiple insertion (klimov-paul)\n- Enh #1725: Added CFileHelper::removeDirectory() static method (resurtm)\n- Enh #1743: Added CActiveForm::searchField() and CHtml::activeSearchField() to create HTML input field of type SEARCH (njasm)\n- Enh #1794: Added ability to change widget ID via $htmlOptions['id'] array item in: CTabView, CBaseListView, CListView, CGridView, CDetailView, CMenu, and CPortlet (umrs)\n- Enh #1796: Separate count criteria has been added to the CActiveDataProvider, it's useful for the counting queries simplification (resurtm)\n- Enh #1818: Created a CLocalizedFormatter application component that allows formatting values according to current locale (cebe)\n- Enh #1842: Added support for MySQL BIT(M) data type default values (migelsabre, cebe)\n- Enh #1847: Added COutputCache::varyByLanguage to generate separate cache for different languages (Obramko)\n- Enh #1863: Added CActiveFinder::getModel, added CActiveRecord::getActiveFinder, CExistValidator::getModel, CUniqueValidator::getModel, CActiveDataProvider::getModel, CSort::getModel (denisarius, samdark)\n- Enh #1928: Gii is now able to use table columns' comments as the attribute labels of a new generated model (resurtm, tlikai)\n- Enh #1948: Tidy up and improve html5 input support in CHtml and CActiveForm (phpnode)\n- Enh #1977: CFormatter::normalizeDateValue() now is protected instead of private to enable child classes to override it (etienneq)\n- Enh #2003: Gii now allows namespaced base classes to be defined in generators (etienneq)\n- Enh #2038: CFormatter::formatNtext() method can replace newlines with `<p></p>` not just with `<br />` as it was before (resurtm)\n- Enh #2053: CPasswordHelper has been refactored, CSecurityManager has been enhanced and is now able to generate cryptographically strong random bytes and strings (resurtm, tom--, ekerazha, samdark)\n- Enh #2062: CWsdlGenerator now supports soap indicators (sequence, choice), injecting of custom WSDL string block and generation of human-friendly documentation for complex types. Added unit test. (lubosdz)\n- Enh #2090: Allow passing array of columns to CDbSchema::addPrimaryKey() (paystey)\n- Enh #2096: CAPTCHA: non-free Duality.ttf font replaced by open/free SpicyRice.ttf (licensed under SIL OFL v1.1) (resurtm)\n- Enh #2131: Added Accept header parsing to CHttpRequest to give an array of accepted types in order of preference (Rupert-RR)\n- Enh #2135: MessageCommand can now handles Yii::t() messages with files in subfolders (firsyura)\n- Enh #2205: CActiveForm::error() now depends on CHtml::$errorContainerTag (malyshev)\n- Enh #2213: Added comment with hint on ajax validaton which may lead to duplicate entries in the database to gii form template (elmig, cebe)\n- Enh #2217: Support of the empty option for CHtml::radioButtonList() has been introduced (resurtm)\n- Enh #2254: CForm::$showErrors property has been added, it controls whether error elements of the form attributes should be rendered (resurtm)\n- Enh #2275: Added primary log rotation by copy and truncate to CFileLogRoute (bdstevens)\n- Enh #2415: Cancel current ajax request before create a new one in CGridView and CListView (gusnips)\n- Enh #2416: Avoid instantiating HTMLPurifier on each CHtmlPurifier::purify() call. Allow to pass array as argument of CHtmlPurifier::purify() (twisted1919)\n- Enh #2435: CFileCache entry expiration time could now be embedded into the cache file instead of changing file's modification time to be in future (resurtm)\n- Enh #2459: Absolute session timeout in CWebUser (ivokund)\n- Enh #2494: Allow to configure CBaseListView emptyText container tag name (ifdattic)\n- Enh #2529: Silenced all chmod calls to prevent \"chmod() operation not allowed\" error on NTFS (samdark)\n- Enh #2602: CEmailValidator and CUrlValidator now uses native PHP `idn` extension in case it is available (`idn_to_ascii` and `idn_ to_ utf8` functions) and Net_IDNA2 otherwise (resurtm, creocoder)\n- Enh #2642: Support third party autoloaders when importing classes via Yii::import() (phpnode)\n- Chg: Upgraded HTMLPurifier to v4.5.0 (samdark)\n- Chg #645: CDbConnection now throws CDbException when failed to open DB connection instead of failing with a warning (kidol, eirikhm, samdark, cebe)\n- Chg #895: Add second argument $params to client validation function (slavcodev)\n- Chg #1891: Changed order of methods in models generated by Gii and yiic, added better description of search method (hijarian, samdark)\n- Chg #2069: Upgraded jQuery BBQ Plugin to 1.4pre to fix jQuery compatibility problems (samdark)\n- Chg #2183: Vendors: phlymail's Net_IDNA was replaced by PEAR Net_IDNA2 (resurtm, DaSourcerer)\n- Chg #2187: Vendors: punycode.js updated from 1.1.1 (June 27, 2012) to 1.2.0 (October 10, 2012) (resurtm)\n- Chg #2461: Upgraded jquery star rating to 4.11 (samdark)\n- Chg #2531: Upgraded jquery masked input to 1.3.1 (samdark)\n- New: Added CRedisCache which uses redis key value store as cache backend (cebe, maxlun86)\n- New #575: Yii registering at Packagist, added composer info file (schmunk42)\n- New #1785: Added CPasswordHelper (tom--)\n- New #2178: Added Catalan Translation (ArnauAregall)\n- New #2370: New template placeholders for CHtml::radioButtonList() and CHtml::checkBoxList() (creocoder)\n- New #2530: Added 'through' option to CActiveRecord::BELONGS_TO relation (creocoder)\n\nVersion 1.1.13 December 30, 2012\n--------------------------------\n- Bug #93: Criteria modification in CActiveRecord::beforeFind() did not apply when record was loaded in relational context. See UPGRADE instructions for details on behavior change. (cebe)\n- Bug #109: formatNumber() now uses number_format() instead of round(), because of round() error in IEEE754 accuracy limitations (SonkoDmitry)\n- Bug #110: MSSQL: fixed empty $primaryKey value after saving CActiveRecord model (resurtm)\n- Bug #112: MSSQL: database abstraction layer now uses native transaction support of the SQLSRV driver (resurtm)\n- Bug #124: Added CMysqlCommandBuilder to handle JOIN directive on update commands correctly (cebe, DaSourcerer)\n- Bug #126: Fixed CWebUser::getReturnUrl(), allowing to determine default URL correctly, if CUrlManager::showScriptName is set to false (klimov-paul)\n- Bug #138: CMysqlSchema fixed to support MySQL ANSI mode (cebe)\n- Bug #140: Fixed validation CJuiButton with type buttonset (adminnu)\n- Bug #162: Eventhandler attached twice when behavior is set enabled after attaching it (cebe)\n- Bug #218: Fixed problem when using 'union' and 'order/limit/offset' in CDbCommand::buildQuery (nsanden)\n- Bug #276: Tweaked CGridView stylesheet to include a hover style for the selected row (acorncom)\n- Bug #810: Gii now adds a number to the end of relation name if same named relation already exists instead of not generating relation (n30kill, samdark)\n- Bug #835: CApplication::onEndRequest is now called at the script shutdown to make sure log is written on forceful script termination (samdark, cebe)\n- Bug #837: Fixed method CDbCriteria::__wakeup(), allowing to keep custom names for params and update all string parts for automatic params (klimov-paul)\n- Bug #959: Bug where non-lowercase keys cannot be found in CConsoleApplication::$commandMap fixed (resurtm)\n- Bug #962: Fixed handling of negative timestamps in CDateFormatter::format() (johnmendonca)\n- Bug #1094: CListView with enabled history used to clear page title in case sorting or paging performed (Opera and Firefox only) (mdomba, resurtm)\n- Bug #1095: Added missing retry_interval parameter of addServer function call in CMemCache (Lisio)\n- Bug #1181: Fixed can read but not save binary data e.g. BYTEA on PostgreSQL (karmakaze)\n- Bug #1212: Added missing .gitignore files to the application generated by WebAppCommand (resurtm)\n- Bug #1249: CHttpRequest::sendFile() outputs malformed file content in some specific circumstances (andyhu)\n- Bug #1279: CHttpRequest::sendFile() now always sends valid content-header (Ragazzo)\n- Bug #1330: SQLite column default value was incorrect for column of type string and DEFAULT NULL (cebe)\n- Bug #1344: Fixed URL problem in CGridView and CListView when enableHistory was true and unicode chars where used (mdomba, Redjik)\n- Bug #1347: CDbTestCase: table name in fixtures list enclosed into double curly brackets (e.g. 'tasks'=>':{{task}}') didn't worked properly (resurtm)\n- Bug #1351: CClientScript::registerMetaTag() now allows to register multiple meta tags with the same set of attributes (klimov-paul)\n- Bug #1364: Empty CHtml::$errorCss cause class attribute rendering errors (creocoder)\n- Bug #1381: Ignore select given by criteria or scope on stat relation (cebe)\n- Bug #1392: HostInfo was appended to CHttpRequest::redirect() location in case of using protocol relative URLs (dInGd0nG, samdark)\n- Bug #1406: Fixed the issue that false value returned from CDbCommand could not be cached properly (mdomba)\n- Bug #1407: CDbCommandBuilder::createCountCommand() used to bind parameters for unused ORDER clause and unused SELECT part (resurtm)\n- Bug #1444: Fixed CGoogleApi::register call to registerScriptFile (mdomba)\n- Bug #1478: Fixed CWsdlGenerator error when using namespaced classes (Diego-Rocha)\n- Bug #1485: CSort does not quote table alias when using CDbCriteria (undsoft)\n- Bug #1492: Fixed jQuery calls when noConflict feature was used and jQuery code was returned by ajax calls (l-nagash)\n- Bug #1499: Fixed CVarDumper highlighting \"\\\" (antoncpu)\n- Bug #1549: Fixed CFormatter::sizeFormat() to use translations from 'yii' category and corrected english default translation, also improved number formatting (cebe)\n- Bug #1552: Fixed potential vulnerability in CJavaScript::encode(): $safe parameter didn't used to be passed to the recursive method calls (resurtm)\n- Bug #1575: MessageCommand::extractMessages fails to ignore invalid category definitions (softark)\n- Bug #1584: Fixed CGridView and CListView urls when enableHistory was used with \"path\" urlFormat (mdomba)\n- Bug #1621: Fixed CCompareValidator to support {compareAttribute} in $message also on client-side (cebe)\n- Bug #1622: CLocale::getTerritory() used to return invalid territory name when locales (language tags) were specified without territory part (e.g. 'de', 'fr') (resurtm)\n- Bug #1624: Requirements page now tries all other preferred languages when the most preferred one is missing (ArtVal)\n- Bug #1625: CEmailLogRoute does not properly encode UTF8 characters contained in logs, CEmailLogRoute::$utf8 property added (mdomba, resurtm)\n- Bug #1628: Active HTTP sessions overwrote the Cache-Control header set by CHttpCacheFilter (DaSourcerer)\n- Bug #1646: CLocale::getTerritory() used to return invalid territory name when locales (language tags) were specified with script part (e.g. 'zh-Hans-CN', 'zh-Hant-HK') (resurtm)\n- Bug #1652: Fixed incorrect syntax of CDbSchema::renameTable() for SQLite, added CSqliteSchema::renameTable() method (Sarke)\n- Bug #1673: CHttpRequest::getPreferredLanguage now works according to RFC2616. Added CHttpRequest::getPreferredLanguages that returns all user accepted languages in order of preference (Rupert-RR, bwoester, cebe, samdark)\n- Bug #1676: Fixed listData() grouping when no group was specified (mdomba)\n- Bug #1716: Fixed CCodeModel::pluralize() and CConsoleCommand::pluralize() so it doesn't force lowercase the first letter in any words (nsanden)\n- Bug #1726: Fixed the error Undefined variable: json in CJSON.php when json_decode function did not exist (heyhoo)\n- Bug #1792: Fixed persistent access permissions when two identities were used in a single application run. (jhenriquemc, Fran\u00e7ois Gannaz)\n- Bug #1853: CAssetManager::publish() method will throw an exception if $forceCopy and $linkAssets are both true (resurtm, mdomba)\n- Bug: Table schema is refreshed on Gii model generation when schemaCachingDuration is used (SonkoDmitry)\n- Bug: CDbCommand::setFetchMode wasn't accepting additional arguments needed for PDO::FETCH_CLASS (samdark)\n- Bug: CCaptchaAction::validate check wasn't working properly in some cases (samdark, Qiang)\n- Enh #84: Log route categories are now accepted in form of array. Added CLogRoute::except and parameter to CLogRoute::getLogs that allows you to exclude specific categories (paystey)\n- Enh #104: Added CWebLogRoute::$collapsedInFireBug property to control whether the log should be collapsed by default in Firebug (marcovtwout)\n- Enh #117: Added CPhpMessageSource::$extensionPaths to allow extensions, that do not have a base class to use as category prefix, to register message source (rcoelho, cebe)\n- Enh #144: baseID in CHtml::checkBoxList and CHtml::radioButtonList can now be customized via htmlOptions (cebe)\n- Enh #217: Added CTypeValidator::validateValue() and CTypeValidator::$strict, better check for arrays (samdark)\n- Enh #259: CHttpRequest::getRestParams is now public (samdark)\n- Enh #291: CFormatter::formatDate and formatDateTime now also accept strings in strtotime() format (francis_tm, cebe)\n- Enh #486: CHttpSession::$gCProbability and CDbHttpSession::$gCProbability are floats now. Minimal possible $gCProbability value has been changed to the \u22480.00000005% (1/2147483647), was integer 1% before, default value left unchanged (1%) (resurtm)\n- Enh #545: Add CDataProviderIterator to allow iteration over large data sets (phpnode)\n- Enh #556: CDbColumnSchema::$comment property has been added. It stores comment for the table column, comment retrieving is working for MySQL, PgSQL and Oracle (resurtm)\n- Enh #724: Third argument of CHtml::listData() now receives anonymous function as calculator of the text field value, PHP 5.3+ only (resurtm)\n- Enh #846: Added addPrimaryKey() / dropPrimaryKey() commands to CDbMigration (ridget)\n- Enh #949: Added COciSchema::resetSequence (jazahn, samdark)\n- Enh #990: Added CArrayDataProvider::$caseSensitiveSort property which allows to control whether sorting should be case sensitive (resurtm)\n- Enh #999: Changed md5() to crypt() in docs/guide/topics.auth, docs/blog and demos/blog. Added Wiki 425 tutorial on use of crypt() (tom--)\n- Enh #1084: CDateTimeParser: MMM pattern for parsing short month names is now locale aware (resurtm)\n- Enh #1146: CFileHelper::copyDirectory recursive directory creation (senz)\n- Enh #1183: CDbCommand: added andWhere()/orWhere() which appends condition to the WHERE part of the query, in contrary of CDbCommand::where() which replaces it (resurtm)\n- Enh #1184: CEmailValidator now supports IDN (Internationalized Domain Names), added CEmailValidator::$validateIDN property (resurtm)\n- Enh #1134: CAssetManager filepath creation now can be extended thru generatePath(). Path creation is now recursive in publish(). (senz)\n- Enh #1201: CMenu now supports HTML attributes for the links' wrap element specified in $linkLabelWrapper (resurtm)\n- Enh #1228: Added ability to MessageCommand to generate translation files for multiple functions (Arne-S, samdark)\n- Enh #1238: CJuiDatePicker is now using the native altField option to handle the hidden input when type flat is used (mdomba, christiansalazar)\n- Enh #1282: CDateTimeParser: added MMMM pattern for parsing standard month names such as 'January', 'D\u00e9cembre' or 'M\u00e4rz' (resurtm)\n- Enh #1286: CUrlValidator now supports IDN (Internationalized Domain Names), added CUrlValidator::$validateIDN property (resurtm)\n- Enh #1289: Added support for column comments for MSSQL (CDbColumnSchema::$comment property) (resurtm)\n- Enh #1299: Added CSRF token validation for PUT and DELETE (miraage, samdark)\n- Enh #1369: Added CCheckBoxColumn::disabled that accepts PHP expression or anonymous function determining if checkbox for the row should be disabled (sucotronic)\n- Enh #1386: Second parameter of the CHtml::value() is now able to accept anonymous function which calculates value to be used (Qiang, resurtm)\n- Enh #1396: Added 'text/csv' mime-type for the 'csv' file extension in utils/mimeTypes.php (effectively used by e.g. CHttpRequest::sendFile()) (rawtaz)\n- Enh #1426: Behaviors are now affecting memory consumption significantly less (slavcodev, creocoder, Qiang, samdark)\n- Enh #1443: Added CHttpRequest::getRawBody() that allows reading RAW HTTP request body multiple times (itamar82, resurtm, samdark)\n- Enh #1464: CCaptchaAction now supports rendering through ImageMagick, CCaptcha::checkRequirements() changed (resurtm, SonkoDmitry)\n- Enh #1500: CSqlDataProvider now supports CDbCommand in constructor (slavcodev)\n- Enh #1507: Added support for minOccurs, maxOccurs, nillable to CWsdlGenerator. Changed most of the methods visibility to protected. Added unit tests (lubosdz)\n- Enh #1518: Allow to configure CHtml::$closeSingleTags and CHtml::$renderSpecialAttributesValue. Useful for HTML5 code (creocoder)\n- Enh #1527: Added $id argument to CClientScript::registerMetaTag that allows you to override existing tags (Alex-Code)\n- Enh #1531: CArrayDataProvider is now able to sort cutted array, where sorting column is not available in every entry (Yiivgeny)\n- Enh #1535: HTML5 special attributes added to CHtml::renderAttributes() (creocoder)\n- Enh #1538: Added CListView::ajaxUpdateError for the possibility to use a custom ajax error handler (mdomba)\n- Enh #1567: Added filterSelector property to CGridView (MonkeyMaster)\n- Enh #1581: Added 'unselectValue' to CHtml::dropDownList() and CHtml::activeDropDownList() to define default post value if no option is selected in multiple mode (creocoder, mdomba)\n- Enh #1596: Added CGridView::rowHtmlOptionsExpression to allow set HTML attributes for the row (Ryadnov)\n- Enh #1657: CDbCommandBuilder::createUpdateCounterCommand now can be used with float values (samdark, hyzhakus)\n- Enh #1658: CFormatter::formatHtml() is now more flexible and customizable through new CFormatter::$htmlPurifierOptions property (resurtm)\n- Enh #2343: Added CRequiredValidator::$trim property which determines to trim attribute value or not (AnatolyRugalev)\n- Enh: Fixed the check for ajaxUpdate false value in jquery.yiilistview.js as that never happens (mdomba)\n- Enh: Requirements checker: added check for Oracle database (pdo_oci extension) and MSSQL (pdo_dblib, pdo_sqlsrv and pdo_mssql extensions) (resurtm)\n- Enh: Added CChainedLogFilter class to allow adding multiple filters to a logroute (cebe)\n- Enh: Allow CDataProvider to use custom pagination and sorter (creocoder)\n- Enh: Value of the CHtml::activeTextArea() can now be set through $htmlOptions['value'] (resurtm)\n- Enh: Allow to customize CHtml::error() container tag (creocoder)\n- Enh: CModule::setComponents() now can reconfigure already loaded components (creocoder)\n- Enh: CLocale::getWeekDayName() weekday-number argument is now more compatible with date() function, allowing 0 and 7 for sunday (Yiivgeny, cebe)\n- Enh: Added minified jQuery BBQ (samdark)\n- Chg #1193: Upgraded jQuery to 1.8.3 (samdark)\n- Chg #1373: Upgraded jquery star rating to 3.14 (samdark)\n- Chg #1548: Upgraded jQueryUI to 1.9.2 (samdark)\n- Chg #1563: Updated CTestCase for PHPUnit 3.7.7+ (tanakahisateru, samdark)\n- Chg #1746: CDbCriteria::mergeWith() is now more consistent with all other class methods (hyzhakus, samdark)\n- Chg: MSSQL unit tests updated and actualized, added SQLSRV driver support (resurtm)\n- Chg: Added Oracle unit tests (resurtm)\n- Chg: Updated CHttpCacheFilter to use dates as specified by RFC 1123 (bramp)\n- Chg: Added punycode.js v1.1.1 (https://mths.be/punycode) and IDNA Converter v0.8.0 (http://phlymail.com/en/downloads/idna-convert.html) to the vendors (third party libraries and utilities) (resurtm)\n- New: Ported offline documentation viewer from yiidoc project. Mainly usable for translations but can be used for reading offline as well (samdark)\n\nVersion 1.1.12 August 19, 2012\n------------------------------\n- Bug #190: WSDL return tag was not generated by CWsdlGenerator when Macintosh line endings were used inside service describing docblock (resurtm)\n- Bug #1066: CMemCache: expiration time higher than 60*60*24*30 (31536000) seconds led the value to expire right away after saving (resurtm)\n- Bug #1072: Fixed the problem with getTableAlias() in defaultScope() (creocoder)\n- Bug #1076: CJavaScript::encode() was not compatible with PHP 5.1 (samdark)\n- Bug #1077: Fixed the problem with alias in CSort (creocoder)\n- Bug #1083: CFileValidator is now unsafe by default. This will prevent setting attribute when no file was uploaded (samdark)\n- Bug #1087: Reverted changes to CCookieCollection::add() introduced in 1.1.11 as they were triggering E_STRICT on some old PHP-versions (suralc)\n- Bug #1088: Fixed usage of proper CActiveForm id property when it's supplied with htmlOptions (mdomba)\n- Bug #1094: CGridView with enabled history used to clear page title in case sorting or paging performed (Opera and Firefox only) (resurtm)\n- Bug #1109: Fixed \"js:\" encoding BC-break in CHtml::ajax() and related methods introduced in 1.1.11 (samdark)\n- Bug #1120: Fixed duplicate events processing in CGridView when ENTER was pressed for filtering (mdomba)\n- Bug #1192: CHttpCacheFilter failed to comply with RFC 2616, section 10.3.5 (DaSourcerer)\n- Bug #1207: Fixed an issue in CHtml::resolveValue() which occurs when handling tabular data input (Qiang)\n- Bug #1225: Fixed the bug that $.fn.yiiGridView.getChecked was not working always if a custom CGridView::template was used (mdomba)\n- Bug #1243: Fixed the bug that when using CUrlManager::addRules with $append=false rules were added in reverse order (samdark)\n- Enh #243: CWebService is now able to deal with the customized WSDL generator classes, was hardcoded to the CWsdlGenerator before, added CWebService::$generatorConfig property (resurtm)\n- Enh #636: CManyManyRelation now parses foreign key for the junction table data internally, and provide public interface to access it (klimov-paul)\n- Enh #1163: CGridview does not create empty class attributes anymore (cebe)\n- Chg #1099: Changed connectionId dropdown to sticky text field in Gii model generator (mdomba)\n- Chg #1167: Reverted back the change to CComponent::evaluateExpression() about global function support (Qiang)\n\nVersion 1.1.11 July 29, 2012\n----------------------------\n- Bug #098: No correct identity value being returned when using Active Record and mssql (c-schmitz)\n- Bug #114: CUniqueValidator and CExistValidator now respect table alias while creating db query condition (klimov-paul)\n- Bug #145: CGettextMoFile now can parse strings with no context (eagleoneraptor)\n- Bug #148: Fixed the bug in the blog demo that was not deleting right comment when not on the first page (mdomba)\n- Bug #161: CCookieCollection::remove() now accepts an array of cookie options as a second argument to facilitate correct cookie removal (maximcherny)\n- Bug #164: CEmailValidator.checkPort now checks the port 25 of listed MX servers (DaSourcerer)\n- Bug #178: webapp creation with relative paths like ../ was not working correctly (cebe)\n- Bug #193: Changed datetime column type for postgresql from 'time' to 'timestamp' (cebe)\n- Bug #238: Fixed the problem that empty row could be selected in CGridView when there was no data (mdomba)\n- Bug #295: Sometimes CJSON::decode returns null because native json_encode has bugs and returns null. Workaround to continue decoding when result of json_decode is null (luislobo)\n- Bug #381: Fixed the bug that Gii model name input could get misspelled when autocomplete is used (mdomba)\n- Bug #417: CAttributeCollections::mergeWith() does not take into account the caseSensitive (dmtrs)\n- Bug #433: Fixed the bug that Gii model name input autocomplete was not working sometimes (mdomba)\n- Bug #449: CDbHttpSession and CDbLogRoute now use query builder instead of DAO for proper quoting (mdomba, redguy)\n- Bug #454: Removed translation on CDbConnection exception as it was creating an endless loop if the application used CDbCache (mdomba)\n- Bug #517: Rule parameter sub-patterns are not checked correctly (ranvis)\n- Bug #539: Fixed CUrlRule::createUrl() to treat sub-patterns as Unicode as parseUrl() does (ranvis)\n- Bug #553: Criteria of related AR finders was affected after performing find with relational scopes (marcovtwout)\n- Bug #618: Fixed caching of CWebUser::checkAccess() when it is called first time with and second time without $params (cebe)\n- Bug #660: Fixed error when calling CDbCache::getValues (zilles)\n- Bug #697: Fixed WSDLGenerator now generating proper namespace for certain complexTypes (BBoom)\n- Bug #749: CActiveRecord::refresh() did not work in afterSave() for new records, will now always refresh, when db entry exists (cebe)\n- Bug #769: Fixed the bug that $.fn.yiiGridView.getSelection was not working always if a custom CGridView::template was used (mdomba)\n- Bug #772: CHttpRequest::getIsSecureConnection() was failing on some conditions (bulletbee, samdark)\n- Bug #773: CGridView filters now filter on enter key in Internet Explorer (BBoom)\n- Bug #803: Arbitary non-sorting links in CDataColumn's header were not working proper way (resurtm)\n- Bug #827: Fixed the problem that CJuiSliderInput was rendering a name attribute for div element (mdomba)\n- Bug #842: Active Records insert fails in MSSQL if a column has a default value of (NULL) (c-schmitz)\n- Bug #852: Fixed the problem that CActiveForm was not revalidating fields if ajax submit was used (mdomba)\n- Bug #859: Fixed CSort::applyOrder() and CSort::getOrderBy() to use custom table aliases (troch, samdark)\n- Bug #865: CLogRoute called processLogs() even if log array was empty and caused empty emails and log files (cebe)\n- Bug #879: Fixed a possible PHP error caused by CWebUser::restoreFromCookie() in combination with CHttpRequest.enableCookieValidation (kidol)\n- Bug #901: Fixed possible encoding problem on exception (mdomba, samdark, cebe)\n- Bug #1000: Added params to profiling token in CDbCommand::execute() to be consitent with CDbCommand::queryInternal() (cebe)\n- Bug #1045: Building a query with empty array as parameter will not result in a broken sql-string anymore(suralc)\n- Bug: Fixed CMenu::isItemActive() to work properly when there is a hash in the item's url (SlKelevro)\n- Bug: Added missing return statement to CAuthItem->revoke() (mdomba)\n- Bug: CHtml::resolveValue() ignoring of array elements accessor at the beginning of the $attribute argument now works properly (resurtm)\n- Enh #120: Added ability to set cookies in an object based style without specifying the cookie-name twice (suralc)\n- Enh #136: Added ability to select database connection in Gii model generator (samdark)\n- Enh #157: Added ability to use models with objects implementing ArrayAccess as properties in CHtml::resolveValue (samdark)\n- Enh #165: Allow CCacheDependency to be reusable across multiple cache calls (phpnode)\n- Enh #171: Added support for PUT and DELETE request tunneled through POST via parameter named _method in POST body (musterknabe)\n- Enh #179: CLogger now supports filtering profile timings by multiple & wildcard categories (intel352)\n- Enh #191: Added ability to customize HTML classes of CLinkPager via its public properties (mashingan)\n- Enh #206: Added ability to pass CDbCriteria object as AR relation parameter (samdark)\n- Enh #215: Added tokens to CGridView::updateSelectors to allow adding custom selectors instead replacing only (mdomba)\n- Enh #220: The URL pointing to the Google API in CGoogleApi is now protocol relative (suralc)\n- Enh #237: The tabs of CTabView now support the property 'visible' (DaSourcerer)\n- Enh #255: Sort CArrayDataProvider when elements is CActiveDataProvider or other object (rusmaxim)\n- Enh #266: Add support for HTML5 url, email, number, range and date fields to CHtml (gregmolnar)\n- Enh #267: CDbHttpSession is now able to store binary payload such as the output of the igbinary serializer (DaSourcerer, samdark)\n- Enh #282: Added CCheckBoxColumn::headerTemplate to allow custom headers (mdomba)\n- Enh #286: Added wildcard token to CDateTimeParser (cebe)\n- Enh #294: Added deniedCallback to CAccessControlFilter and CAccessRule to allow forwarding control to a method on denial (luislobo)\n- Enh #342: Added ability to pass parameters for RBAC bizRules from CAccessControlFilter configuration (claudejanz, samdark)\n- Enh #356: Improved extendability of CDetailView by adding method renderItem() (cebe)\n- Enh #369: Added $hashKey to CCache (kidol)\n- Enh #414: Added sort parameter to yiic message command that sorts messages by key when merging (ranvis)\n- Enh #455: Added support for default value in CConsoleCommand::prompt (eagleoneraptor)\n- Enh #551: Added $safe parameter to CJavaScript::encode. If set to true, 'js:' will not be allowed. If you need to pass JavaScript, wrap your code with CJavaScriptExpression instead (samdark)\n- Enh #552: Added support for http-level caching via CHttpCacheFilter (DaSourcerer)\n- Enh #568: CHtml::getIdByName() will now convert spaces to underscore to get proper ID for HTML elements (mdomba)\n- Enh #578: Added extension checks to CMemCache (samdark)\n- Enh #581: Added formatSize method in CFormatter to format file sizes into units of different order - KB, MB, etc (brilyuhns, samdark)\n- Enh #584: Refactored WebAppCommand to be more customizable, added more PHPDoc (samdark)\n- Enh #599: Added case sensitivity check when autoloading classes (qiangxue)\n- Enh #601: added the method loginRequired() to the IWebUser interface (mdomba)\n- Enh #616: CVarDumper is now correctly highligting integer array keys (vernes, samdark)\n- Enh #641: Added support for customizing serialization methods for cache components (DaSourcerer, Qiang)\n- Enh #648: Added filterHtmlOptions property to the CGridColumn component (juban)\n- Enh #652: Added namespace to yiiGridView events, so they can be easily removed by .off() jQuery method (Bethrezen)\n- Enh #673: Changed CClientScript::scripts to be public (mdomba)\n- Enh #675: CDateFormat::format() now returns null if the parameter $time is null (mdomba)\n- Enh #690: Added sender name and proper headers for UTF8 encoding when sending e-mail in SiteController->actionContact() (mdomba)\n- Enh #766: Added 'userId' to $params in CDbAuthManager::checkAccess() and CPhpAuthManager::checkAccess() (cebe)\n- Enh #666: Added property $except to CValidator, a list of scenarios that the validator should not be applied to (resurtm)\n- Enh #839: CListView::renderItems now resolves view file only once (nizsheanez)\n- Enh #938: CFileValidator::sizeToBytes() is now public and available for using in the whole application (resurtm)\n- Enh #943: CDateTimeParser is now able to parse short textual representation of month, e.g. Jan, Jun, Aug (resurtm)\n- Enh #967: Commands from YII_CONSOLE_COMMANDS environment variable are now always added to yiic console application (schmunk)\n- Enh: CFileValidator could validate uploaded file by its MIME-type, added $mimeTypes and $wrongMimeType properties (resurtm)\n- Enh: Fixed romanian translation to use the better-supported cedilla characters (tudorilisoi)\n- Enh: Added default value to CConsoleCommand::confirm (musterknabe)\n- Enh: Allowed returning integer values as application exit code in CConsoleCommand actions (cebe)\n- Enh: Added third parameter to CHttpCookie to configure the cookie by array (suralc)\n- Enh: Added getIsFlashRequest(), proper handling of Flash/Flex request when using CWebLogRoute with FireBug (resurtm)\n- Enh: Added CBreadcrumbs::$activeLinkTemplate and CBreadcrumbs::$inactiveLinkTemplate properties which allows to change each item's template (resurtm)\n- Enh: Added full-featured behaviors and events CConsoleCommand::onBeforeAction & CConsoleCommand::onAfterAction (Yiivgeny)\n- Enh: Added HTML5 history support on ajax requests on CGridView and CListView using History.js v1.7.2-r2 (https://github.com/balupton/history.js) from Benjamin Arthur Lupton (lightglitch)\n- Enh: Changed CldrCommand to use medium dateTimeFormat and updated 18n data using newest(6546) CLDR (tanakahisateru)\n- Enh: Added CErrorHandler::getHttpHeader() to send correct HTTP error codes (pgaultier)\n- Enh: CGridView, only rows in tbody should have hover effect (mdomba)\n- Enh: CClientScript::$defaultScriptFilePosition and CClientScript::$defaultScriptPosition for controlling default $position argument for registerScriptFile and registerScript (resurtm)\n- Enh: CHttpCookie now implements __toString (suralc)\n- Enh: Ability to set namespace for module controllers using CWebModule::controllerNamespace, documentation about using namespaced controllers and modules (samdark)\n- Enh: Added possibility to set the container for CHtml::radioButtonList and CHtml::checkBoxList() (pgaultier)\n- Enh: Added zii romanian(ro) translation; edited core messages to include proper romanian characters with diacritic marks (tudorilisoi)\n- Enh: Added ILogFilter interface as an alternative to using CLogFilter as base class for implementing log filters (cebe)\n- Enh: CAssetManager, added $forceCopy property which globally forces publication of asset files and directories (resurtm)\n- Enh: WebAppCommand has ability to generate fresh application with git or hg specific files (resurtm)\n- Enh: Gii default templates: added additional metadata (PHPDoc) of the variables passed into views for better IDE autocompletion (resurtm)\n- Enh: WebAppCommand generated application: added additional metadata (PHPDoc) of the variables passed into views for better IDE autocompletion (resurtm)\n- Enh #1053: CComponent::evaluateExpression will allow using global functions as callbacks (Ekstazi)\n- Chg #384: CWebUser::changeIdentity() will now delete old unused session data file (Qiang)\n- Chg #440: Upgraded JQuery UI to 1.8.22 (samdark)\n- Chg #497: Added log component and preloaded it in default console application config in order to properly log errors (samdark)\n- Chg: Upgraded jQuery to 1.7.2 (samdark)\n- Chg: More unit tests added for CHtml (resurtm)\n- Chg: Upgraded bundled markdown parser to v1.2.5 (DaSourcerer)\n- New: Added TranslationsCommand build command aimed to help translation teams (samdark)\n\nVersion 1.1.10 February 12, 2012\n--------------------------------\n- Bug Fixed the bug introduced in 1.1.9 CActiveForm required field was not validated if left empty (mdomba)\n- Bug #1799: Better fix for bug #1799 old fix was breaking CJuiDatePicker tabular input (mdomba)\n- Bug #2284: Fixed the CActiveForm clientvalidation for tabular input (mdomba)\n- Bug #3062: Fixed the bug that using yiilite.php and CLocale will cause exception (Qiang)\n- Bug #3070: Fixed the CActiveForm JS error if there is no field rendered (mdomba)\n- Bug #3071: Fixed the bug that afterValidateAttribute was not called properly (mdomba)\n- Bug #3096: Fixed the bug when reporting an error and CHtml is not loaded (mdomba)\n- Bug #3103: Fixed the bug that CActiveForm->error() was not overloading htmlOptions (mdomba)\n- Bug #3107: Fixed the wrong encoding issue of Italian messages (Qiang)\n- Bug #3108: Fixed the bug introduced in CActiveFinder::applyLazyCondition (Qiang)\n- Bug #3166: Fixed the bug that CDbColumnSchema typecasted to NULL even for NOT NULL columns (Sam Dark)\n- Enh #3063: Gii, when generating models, tableNames will be checked against reserved PHP keywords when '*' is used (mdomba)\n- Enh #3097: Added CHttpRequest::decodePathInfo() (Y!!)\n- Enh #3101: The methods of CSecurityManager do now work correctly for the case that mbstring.func_overload is in effect (Y!!)\n- Enh #3112: Fixed the exception error display on ajax calls when YII_DEBUG is true (mdomba)\n- Enh #3121: Added more rules for proper pluralization to the pluralize() method in CCodeModel and CConsoleCommand (mdomba)\n- Enh #3153: CClientScript::addPackage() now returns CClientScript instance to support method chaining (Sam Dark)\n- Enh #3154: Removed file existance check to allow relative path and added additional headers option to xSendFile() (mdomba)\n- Enh #3169: Added CSort::SORT_ASC and CSort::SORT_DESC (Sam Dark)\n- Enh: Added CActiveForm::validateTabular() to simplify ajax validation for tabular input (mdomba)\n- Chg: HTML-encoded input values for exist and unique validators (Qiang)\n- Chg: Upgraded JQuery UI to 1.8.17 (mdomba)\n- Chg: Upgraded HTMLPurifier to v4.4.0 (Sam Dark)\n\n\nVersion 1.1.9 January 1, 2012\n-----------------------------\n- Bug: Removed unnecessary COciCommandBuilder::createInsertCommand quotes (Sam Dark)\n- Bug: CHttpRequest.sendFile() gives incorrect content length when output_handler is enabled through code or non output_handler directive (Sam Dark)\n- Bug #1356: Fixed CActiveForm ajax validation when checkBoxList or radioButtonList are used (mdomba)\n- Bug #1968: Fixed inconsistence in CActiveForm error highlighting when checkBoxList or radioButtonList are used (mdomba)\n- Bug #2603: Fixed the bug that CDbHttpSession::regenerateID call when session isn't started results in SQL error (Sam Dark)\n- Bug #2623: Fixed the bug that by setting multiple classes in CGridView itemsCssClass prevents rows being selected (mdomba)\n- Bug #2635: MigrateCommand migration execution time is now measured correctly (Sam Dark)\n- Bug #2636: CConsoleCommand::init() wasn't called in yiic shell mode (Sam Dark)\n- Bug #2773: Fixed possible CUrlManager::createUrl parameters conflict when using custom URL rule classes (Sam Dark)\n- Bug #2581: Fixed CJuiTabs - not replacing id slug in header tool tips (sebas)\n- Bug #2643: Output buffer wasn't properly cleaned on displaying error screen (Sam Dark)\n- Bug #2733: Fixed CDbCriteria parameter names collision on unserialize (mcheale, Sam Dark)\n- Bug #2786: Fixed inheritance in CLDR months parsing (mcheale, Sam Dark)\n- Bug #2822: Fixed warning when \"Host:\" isn't present or is empty in HTTP request headers (Sam Dark)\n- Bug #2853: Fixed sending of the button name in CActiveForm with enableAjaxValidation enabled (mdomba)\n- Bug #2861: Removed the nested container css class in the skeleton application views (Qiang)\n- Bug #2915: Fixed client validation in CCompareValidator to compare numbers instead of strings (mdomba)\n- Bug #2932: CAuthItem::getType() returns string while using CDbAuthManager (Sam Dark)\n- Bug #2999: CSort::getDirections, error when array is passed via $_GET (Sam Dark)\n- Bug #3018: Fixed CACtiveForm ajax validation when checkBox or radioButton are used (mdomba)\n- Bug #3029: Fixed the bug that empty items were not hidden when CMenu::hideEmptyItems is true (mdomba)\n- Bug #3033: Fixed proper array merging in CDirectoryCacheDependency->generateTimestamps (mdomba)\n- Bug #3041: Fixed possible infinite loop while processing logs (Yiivgeny, Sam Dark)\n- Bug #3042: Fixed the bug that CHttpSession::setCookieMode wasn't setting session.use_only_cookies when 'none' value was used (Sam Dark)\n- Chg: Upgraded JQuery UI to 1.8.16 (Sam Dark)\n- Chg: Upgraded jQuery to 1.7.1 (Sam Dark,mdomba)\n- Chg: Upgraded CMaskedTextField jQuery plugin (Masked Input) to 1.3, added minified version (Sam Dark)\n- Chg: Reverted back the changes made to fix issue 2284 (Qiang)\n- Chg #2647: Fixed inconvenient way of defining through relation (creocoder, Sam Dark)\n- Chg #2951: Removed CConfiguration::createObject, CController::paginate and CHtml::getActiveId deprecated since 1.0.x (Sam Dark)\n- Chg #3054: CComponent::__isset properly checks for null values (mdomba)\n- Enh #2029: Added scope support to Model::relations() (creocoder, Sam Dark)\n- Enh #2129: Added Monospace font as a fallback for source code on the exception view page (mdomba)\n- Enh #2231: Added CMenu::itemCssClass for the possibility to assign one CSS class to all menu items (mdomba)\n- Enh #2334: CHttpRequest::getPathInfo() now properly decodes both UTF-8 and ISO-8859-1 encoded URIs (Sam Dark)\n- Enh #2387: Numeric keys are now displayed in error/exception stacktrace call argument if array isn't 0..X indexed (Sam Dark)\n- Enh #2602: Better error handling in CHttpSession::open() when using PHP <5.3.0 (Sam Dark)\n- Enh #2604: CArrayDataProvider::keyField can now be set to false to use keys from $rawData array instead of a named keyField (creocoder, Sam Dark)\n- Enh #2637: Related table alias set dynamically in relational query is now available in the scopes of related model (creocoder, Sam Dark)\n- Enh #2646, #2706: Added ability to join on a specific keys (creocoder, Sam Dark)\n- Enh #2654: Enhanced CUrlManager::addRules() by allowing new rules to be inserted in front of the existing rules (Qiang)\n- Enh #2715: CMap::mergeArray now can accept multiple arrays to be merged (firejdl, Sam Dark)\n- Enh #2717: Extracted MigrateCommand::createMigrationHistoryTable method from MigrateCommand::getMigrationHistory (Sam Dark)\n- Enh #2751: Added removeOld parameter to yiic message command that allows not to add obsolete lines to translation file generated (luislobo, Sam Dark)\n- Enh #2795: Added Yii::t() to YiiBase::powered() (Sam Dark)\n- Enh #2808: Added ability to override core classes using YiiBase::classMap (Sam Dark)\n- Enh #2811: Fully automated CLDR data update, updated data to 2.0.1. Added getLanguageID, getScriptID, getTerritoryID, getRegionID, getLocaleDisplayName, getLanguage, getScript, getTerritory methods to CLocale (kshaw, Sam Dark)\n- Enh #2823: Added autocomplete for Gii \"Table Name\" field (Sam Dark)\n- Enh #2855: CWebUser::login() returns the login status (mdomba)\n- Enh #2872: Added CConsoleCommand::prompt() that asks for input and CConsoleCommand::confirm() that asks for confirmation (Sam Dark)\n- Enh #2890: Added CInlineValidator::clientValidate to set custom client validation (mdomba)\n- Enh #2914: Added CClientScript::addPackage (Sam Dark)\n- Enh #2929: Added forceDownload to xSendFile options to choose between attachment and inline disposition. (mdomba)\n- Enh #2981: Added CHtml::liveEvents to set the default global style for attaching jQuery event handlers. (mdomba, Sam Dark, Ekstazi)\n- Enh #3020: Added HTTP_REFERER information to the exception log (mdomba)\n- Enh #3024: Added CDbMigration::refreshTableSchema() that refreshes specified table schema cache (Sam Dark)\n- Enh: Documented component accessors with @property for significantly better IDE autocomplete (Sam Dark, Detonator, Athari)\n- Enh: Added CWebUser->loginRequiredAjaxResponse - value to be returned for ajax calls in case the user session has expired (mdomba)\n- Enh: CFileCache::get() does now suppress a possible PHP error which might occur on concurrent requests (Y!!)\n- Enh: jquery.yiiactiveform.js added check for form visibility to validate() to prevent JS error when using CActiveForm with jQuery dialog (mdomba)\n- Enh: removed the check for ajax call in CErrorHandler::handleException() (mdomba)\n- Enh: CAssetManager now generates different hash for files/directories with different mtime (Sam Dark)\n- Enh: Yii error screen will now display proper message like error/warning/notice (mdomba)\n- Enh: CHtml::clientchange() now uses the new jQuery on() method for event binding (mdomba)\n\nVersion 1.1.8 June 26, 2011\n---------------------------\n- Bug: Fixed a typo that may cause issue when setting custom script packages with baseUrl option for CClientScript (Qiang)\n- Bug #2001: CGridView now renders the body after the footer in order to conform to the standard (Qiang)\n- Bug #2236: CJuiTabs - added id to ajax tabs (sebas)\n- Bug #2272: Fixed the bug of undefined index css in CTreeView (mdomba)\n- Bug #2274: CDbCriteria can't merge \"with\" anymore if a scope applied another \"with\" condition (Sam Dark, Michael)\n- Bug #2275: Fixed the bug that ajax error handler was not called in case of exception (mdomba)\n- Bug #2284: Fixed the bug that CActiveForm clientValidation did not work with tabular input forms (Qiang)\n- Bug #2292: Fixed the bug that CActiveDataProvider may ignore the specified criteria for the sorting configuration (Qiang)\n- Bug #2294: Fixed the bug that duplicated PK columns may appear in the join SQL statement if custom select option is used (Qiang)\n- Bug #2303: Fixed not logging anything on WSDL service failure (Sam Dark)\n- Bug #2312: Fixed the bug that auto-incremental columns for MSSQL may return non-integers as last insert ID (Qiang)\n- Bug #2328: Fixed the bug that table names was not quoted in CDbAuthManager (mdomba)\n- Bug #2338: Fixed a typo in the client validation code for CNumberValidator (Qiang)\n- Bug #2359: Fixed the bug that checkbox in Gii view template may be hidden automatically (Qiang)\n- Bug #2377: Fixed the bug that jsonp was expected instead of JSON when using AJAX and CAutoComplete at the same page (Sam Dark)\n- Bug #2382: Fixed the bug that yiic wasn't able to run if there is no commands dir in application (Sam Dark)\n- Bug #2394: Fixed a typo in CDbCache that may cause mget() to fail (Qiang)\n- Bug #2409: Fixed the bug that CCaptcha::buttonOptions is not respected (Qiang)\n- Bug #2411: Fixed the bug that CCaptcha will fail when setting buttonType to be 'button' (Qiang)\n- Bug #2422: Fixed the bug that calling CLogger::flush(true) multiple times may cause duplication of dumped messages (Qiang)\n- Bug #2426: Fixed the bug in Gii about calling a non-static method in a static way (Qiang)\n- Bug #2463: Fixed the bug that INSERT statement created by COciCommandBuilder may fail in some cases (Qiang)\n- Bug #2475: Fixed the bug that CMssqlCommandBuilder and COciCommandBuilder don't respect parameters declared in CDbExpression when doing insertion and updating (Qiang)\n- Bug #2485: Fixed the bug that CMssqlPdoAdapter is not used when the driver is sqlsrv (Qiang)\n- Bug #2509: Fixed the bug that AR for MSSQL may fail if on different catalogues (Qiang)\n- Bug #2516: CTimestamp::getDate() produced wrong output with the default timestamp (Y!!)\n- Bug #2538: Fixed the bug that AR may join with incorrect columns (Qiang)\n- Bug #2544: Fixed the bug that setting CJuiDatePicker.language to be 'en' will use wrong language (Qiang)\n- Bug #2574: Fixed the bug that overriding CActiveRecord::primaryKey() does not set the isPrimaryKey flag for columns (Qiang)\n- Bug: CMapIterator current key wasn't initialized properly (Sam Dark, Detonator)\n- Bug: Controller generated with Gii CRUD wasn't able to handle non-integer primary key (Sam Dark)\n- Bug: Query caching may give incorrect caching results when bindParam or bindValue is used (Qiang)\n- Bug: Changing CActiveForm.errorMessageCssClass had no effect when ajax and client validation were disabled (Y!!)\n- Bug: Error when using CUniqueValidator with models indexed by specific field (Sam Dark, Yiivgeny)\n- Bug: Fixed the bug that CAssetManager doesn't set permission mode according to newDirMode and newFileModel properties when publishing a directory (Qiang)\n- Enh #2319: Added support to call behavior scope through criteria 'with'=>array('scopes'=>'behaviorScope') (Sam Dark, creocoder)\n- Enh #2262: Added warning log when a session fails to start by CHttpSession (Qiang)\n- Enh #2264: Added an option to the model code generator such that the relation generation can be disabled (Qiang)\n- Enh #2268: Added CClientScript::getPackageBaseUrl() (Qiang)\n- Enh #2273: Used better merging algorithm to build query parameters that are of array type in CUrlManager (Qiang)\n- Enh #2299: Added CAssetManager.newFileMode and newDirMode (Qiang)\n- Enh #2325: Added $option parameter to CDbCommand::select() to support special SELECT syntax (Qiang)\n- Enh #2341: More verbose log message for CModel::onUnsafeAttribute. Added model class (Sam Dark)\n- Enh #2357: Documented CWebApplication accessors with @property for better IDE autocomplete (Sam Dark)\n- Enh #2361: Added CDbConnection::pdoClass that allows to specify and use custom PDO wrapper class (Sam Dark)\n- Enh #2365: Added support for creating more complex index by using createIndex() of query builder. (Qiang)\n- Enh #2386: Added CController::renderClip() (Qinag)\n- Enh #2389: MessageCommand now accepts overwrite option determining if merge result will overwrite existing file (Sam Dark)\n- Enh #2410: Improved CHtml::error() so that it can take attribute names in tabular format (Qiang)\n- Enh #2424: CDbConnection::beginTransaction() will now trigger a trace message for better debugging (Y!!)\n- Enh #2436: Added support for allowing console applications to call createUrl() (Qiang)\n- Enh #2450: Added Ctype extension check to Yii requirements checker (Sam Dark)\n- Enh #2474: Enhanced CDbCommand::insert() and update() to support CDbExpression (Qiang)\n- Enh #2483: Added CGridView::$ajaxUrl and CListView::$ajaxUrl (Qiang)\n- Enh #2493: Added money column type to the query builder (Qiang)\n- Enh #2500: Added possibility to use a custom click handler for CButtonColumn default delete button (mdomba)\n- Enh #2524: CActiveRecord::exists() now respects the scopes applied (Qiang)\n- Enh #2532: Improved Yii class autoloader to support Web servers that do not allow changing PHP include paths. (Qiang)\n- Enh #2534: Added CHtml::decode() (Qiang)\n- Enh #2535: Added YiiBase::setLogger() (Qiang)\n- Enh #2555: Exposed CFileCache::gc() so that garbage collection can be explicitly invoked (Qiang)\n- Enh #2556: Improved exception display in ajax mode (Qiang)\n- Enh #2571: Improved the code for cleaning output buffers in CErrorHandler (Qiang)\n- Enh: XHR is now passed to CButtonColumn error JavaScript callback as a first argument (Sam Dark)\n- Enh: Added CHttpSession::regenerateID() and improved CWebUser::changeIdentity() by regenerating session ID (Qiang)\n- Enh: Added CActiveRecord::saveCounters() (Qiang)\n- Enh: Added Brazilian Portuguese translation (pt_br) of the core messages (bastardgoblin)\n- Enh: CJSON::encode() can now encode non-UTF8 data (Qiang)\n- Enh: Added CLogger::autoDump to allow writing log messages to destinations in \"real time\" (Qiang)\n- Enh: Added support for using custom URL rule classes with CUrlManager (Qiang)\n- Enh: Added input length check to email and url validators to improve security (Qiang)\n- Enh: Added support to allow registering a class autoloader after Yii's default autoloader (Qiang)\n- Enh: Unit tests for validators (Kevin Bradwick)\n- Chg #2251: Changed the constructor of CUploadedFile to be public (Qiang)\n- Chg #2258: Added support to invalidate cached content by setting COutputCache::duration to be 0 (Qiang)\n- Chg #2261: Upgraded HTMLPurifier to v4.3.0 (Sam Dark)\n- Chg #2309: Changed XML mimetype to application/xml for more interoperability (Sam Dark)\n- Chg #2370: Upgraded JQuery UI to 1.8.13 (Sam Dark)\n- Chg #2401: Upgraded jQuery to 1.6.1 (Sam Dark)\n- Chg #2452: Upgraded Blueprint CSS to 1.0.1 (Sam Dark)\n- Chg #2482: CWebService will not display source file name and error line number in production mode (Qiang)\n- Chg #2496: Setting CDbConnection::$emulatePrepare to be false will now explicitly set PDO::ATTR_EMULATE_PREPARES to be false (Qiang)\n- Chg: Changed CHtml::clientChange event binding to support custom event types and avoid conflicts when using AJAX (Sam Dark)\n- Chg: Changed all js live() calls with on() as live() is deprecated (mdomba)\n\nVersion 1.1.7 March 27, 2011\n----------------------------\n- Bug #1080: Correct recursive merging for CDbCriteria::with (creocoder, Sam Dark)\n- Bug #1624: Fixed the bug that Gii would generate only one relation for a parent that has a child with more FK linking to it (mdomba)\n- Bug #1809: Fixed the bug that CPgsqlSchema did not detect sequence names correctly in some scenarios (Qiang)\n- Bug #1984: Fixed firing event multiple times when using live()/delegate() on AJAXified pages (Ekstazi, Sam Dark)\n- Bug #2026: Fixed the bug that migration command does not respect the connectionID property value (Qiang)\n- Bug #2032: Fixed the bug that beginCache with renderDynamic was not working if used multiple times (mdomba)\n- Bug #2037: Fixed CGridView js bug on selectionChanged \"sboxname is undefined\" (mdomba)\n- Bug #2060: Fixed the bug that CWebUser::getFlashes() would return a counter array in the result (Qiang)\n- Bug #2097: CHttpRequest::getUrl() should be the same as getRequestUri (Qiang)\n- Bug #2099: Fixed CDbCriteria::mergeWith error (creocoder, Sam Dark)\n- Bug #2107: Fixed the bug that calling CSqliteSchema::resetSequence() may throw exception when no autoincrement column (Qiang)\n- Bug #2130: Fixed bug that Gii code/diff view was not starting from top (mdomba)\n- Bug #2131: Fixed the bug that CGridView ajax calls would sometime display error alert when leaving the current page (mdomba,Qiang)\n- Bug #2136: CGridView filter now uses jQuery serialize() instead of param() so that a checkbox can be used as a filter (mdomba)\n- Bug #2140: Fixed the problem that CGridView even rows where not properly rendered in Firefox and Chrome (mdomba)\n- Bug #2146: Fixed the bug in CFileHelper::getExtension, validatePath and getMimeTypeByExtension that was not finding the file extension correctly (mdomba)\n- Bug #2169: Fixed the bug that some columns are not properly quoted in MigrateCommand (Qiang)\n- Bug #2178: Fixed the bug that query builder did not recognize the AS keyword when using table alias (Qiang)\n- Bug #2183: Fixed the bug that calling CActiveDataProvider::getTotalItemCount() explicitly would make the applied scopes disappear (Qiang)\n- Bug #2188: 'join' in default scopes is now respected by STAT relations (creocoder, Sam Dark)\n- Bug #2202: Fixed the bug that when setting CJuiDatePicker.flag=true, the date picker would not appear (Qiang)\n- Bug #2214: Fixed the bug that renameColumn for MSSQL did not work correctly (Qiang)\n- Bug: Fixed the bug that a PHP notice may occur in exception view if a method in the call stack has a very complex signature (Qiang)\n- Bug: Fixed error that CGridview breaks when updating non-cgridview elements (mdomba)\n- Bug: Fixed the bug in CCheckBoxColumn, \"check all\" checkbox was not being checked/unchecked when needed (mdomba)\n- Bug: Fixed the bug in CGridView, selectionChanged was not called when \"check all\" was clicked (mdomba)\n- Bug: Fixed resetting sequence in CDbCommand::truncateTable (Sam Dark)\n- Bug: Fixed CMemCache incompatibility with some pecl-memcache and memcached versions (Sam Dark)\n- Enh #558, #1755: Added parametrized named scopes, added scopes to criteria, implemented scope criteria merging (creocoder, Sam Dark)\n- Enh #802: Added RESTful URL management (Qiang)\n- Enh #923: Improved CUrlManager::parsePathInfo() to support multi-dimensional input arrays (Qiang)\n- Enh #1117: Added support for \"through\" in Active Record relations allowing to handle association table data (creocoder, Sam Dark)\n- Enh #1285: Added support for using custom script packages with CClientScript (Qiang)\n- Enh #1741: Exposed CActiveForm::attributes and summaryID (Qiang)\n- Enh #1770: Added CDbColumnSchema::autoIncrement property to allow checking whether a DB column is auto-incremental (Qiang)\n- Enh #1782: Added updateSelector property to both CGridView and CListView (Qiang)\n- Enh #1786: Enhanced CUrlValidator by adding 'validSchemes' and 'defaultScheme' property (Y!!)\n- Enh #1784: Enhanced CWidget::getViewPath() to support returning themed view path (Qiang)\n- Enh #1792: Enhanced CGridView: on ajax error a proper message is composed and displayed or optionally sent to the custom error handler (mdomba)\n- Enh #1795: Added CFormInputElement::$enableAjaxValidation and $enableClientValidation to allow turning on/off AJAX validation for individual input fields (Qiang)\n- Enh #1816: Added $dumpLogs parameter to CLogger::flush() so that log messages can be forced to be dumped at will (Qiang)\n- Enh #1843: Added 'uncheckValue' option to CHtml::activeRadioButtonList and CHtml::activeCheckBoxList. It allows to avoid hidden field rendering (creocoder, Sam Dark)\n- Enh #1847: Exposed CClientScript::$hasScripts (Qiang)\n- Enh #1852: Added CWebUser::authTimeout to support separation between authentication timeout and session timeout (Qiang)\n- Enh #1868: CDbConnection will now open a DB connection only when needed, unless autoConnection is set true (Qiang)\n- Enh #1937: Added support to use custom input ID for input fields that need AJAX-based validation (Qiang)\n- Enh #1993: Allow AR relations across separate db connections (Qiang)\n- Enh #1996: Added support for using parameter binding with class-based actions (Qiang)\n- Enh #1999: Added CCaptchaAction::offset property in order to decrease or increase the readability of the captcha (Y!!)\n- Enh #2011: Added CDbCommand::setFetchMode to allow setting PDO result fetching mode (Sam Dark)\n- Enh #2013: When creating model with Gii, database field names will be checked to conform with PHP variable naming rules (mdomba)\n- Enh #2024: Added CHttpRequest::getPut() and getDelete() to fully support RESTful requests (Qiang)\n- Enh #2059: Added support to respect the \"target\" attribute of an element generated by CHtml with \"submit\" HTML options (Qiang)\n- Enh #2063: The CActiveForm JavaScript should now correctly trigger validaton for checkbox and radio type input fields (Y!!)\n- Enh #2068: CTimestampBehavior::timestampExpression can now be a DB expression (Qiang)\n- Enh #2093: CDataColumn will now always render a filter if the filter property is a string (Qiang)\n- Enh #2094: Added SQL statement display in debug mode when an error occurs while executing a SQL (Qiang)\n- Enh #2105: Added CButtonColumn::afterDelete so that a custom javascript function can be called after the delete function (mdomba)\n- Enh #2108: Added CGridView::blankDisplay to allow customizing blank cell display (Qiang)\n- Enh #2125: Added memcached check and hint to requirements checker (Sam Dark)\n- Enh #2133: Set default focus to the password input for Gii login page (Qiang)\n- Enh #2141: Allow the 'label' option of CMenu menu items to be optional and take an empty string value (Qiang)\n- Enh #2142: Added CWebUser::autoUpdateFlash (Qiang)\n- Enh #2143: Added htmlOptions to CTreeView::data so that additional options can be set for any tree view node (mdomba)\n- Enh #2172: Added CDbMigration::execute() (Qiang)\n- Enh #2179: Added CMultiFileUpload::options so that additional options can be passed to the constructor of the multifile object (mdomba)\n- Enh #2185: Allow the column type to be optional when specifying columns for CGridView (Qiang)\n- Enh #2197: Added $escape parameter to CDbCriteria::compare() (Qiang)\n- Enh #2198: Improved CJuiTabs so that the tab content can be skipped (Qiang)\n- Enh #2199: Added CListView::separator (Qiang)\n- Enh #2206: Added $clearErrors parameter to CModel::validate() (Qiang)\n- Enh #2209: Added CDbConnection::setAttributes() and getAttributes() to support initializing DB connection with PDO attributes (Qiang)\n- Enh #2226: Added more tokens to summaryText when CBaseListView.enablePagination is set false (Qiang)\n- Enh #2227: Exposed CActiveRecord::query() (Qiang)\n- Enh: Added CGridView::ajaxUpdateError for the possibility to use a custom ajax error handler (mdomba)\n- Enh: Allowed using CController instead of Controller with webapp generated application (Sam Dark)\n- Enh: Added ability to perform Relational query without getting related models (creocoder, Sam Dark)\n- Enh: Error page now displays associative array keys in parameter list (Sam Dark)\n- Enh: Added CController::getActionParams() and invalidActionParams() to allow customizing action parameter binding feature (Qiang)\n- Enh: Added CEvent::$params (Qiang)\n- Enh: CStringValidator now uses application charset by default if mb_strlen is available (Sam Dark)\n- Chg #2001: CGridView now renders footer after the body content (Qiang)\n- Chg #2111: Calling CActiveRecord::getRelated($name, true) now will redo the DB query even if isNewRecord is true (qiang)\n- Chg #2144: Upgraded jQuery UI to version 1.8.11 (Sam Dark)\n- Chg #2148: Upgraded jQuery to version 1.5.1 (Sam Dark)\n- Chg #2163: CConsoleCommand::usageError() will now exit with error code 1 (Qiang)\n- Chg: jQuery UI now uses minified CSS (Sam Dark)\n- Chg: Removed jQuery dimensions plugin since it's in jQuery core (Sam Dark)\n- Chg: Upgraded bgiframe to 2.1.2 (Sam Dark)\n- New #1763: Added support for performing seamless client-side data validation using CActiveForm (Qiang, hightman)\n- New #2069: Added CDateValidator (Qiang)\n- New: Added support for query caching (Qiang)\n- New: Added Lithuanian translations (tomas.valacka)\n\nVersion 1.1.6 January 16, 2011\n------------------------------\n- Bug #997: Fixed the bug that relational AR query with page-by and sorting may fail to work for SQL Server (Qiang)\n- Bug #1775: Fixed the bug that AR and Gii may fail for tables not in default schema in Oracle DB (Qiang)\n- Bug #1790: Fixed the bug that CJSON::encode may generate invalid encoding result when data contains float numbers (Qiang)\n- Bug #1799: Fixed the bug that CJuiDatePicker::$name may cause a PHP error (Y!!)\n- Bug #1819: CHttpRequest::getPathInfo() now respects encoded characters (Sam Dark, creocoder)\n- Bug #1851: CFileHelper::getMimeType() was causing an error if used with PHP 5.2 and PECL fileinfo extension (Sam Dark)\n- Bug #1858: Fixed the bug that CDbCommandBuilder::createInCondition() doesn't work with composite keys (Qiang)\n- Bug #1864: Fixed a typo in CDbCommandBuilder that disables correct handling of group and having in createCountCommand (Qiang)\n- Bug #1878: Fixed the issue that keys rendered in grid view and list view should be encoded (Qiang)\n- Bug #1879: Fixed the issue the AR does not work with PostgreSQL array column type (Qiang)\n- Bug #1891: Fixed the bug that on CListView ajax request was generating a DOM container inside itself (mdomba)\n- Bug #1902: Fixed the issue that CActiveRecord::exists() may cause ambiguous column error when used in relational query (Qiang)\n- Bug #1920: Fixed the issue that the summary displayed by CGridView and CListView may be incorrect for SQL Server (Qiang)\n- Bug #1936: Fixed the issue that flat CJuiDatePicker is not closing it's tag correctly (sebas)\n- Bug #1942: Fixed the bug that CSecurityManager::computeHMAC() generates non-standard HMAC (Qiang)\n- Bug #1945: Fixed the bug that user-supplied form ID is not honored when building a form using CForm with a model (Qiang)\n- Bug #1948: Fixed a bug in generating the number symbols of I18N data from CLDR (Qiang)\n- Bug #1975: Fixed the bug that caused a PHP error when CAssetManager::publish() tried to create a symlink in a non-existing directory (Y!!)\n- Bug: Fixed the bug that CActiveForm generates unnecessary js code about setting focus (Qiang)\n- Bug: Fixed CDateTimeParser::parse() default hour, minute and second handling when they are not used in pattern (Sam Dark)\n- Enh #1733: Updated multifile plugin used by CMultiFileUpload to version 1.47 (mdomba)\n- Enh #1771: Added $driverOptions parameter to CDbCommand::bindParam() method (Qiang)\n- Enh #1785: Added CAssetManager::$excludeFiles property to support exclusion of irrelevant files from the publishing process (Y!!)\n- Enh #1836: The contact form model of the blog demo does now make use of CCaptcha::checkRequirements (Y!!)\n- Enh #1842: CHtml::button will not render the name attribute if it is set null (Qiang)\n- Enh #1860: Changed the signature of CValidator::createValidator() to make it easier to use (Qiang)\n- Enh #1849: Updated Blueprint CSS to version 1.0 (sebas)\n- Enh #1872: Added $defaultUrl parameter to CWebUser::getReturnUrl() (Qiang)\n- Eng #1875, #1987: Added support for CLDR-based plural forms format and number placeholders to Yii::t (creocoder, Sam Dark, Qiang, dmitriy.trt)\n- Enh #1877: createAbsoluteUrl in CWebApplication and CController will now respect URL rules that already have host info built-in (Qiang)\n- Enh #1885: Added ipFilters to the Gii-created config file to reduce user confusion (Sam Dark, Steve Friedl)\n- Enh #1895: Added CDbDataReader implements Countable interface (mdomba)\n- Enh #1899: Added checkIntegrity and resetSequence for SQL Server (Qiang)\n- Enh #1929: Improved CActiveForm so that it can be used multiple times on the same page for the same type of data model (Qiang)\n- Enh #1931: CDbConnection.tablePrefix can now use an empty string as table prefix (Qiang)\n- Enh #1962: Added submenuOptions option to CMenu::items (Qiang)\n- Enh #1995: Added CDbConnection::driverMap to allow more easily customizing schema classes (Qiang)\n- Enh: Updated CLDR data to version 1.9 (Sam Dark)\n- Enh: Allowed passing multiple forms or choice format quantity parameter without wrapping it with array (Sam Dark)\n- Enh: CDbConnection::quoteColumnName and quoteTableName will properly quote table prefix and schema prefix. (Qiang)\n- Enh: Added CConsoleCommand::init() (Qiang)\n- Enh: Improved the exception display with source code for each call stack (Sam Dark, Qiang)\n- Enh: Improved the error display in console command mode (Qiang)\n- Enh: Added support for using anonymous parameters and global options in console commands (Qiang)\n- Enh: Added message translations in Czech and Croatia (Qiang)\n- Enh: Enhanced CFileLogRoute to process the logs faster (Y!!)\n- Enh: Improved IDE code completion for Yii::app()-> (Sam Dark)\n- Enh: CSort now supports relation.field notation to sort grids by related model fields (Sam Dark, denis909)\n- Enh: Added CHttpRequest->xSendFile() to process file download requests by using X-Sendfile header (mdomba)\n- Enh: Refactored CMenu by adding CMenu::renderMenuItem to make it easier to be extended (Qiang)\n- Enh: Refactored CCheckBoxColumn for better use, added CCheckColumn->selectableRows (mdomba)\n- Chg #1914: Composite foreign keys should be separated by commas in CActiveRecord::relations() (Qiang)\n- Chg #1949: CGridView will now display the first page after changing filters (Qiang)\n- Chg: isset($model->x) and isset($model['x']) are now identical for CActiveRecord models (Sam Dark)\n- Chg: Changed CHtml::clientChange() to make $live a configurable option in $htmlOptions (Qiang)\n- New #1191: Implemented the database migration feature (Qiang)\n- New: Added query builder (Qiang)\n\n\nVersion 1.1.5 November 14, 2010\n-------------------------------\n- Bug #997: Fixed the bug that relational AR query with page-by and sorting may fail to work for SQL Server (Qiang)\n- Bug #1130: Fixed the bug when renderDynamic and beginCache was used together without page caching (mdomba)\n- Bug #1244: Fixed the bug that CDbCommandBuilder::createCountCommand may generate invalid SQL when having and/or group options are used (Qiang)\n- Bug #1420: Fixed the bug that the table alias set in the model was not honored in STAT AR queries (Qiang)\n- Bug #1565: Fixed the bug that COutputCache may fail to work when used to cache whole pages (Qiang)\n- Bug #1577: Fixed the bug in CMssqlSchema::compareTableNames() (Qiang)\n- Bug #1592: Fixed the bug that the hidden field generated by CHtml::checkBox may have the same ID as the checkbox. (Qiang)\n- Bug #1615: Fixed the bug that caused CLogFilter::filter() to add context informations when the log was empty (Y!!)\n- Bug #1643: Fixed the bug that CFileValidator may cause a PHP error when using maxFiles>1 and the model attribute returning unexpected array (Qiang)\n- Bug #1647: Fixed the bug that CActiveRelation may attempt to set an undefined 'together' property when merging with a criteria (Qiang)\n- Bug #1653: Fixed the bug that in PHP 5.3 CArrayDataProvider will fail due to incorrect parameters sent to array_multisort (Qiang)\n- Bug #1655: Fixed the bug in COciSchema about checking DB schema (Qiang)\n- Bug #1673: Fixed the bug that CDbSchema::getTables() might return null table schemas (Qiang)\n- Bug #1685: Fixed the bug in COciSchema that will fail when used with DB schema (Qiang)\n- Bug #1696: Fixed the bug that CJSON and CJavaScript might serialize float numbers into local-dependent strings (Qiang)\n- Bug #1715: Fixed the bug that CActiveDataProvider.sort does not respect table alias set in the query criteria (Qiang)\n- Bug #1718: Fixed the bug that Gii may fail if the error handler or user component is customized in the main application (Qiang)\n- Bug #1719: Fixed the bug that CActiveForm->focus was not working if enableAjaxValidation was set to false (mdomba)\n- Bug #1730: Fixed the bug that CDbConnection may attempt to use \"SET NAMES\" to set charset for Oracle DB (Qiang)\n- Bug #1735: Fixed the bug that CGridView and CListView may fail to work in AJAX mode if setting pagerCssClass with multiple classes (Qiang)\n- Bug #1748: Fixed the bug that CDbDataReader does not properly reset internal pointer when it has multiple rowsets (Qiang)\n- Bug: Fixed the bug that some HTTP requests may cause a PHP notice complaining HTTP_HOST undefined in CHttpRequest (Qiang)\n- Bug: Fixed a bug in CGridView JavaScript that would fail the deletion action in IE when ajaxUpdate is set false (Qiang)\n- Bug: Fixed a bug that CFileCache may slow down performance when strlen is overloaded by mb_strlen (Qiang)\n- Enh #202: Added support for console command actions and parameter binding (Qiang)\n- Enh #970: Added CController::beforeRender() and CController::afterRender() (Qiang)\n- Enh #1081: Refactored application global state management to allow loading and saving states explicitly for long-run tasks (Qiang)\n- Enh #1126: CHtml can now properly render special HTML attributes, such as readonly, disabled, according to their boolean values (Qiang)\n- Enh #1419: CMaskedTextField, CAutoComplete, CStarRating, CJuiDatePicker, CJuiAutoComplete and CJuiSliderInput now can be used with tabular input (Sam Dark)\n- Enh #1450: Added support for theming widget views (Qiang)\n- Enh #1481: Added support for autoloading namespaced classes (Qiang)\n- Enh #1522: The attributes of CDetailView now support the property 'visible' (Y!!)\n- Enh #1546: Fixed the bug that disabling behaviors did not detach behavior event handlers (Qiang)\n- Enh #1555: Added support to allow unloading/resetting an application component by calling CModule::setComponent() (Qiang)\n- Enh #1561: Enhanced Gii tooltip feature to allow disable tooltips for certain input fields (Qiang)\n- Enh #1599: Refactored CMultiFileUpload by extending from CInputWidget (Qiang)\n- Enh #1560: Removed potential circular references in relational AR queries (Qiang)\n- Enh #1578: Added support to parse AM/PM by CDateTimeParser (Qiang)\n- Enh #1583: Upgraded HTMLPurifier to v4.2.0 (Sam Dark)\n- Enh #1591: Fixed yiic.bat to make sure it works even if the path of PHP executable contains spaces (Qiang)\n- Enh #1594: Added CWebLogRoute::ignoreAjaxInFireBug to make sure ajax calls work when showInFireBug is set to true (mdomba)\n- Enh #1596: Added 'not' property to CRangeValidator and CRegularExpressionValidator in order to support inversion of the validation logic (Y!!)\n- Enh #1598: Fixed CHttpRequest::getUserAgent() to make sure it works even if HTTP_USER_AGENT is not defined (Qiang)\n- Enh #1607: Added CDbCache::setDbConnection (Qiang)\n- Enh #1611: Added support for using composite keys in CActiveDataProvider (Qiang)\n- Enh #1618: Fixed CHttpRequest::getAcceptTypes() to make sure it works even if HTTP_ACCEPT is not defined (Y!!)\n- Enh #1625: Replaced rand() with mt_rand() for generating random private keys (Qiang)\n- Enh #1627: Added check if FreeType support is installed and enabled in GD (mdomba)\n- Enh #1633: Added $defaults to CDateTimeParser::parse() to support more reasonable datetime parsing (Qiang)\n- Enh #1641: Added PhpUnit 3.5.0RC1 and up support (Sam Dark)\n- Enh #1644: Added CModel::onAfterConstruct event and allowed CModelBehavior to respond to this event (Qiang)\n- Enh #1651: Added 'name' and 'model' properties to the attribute objects used in CActiveForm javascript code (Qiang)\n- Enh #1658: Added CAssetManager::linkAssets to support publishing assets via symbolic links (Qiang)\n- Enh #1659: Improved CHttpRequest::sendFile() and CWebService::renderWsdl() to make them more secure in case mbstring.func_overload is in effect (Qiang)\n- Enh #1661: Added CActiveForm 'reset' event handler to reset validation errors if using CHtml::resetButton() (mdomba)\n- Enh #1667: Added CDbCriteria::index to support indexing the AR query result array with the specified attribute values (Qiang)\n- Enh #1668: Added validation to ensure PHP keywords be not used as class names (Qiang)\n- Enh #1688: Refactored CDbMessageSource to allow easier extension (Qiang)\n- Enh #1699: Added capability to remove duplicated script files registered for different positions in CClientScript (Qiang)\n- Enh #1710: Upgraded treeview JavaScript to version 1.4.1 (mdomba)\n- Enh #1711: JavaScript registered in POS_LOAD will now be put in jQuery window load event instead of the previous global window load event (Qiang)\n- Enh #1742: Exposing the class map feature that was previously only available to core classes (Qiang)\n- Enh #1738: Upgraded JQuery UI to 1.8.6 (Sam Dark)\n- Enh #1740: Added CModelEvent::criteria so that in onBeforeEvent event, the query criteria can be accessed (Qiang)\n- Enh #1753: Added method chaining support for CClientScript (Qiang)\n- Enh: Added checking for empty keywords in addSearchCondition(), to prevent adding unnecessary conditions (mdomba)\n- Enh: Added flushValues() method to the cache classes (Y!!)\n- Enh: Added buttonset for CJuiButoon (sebas)\n- Enh: Improved error handling to catch errors occurring in CApplication::end() (Qiang)\n- Enh: Improved CHttpRequest::sendFile() to avoid timeout errors caused by long file downloading time (Qiang)\n- Enh: Improved action parameter binding by detecting if a parameter requires array or not (Qiang)\n- Enh: Added logging of DB query params in DB query profiling (Sam Dark, Vitaliy Stepanenko)\n- Enh: Added CDbCommand::bindValues() (Qiang)\n- Chg #1355: CHtml will no longer render null attributes in HTML tags (Qiang)\n- Chg #1540: The 'name' option set in CCheckBoxColumn::checkBoxHtmlOptions will be kept as is without any change (Qiang)\n- Chg #1678: The prompt and empty options used in CHtml methods will NOT be HTML-encoded anymore. (Qiang)\n- Chg #1680: Upgraded jQuery to version 1.4.4 (Sam Dark)\n- Chg #1756: Changed CGoogleApi::BOOTSTRAP_URL to CGoogleApi::$bootstrapUrl to allow customization (Qiang)\n- Chg: The javascript files of CListView and CGridView are now registered at the end of the page (Qiang)\n- Chg: Log filters will now be invoked only when there are some log messages available (Qiang)\n- Chg: removed destructor from CDbCache, CDbAuthManager and CDbLogRoute to avoid potential DB connection issue (Qiang)\n- New #1542: Added CTypedMap (Qiang)\n\n\nVersion 1.1.4 September 5, 2010\n-------------------------------\n- Bug #698: Now you can get and modify criteria of the current query in beforeFind() event handler (Sam Dark)\n- Bug #1031: Fixed the bug that the filters in CGridView does not work in IE (Qiang)\n- Bug #1119: Added CUploadedFile::reset() to make it more test-friendly (Qiang)\n- Bug #1176: Fixed the bug that CVarDumper doesn't highlight well strings with quotes (Qiang)\n- Bug #1376: Fixed the bug that the timestamps displayed in Web application log may not be formatted properly (Qiang)\n- Bug #1377: Fixed the bug that CStarRating did not work when not setting the model property (Qiang)\n- Bug #1382: Fixed space removal in CDbCriteria::compare() (Sam Dark)\n- Bug #1384: SET NAMES problem with MSSQL PDO Provider (Qiang)\n- Bug #1390: AR may lose precision if a column is declared as unsigned int for MySQL database (Qiang)\n- Bug #1404: CSecurityManager::validateData() fails when the data is an array (Qiang)\n- Bug #1408: CDbAuthManager may throw exception when unserializing data from auth items in PHP 5.3 (Qiang)\n- Bug #1432: AR find methods with JOIN in query criteria may populate AR objects with attribute values belonging to other tables (Qiang)\n- Bug #1435: Table alias declared in scopes may be ignored when performing relational findByPk and findByAttributes queries (Qiang)\n- Bug #1476: Fixed the bug that setting 'id' to be false will still render 'id' attribute in CHtml::radioButton and checkBox (Qiang)\n- Bug #1455: CFormButtonElement generates wrong type for button tags (Qiang)\n- Bug #1488: When using cookies with CJuiWidget jquery.cookie.js is not registered (sebas)\n- Bug #1493: ShellCommand wouldn't process logs after exiting. (Qiang)\n- Bug #1521: CUniqueValidator may incorrectly fail the validation of a non-PK column when updating both this column and the PK column (Qiang)\n- Bug #1526: CFormInputElement by default should only show error if CForm::showErrorSummary is false (Qiang)\n- Enh #954: Refactored CActiveRecord and CActiveFinder so that CActiveRecord::with() always returns the AR object itself (Qiang)\n- Enh #1019: Improved CDataFormatter for formatting numeric weekdays (Qiang)\n- Enh #1073: Allow dependencies to be set in constructor of CChainedCacheDependency. Also allow dependencies to be specified as configurations. (Qiang)\n- Enh #1087: Allow CDbCriteria to be used as dynamic relational query options (Qiang)\n- Enh #1104: Added argument \"$\" to jQuery block to prevent $ alias conflict (mdomba)\n- Enh #1108: Added option to CFileHelper::getMimeType() to allow enable and disable falling back to extension-based MIME detection (Qiang)\n- Enh #1120: Improved error handling in session write handler of CDbHttpSession (Qiang)\n- Enh #1128: Improved error reporting when assets directory does not exist or is not writable (Qiang)\n- Enh #1222: Added relations information to Gii generated model's PHPDoc (Sam Dark)\n- Enh #1244: CActiveRecord::count() now respects GROUP-BY and HAVING settings (Qiang)\n- Enh #1347: Added CPagination::validateCurrentPage (Qiang)\n- Enh #1358: Enhanced the 'together' option of HAS_MANY/MANY_MANY relations so that setting it true will ensure the related table is joined with the primary table in a single SQL (Qiang)\n- Enh #1359: Added CActiveRecord::countByAttributes (Qiang)\n- Enh #1361: Added linkLabelWrapper, firstItemCssClass and lastItemCssClass to CMenu (Qiang)\n- Enh #1366: Added CListView::itemsTagName (Qiang)\n- Enh #1371: Improved js code in gii view templates to allow easier subclassing (Qiang)\n- Enh #1392: Added CCaptchaAction::fixedVerifyCode (Qiang)\n- Enh #1400: Enhanced CActiveRecord::getAttributeLabel() to support returning labels for related object's attribute (Qiang)\n- Enh #1412: Yii::import() now throws an exception when trying to include nonexisting PHP file (Qiang)\n- Enh #1414: Several enhancements to MSSQL driver used by AR (Qiang)\n- Enh #1433: Added CMessageSource::forceTranslation (Qiang)\n- Enh #1434: Added zii message translation in Italian (enrico.detoma)\n- Enh #1440: CDbException does now provide a valid error code if possible (Y!!)\n- Enh #1443: Added CCheckBoxColumn::checked to allow settings checked state for each CCheckBoxColumn row (Sam Dark)\n- Enh #1444: Added CFilter::init() (Qiang)\n- Enh #1449: Changed CDbCriteria's base class to be CComponent to better report configuration errors (Qiang)\n- Enh #1461: Enhanced CEmailLogRoute to support additional email headers (Y!!)\n- Enh #1471: CActiveForm AJAX validation should be cancelled when the form is already submitted (Qiang)\n- Enh #1509: Improved CMarkdownParser so that it can be used in console mode (Qiang)\n- Enh #1525: Added support to allow customizing 'name' attribute of checkboxes generated by CCheckBoxColumn (Qiang)\n- Enh #1532: Exposed the serviceName and namespace properties of CWsdlGenerator (Qiang)\n- Enh: Added CPortlet::hideOnEmpty property (Qiang)\n- Enh: Added CValidator::safe to allow marking a validator as safe or unsafe (Qiang)\n- Enh: Added CDbCacheDependency::params (Qiang)\n- Enh: Added CUrlManager::addRules() (Qiang)\n- Enh: Added support for using sqlsrv driver with MSSQL (Qiang)\n- Enh: Added CActiveForm::focus to set input focus on page load (mdomba)\n- Chg #1102: Added jQuery UI as a core client script package (Qiang)\n- Chg #1309: CHttpRequest::getPathInfo() now always returns decoded results (Qiang)\n- Chg #1494: CHtml::ajaxSubmitButton() will generate a submit button (Qiang)\n- Chg #1515: CModel::onUnsafeAttribute() will be invoked only when $safeOnly is true when calling CModel::setAttributes (Qiang)\n- Chg: Replaced jQuery live() with delegate() in CHtml-generated js code (Qiang)\n- New: Upgraded JQuery UI to 1.8.4 (Sam Dark)\n- New: Upgraded code highlighter: added sh and VBScript, fixed comments in CSS and hex numbers in JavaScript (Sam Dark)\n- New: Added CSqlDataProvider and CArrayDataProvider (Qiang)\n- New: Added support for automatic action parameter binding from $_GET (Qiang)\n\nVersion 1.1.3 July 4, 2010\n--------------------------\n- Bug #856: Logout doesn't work when CWebUser::identityCookie is configured and allowAutoLogin is set true (Qiang)\n- Bug #1027: CButtonColumn->buttons is ignored (Sam Dark)\n- Bug #1039: Table prefix feature did not work with PostgreSQL and AR (Qiang)\n- Bug #1046: Fixed the bug that CDbFixtureManager did not properly initialize the fixture data (Qiang)\n- Bug #0147: Fixed the bug that changing CAuthItem.description value would cause an exception when using CPhpAuthManager (Qiang)\n- Bug #1050: Fixed the bug that filter conditions were prefilled with default values when using an AR model in CGridView (Qiang)\n- Bug #1109: CActiveRecord::getRelated() did not refresh when setting the $refresh parameter to be true (Qiang)\n- Bug #1142: Fixed the character encoding in polish translations (pawel.drylo)\n- Bug #1149: CHtml::resolveName() does not work with multiple dimensional attributes (Qiang)\n- Bug #1176: CVarDumper may omit some backslashes in the syntax-highlighted display (Qiang)\n- Bug #1190: CLocale::getMonthNames may fail due to a typo (Qiang)\n- Bug #1208: Unsigned integer column type was not handled correctly (Qiang)\n- Bug #1213: Fixed the bug that skipOnError doesn't have effect on inline validators (Qiang)\n- Bug #1226: CWebUser::autoRenewCookie does not handle the case when the user is already logged in (Qiang)\n- Bug #1227: CActiveRecord::resetScope doesn't work with default scope (Sam Dark)\n- Bug #1231: CPgsqlColumnSchema may incorrectly parse the default column when DB expression is used (Qiang)\n- Bug #1241: DB search parameters should have special characters escaped (Qiang)\n- Bug #1242: Fixed the bug that CGridView filtering and item deletion would not work when ajax-update is disabled (Qiang)\n- Bug #1252: CJSON::encode() was not able to encode models and model arrays (Sam Dark)\n- Bug #1262: Fixed the bug that CDbFixtureManager was unable to load fixture data if table prefix feature is used (Qiang)\n- Bug #1292: CDateTimeParser::parse() did not honor the number of digits in the required format in some cases (Qiang)\n- Bug #1293: Added tag to initial CAPTCHA image URL to avoid caching issue (Qiang)\n- Bug #1295: CHtml::beginForm() would generate useless CSRF field when in GET mode (Qiang)\n- Bug: Fixed AR memory leaks on PHP<5.3 (Sam Dark, parpaing)\n- Enh #217: Added support to allow using related objects as selection values in CHtml (Qiang)\n- Enh #663: Improved CSecurityManager to allow customizing the crypt/hash algorithms being used (Qiang)\n- Enh #716: Improved the performance of statistical query in AR (Qiang)\n- Enh #862: Enhanced CSort virtual attributes and support for related tables (Qiang)\n- Enh #887: Relative URL's will be returned when using a parameterized hostname url rule that has the current hostinfo (Qiang)\n- Enh #930: Updated CStarRating's jQuery plugin to v3.13, updated jQuery Metadata plugin (Sam Dark)\n- Enh #952: Enhanced support for using defaultParams in CUrlManager (Qiang)\n- Enh #1015: Added automatic column initialization when non-active data provider is used for CGridView (Qiang)\n- Enh #1022: Added CMenu::activateItems (Qiang)\n- Enh #1041: Added support to allow skinning pagers used in CGridView and CListView (Qiang)\n- Enh #1043: Improved view resolution to support using themeable application views in a module (Qiang)\n- Enh #1049: Enhanced label generation when using CDetailView with associative arrays (Qiang)\n- Enh #1127: Added support to automatically generate maxlength attribute for text/password inputs based on model rules (Qiang)\n- Enh #1151: Added support to generate grid column header based on attribute names (Qiang)\n- Enh #1158: Added translations in Latvian (lafriks)\n- Enh #1166: Added CActiveRecord::setOldPrimaryKey (Qiang)\n- Enh #1174: AR's count() now generates more reasonable SQL statement when 'group' option is specified (Qiang)\n- Enh #1179: Added CMultiFileUpload::file (Qiang)\n- Enh #1180: Exposed several member variables in CClientScript to be protected (Qiang)\n- Enh #1183: Added support to retrieve the currently active table alias in AR scopes (Qiang)\n- Enh #1188: Removed exception message display in production mode when a DB connection fails to improve security (Qiang)\n- Enh #1189: Added $loadedOnly parameter to CModule::getComponents() so that it can return all application components including unloaded ones (Qiang)\n- Enh #1199: AR's count() method now respects the 'select' option in the query criteria (Qiang)\n- Enh #1202: Added support for using anonymous functions as component property values (Qiang)\n- Enh #1203: Gii now respects the newDirMode and newFileMode settings even when lower umask is set (Qiang)\n- Enh #1210: Added support to generate proper labels for relational properties in CDetailView (Qiang)\n- Enh #1225: Added 'firstError' option to CHtml::errorSummary() to support displaying only the first error message of each model attribute (Qiang)\n- Enh #1232: Added CAuthManager::showErrors. When value is true Yii will turn on error_reporting for RBAC bizRules. False by default (Sam Dark)\n- Enh #1239: CBreadcrumbs should have the 'Home' label translated (Qiang)\n- Enh #1245: Optimized the implementation of checkAccess of CPhpAuthManager and CDbAuthManager (Qiang)\n- Enh #1261: Added magicFile parameter to CFileHelper::getMimeType() and getMimeTypeByExtension() (Qiang)\n- Enh #1268: Added isset and unset support to behavior properties in a component context (Qiang)\n- Enh #1271: Added CWebUser::getFlashes() (Qiang)\n- Enh #1276: Added CClientScript::coreScriptPosition to support customizing the insertion position of core scripts (Qiang)\n- Enh #1278: Gii model generator will now respect the table prefix when determining which tables the models should be generated for (Qiang)\n- Enh #1283: Added port and securePort properties to CHttpRequest (Qiang)\n- Enh #1284: Added support to allow passing an AR finder as the first parameter of the constructor of CActiveDataProvider (Qiang)\n- Enh #1286: Upgraded HTMLPurifier to v4.1.1 (Qiang)\n- Enh #1289: Added support to allow using non-string values when calling CDbCriteria::compare() (Qiang)\n- Enh #1290: Added cssClass to individual item in CDetailView (Qiang)\n- Enh #1306: Hide log route outputs when no messages are collected after filtering (Qiang)\n- Enh #1311: Added {page} and {pages} tokens to CBaseListView::summaryText (Qiang)\n- Enh #1326: Added CBaseActiveRelation::join property (Qiang)\n- Enh: CActiveRecord::beforeFind event is now triggered in all cases including related models with both lazy and eager loading (Sam Dark, creocoder)\n- Enh: Added support for using array-typed model attributes in active methods in CHtml (Qiang)\n- Enh: Added beforeValidate, afterValidate, beforeValidateAttribute and afterValidateAttribute options to CActiveForm (Qiang)\n- Enh: Changed @var declarations to class @property declarations in gii and yiic shell model templates (Sam Dark)\n- Enh: IDE code completion for CActiveRecord::attributes (Sam Dark)\n- Enh: Added beforeLogin, afterLogin, beforeLogout and afterLogout to CWebUser (Qiang)\n- Enh: Enhanced CSort::defaultOrder to allow using virtual attribute names (Qiang)\n- Chg #1323: Conditions declared in scopes of the related AR classes will be put in the ON clause of the JOIN statement (Qiang)\n- Chg: CAutoComplete is now deprecated (Sam Dark)\n- New: Added CJuiButton (sebas)\n\nVersion 1.1.2 May 2, 2010\n-------------------------\n- Bug #676, 891: merging criterias with parameters is impossible (Sam Dark)\n- Bug #1006: Setting CForm::attributes may cause exception (Qiang)\n- Bug #1007: CActiveForm did not update the validation result correctly when change of one attribute affects the validity of another (Qiang)\n- Bug #1014: CDataProvider was accessing non-existing property modelClass (Qiang)\n- Bug #1021: Missing return in CAuthItem::removeChild (Sam Dark)\n- Bug #1031: Added a temporary fix for dropdown filter in CGridView not working in IE (Qiang)\n- Bug #1035: RBAC BizRule security violation (Sam Dark)\n- Bug #1048: CAutoComplete conflicts with jQueryUI 1.8.x (Sam Dark)\n- Bug #1115: Fixed the bug that using bigint with MySQL, PostgreSQL and SQL Server may lose precision (Qiang)\n- Bug #1121: typo in CActiveRecord::setPrimaryKey() (Qiang)\n- Bug #1136: Fixed wrong API call in CXCache::flush() (Qiang)\n- Bug #1147: zii widget messages are not translated via Yii::t() (Sam Dark)\n- Bug: Removed the debugging line in CActiveFinder that caused many-many relational query to fail if FKs are not defined (Qiang)\n- Bug: Fixed the bug that doing performance profiling while turning on YII_TRACE_LEVEL would throw exception (Qiang)\n- Bug: user was redirected to AJAX URLs after logging in (Sam Dark)\n- Bug: RBAC rules with bizRule and caching enabled worked wrong (Sam Dark)\n- Bug: CSort may cause exception if an invalid column is to be sorted (Qiang)\n- Bug: AR count() does not generate correct SQL when distinct is set true in the criteria (Qiang)\n- Bug: Relational AR query may complain column not well defined when the column select spans multiple lines (Qiang)\n- Enh #943: dynamic AR relations (Sam Dark)\n- Enh #946: Added a new parameter to CBaseController::widget() method to allow capturing the output of the widget (Qiang)\n- Enh #977: Added CModel::getValidatorList() to allow adding/removing validation rules on the fly (Sam Dark, creocoder)\n- Enh #1001: Added CActiveRecord::resetScope() that resets all scopes and criterias applied including default scope (Sam Dark)\n- Enh #1009: Allow quoted columns in CDbCriteria::select when performing relational query (Qiang)\n- Enh #1025: added 'uncheckValue' option to CHtml::radioButton() and CHtml::checkBox() (Jonah)\n- Enh #1042: CForm __construct now uses setModel() instead of assigning _model directly (Sam Dark)\n- Enh #1062: Added CDbCriteria::addBetweenCondition() (Sam Dark)\n- Enh #1071: Optimized file copying in CUploadedFile::saveAs() (Sam Dark)\n- Enh #1084: Added CLocale::getOrientation() to return character orientation information of a locale (Qiang)\n- Enh #1091: Added support to allow using normal PHP views with special views recognized by the installed view renderer (Qiang)\n- Enh #1093: CJSON now tries to use native PHP functions prior to use Yii implementation (Sam Dark)\n- Enh #1140: Added CHttpSession::get() (Qiang)\n- Enh #1156: Updated jQuery BBQ to 1.2.1 (Sam Dark)\n- Enh #1282: Added support to configure widget default values in application configuration (Qiang)\n- Enh: Improved IDE code completion for generated AR models (Sam Dark)\n- Enh: CCaptchaAction now supports unlimited tests by setting its testLimit to be 0 (Qiang)\n- Enh: Added $forceCopy parameter to CAssetManager::publish() (Qiang)\n- Enh: CTypeValidator now supports checking array data (Qiang)\n- Enh: Added CFileHelper::getExtension() (Qiang)\n- Enh: Added CModule::hasModule() (Qiang)\n- Enh: CFileValidator now works with php.ini's upload_max_filesize strings with K, G, k, m, g (Sam Dark)\n- Enh: Enhanced CActiveForm to make it more robust in case some code error occurs when performing ajax validation (Qiang)\n- Enh: CMaskedTextField's jquery.maskedinput updated to 1.2.2 (Sam Dark)\n- Enh: Added support to allow CActiveRecord::getAttributes() to return custom attributes if required (Qiang)\n- Chg #1118: CActiveRecord::refresh() now updates the record by directly updating the attributes array (Qiang)\n- Chg #1125: Ability to use model metadata in behavior's attach() method (Sam Dark)\n- Chg #1163: CLinkPager will enable first and last page buttons unless the current page is first or last. (Qiang)\n- Chg #1164: CUrlRule will not throw 404 exception when unable to parse a URL under strict parsing mode (Qiang)\n- New #1005: added CWinCache (Sam Dark)\n- New #1013: Added CJuiAutoComplete (sebas)\n- New: Added Ukrainian translations (Valeriy)\n- New: Upgraded JQuery UI to 1.8.1 (Qiang)\n\nVersion 1.1.1 March 14, 2010\n----------------------------\n- Bug #727: AR may lose precision for numbers of bigint type (Qiang)\n- Bug #738: COciColumnSchema must return 'double' if precision and scale designators of NUMBER field are absent (Qiang)\n- Bug #816: CUniqueValidator did not work with CFormModel (Qiang)\n- Bug #823: typo in CLinkColumn about linkHtmlOptions (Qiang)\n- Bug #839: typo in CFormatter about calling method_exists() (Qiang)\n- Bug #865: CWidgetFactory didn't set the owner of the newly created widgets correctly (Qiang)\n- Bug #869: CDateFormatter::formatTimeZone() may report error for certain locale data (Qiang)\n- Bug #871: A module generated by the yiic module command did not use the application layout by default (Qiang)\n- Bug #890: The 'alias' option set in default scope was ignored when performing an eager relational query (Qiang)\n- Bug #932: CLocale::getWeekDayName() causes PHP error when requesting 'narrow' format data (Qiang)\n- Bug #947: CTabView does not target tab links correctly when extra elements are put in the header (Qiang)\n- Bug #957: CGettextPoFile should allow optional msgctxt (Qiang)\n- Bug #967: CFormInputElement doesn't respect element-id if set (Sam Dark)\n- Bug #988: COcSchema::quoteTableName() and quoteColumnName() should quote the names (Qiang)\n- Bug #995: The 'alias' option set in default scope was ignored when some find methods in AR (Qiang)\n- Bug #996: \"yiic message\" command generates incorrect message file name when used in a module context (Qiang)\n- Bug #14 (zii): Added documentation about the \"js:\" prefix in CJuiSortable (sebas)\n- Bug #18 (zii): Change the way CJuiDatePicker sets its language option (sebas)\n- Bug #27 (zii): Fixed the issue that when CSRF is turned on, delete button doesn't work for CGridView (Qiang)\n- Bug: Setting the 'with' option in criteria array doesn't trigger eager loading for AR (Qiang)\n- Bug: CActiveRecord should update oldPrimaryKey after calling save() (Qiang)\n- Bug: CForm renders invalid 'name' and 'type' attributes when used to generate nested forms (Qiang)\n- Bug: Fixed the bug that beforeAjaxUpdate/afterAjaxUpdate of CGridView/CListView do not take effect.\n- Bug: Fixed the bug that the names of URL parameters were not encoded (Qiang)\n- Bug: CGridView and CListView may not register the needed CSS file for the pager (Qiang)\n- Enh #38: Added support to allow CHtml links and buttons work in AJAX responses (Qiang)\n- Enh #392: Added CStringValidator::encoding to support checking the length of multibyte strings (Qiang)\n- Enh #686: Added CUrlManager::setBasePath() (Qiang)\n- Enh #726: Added CDbExpression::params (Qiang)\n- Enh #794: Added support to allow using * to select all primary table columns in relational AR query (Qiang)\n- Enh #820: Added CAccessRule::message to allow customizing authorization error message (Qiang)\n- Enh #826: Added CMenu::itemTemplate property and template option for each menu item (Qiang)\n- Enh #857: Added $exit parameter to CController::forward() (Qiang)\n- Enh #872: Added CFlexWidget::allowFullScreen (Qiang)\n- Enh #888: Added CBaseUserIdentity::setPersistentStates (Sam Dark)\n- Enh #898: Added support to allow defining global yiic commands (Qiang)\n- Enh #912: Added CModel::onUnsafeAttribute() which will log a warning message when massively assigning unsafe attributes (Qiang)\n- Enh #916: Added visible option to buttons in CButtonColumn (Qiang)\n- Enh #918: Added support to show attribute name as the label when displaying an array using CDetailView (Qiang)\n- Enh #936: Current module ID is no longer needed when calling CController::forward() (Qiang)\n- Enh #941: AR now allows MANY_MANY relation to be specified more flexibly (Qiang)\n- Enh #953: Added CGridView::hideHeader (Qiang)\n- Enh #955: Added validateValue() to CUrlValidator and CEmailValidator (Qiang)\n- Enh #971: Added CDbCriteria::addNotInCondition() (Sam Dark)\n- Enh #992: Added 'data' option to CTabView.tabs property (Qiang)\n- Enh: Refactored the blog demo to make use of the new CActiveForm and the filtering feature of CGridView (Qiang)\n- Enh: Improved the code generated by yiic, including menu refactoring, filtering/search support, and using active form (Qiang)\n- Enh: Improved CHtml::beginForm() to auto-generate hidden fields for a GET form whose action contains query string (Qiang)\n- Enh: Added CDataProvider::setTotalItemCount() (Qiang)\n- Enh: Added skipOnError property to built-in validators (Qiang)\n- Enh: Added CDbConnection::initSQLs (Qiang)\n- Enh: Added CHtml::refresh() (Qiang)\n- Enh: Added CListView.loadingCssClass and CGridView.loadingCssClass (Qiang)\n- Enh: Added filtering support for CGridView (Qiang)\n- Enh: Added 'template' option to each attribute specification in CDetailView (Qiang)\n- Chg #841: Changed CUrlManager::parsePathInfo() to non-static (Qiang)\n- Chg #851: yiic tool no longer turns off E_NOTICE (Qiang)\n- Chg #949: The init() method will be invoked after an AR instance is created by the find methods (Qiang)\n- Chg #974: CComponent::evaluateExpression() no longer suppresses expression error (Qiang)\n- Chg #978: CActiveRecord::afterSave() will now be invoked only when the saving is successful (Qiang)\n- Chg: Upgraded jquery to version 1.4.2 (Qiang)\n- Chg: CMenu will render the 'active' CSS class in the container tag of the link (Qiang)\n- Chg: Set the default theme for JQuery UI widgets to be 'base' (Qiang)\n- New: Added CActiveForm that performs model validations via AJAX (Qiang)\n- New: Added 'form' command to the 'yiic shell' tool (Qiang)\n- New: Upgraded JQuery UI to 1.8rc3 (Qiang)\n\nVersion 1.1.0 January 10, 2010\n------------------------------\n- Bug #720: The new table prefix feature does not work with many-many relationship in AR (Qiang)\n- Bug #735: CDbCriteria should save 'with' attribute when toArray() is called (Qiang)\n- Chg #796: The alias name for the primary table in a relational AR query is changed to be 't' (Qiang)\n- Chg: renamed CDetailView::model to be 'data'. renamed 'dataField' and 'dataExpression' to be 'name' and 'value' for grid view columns. (Qiang)\n- Enh #656: Added support to indicate the size of enum column type for MySQL schema (sebas)\n- Enh #767: Added CUrlRule::matchValue option to support creating URLs only when a rule's parameter value patterns are matched. (Qiang)\n- Enh: Improved the default code generated by the yiic tool (Qiang)\n- Enh: Refactored the blog demo (Qiang)\n- New: Added CFormatter and CApplication::format (Qiang)\n- New: Added CController::forward() and CController::route (Qiang)\n- New: Added CTimestampBehavior to automatically set timestamps in AR (Jonah)\n- New: Added CBaseMenu and CListMenu to aid in creating menus (Jonah)\n- New: Added CJuiWidget (sebas, Qiang)\n- New: Added CJuiInputWidget (sebas, Qiang)\n- New: Added CJuiSlider (sebas, Qiang)\n- New: Added CJuiSliderInput (sebas)\n- New: Added CJuiAccordion (sebas, Qiang)\n- New: Added CJuiProgressBar (sebas, Qiang)\n- New: Added CJuiTabs (sebas, Qiang)\n- New: Added CJuiDatePicker (sebas, Qiang)\n- New: Added CJuiSortable (sebas)\n- New: Added CJuiDialog (sebas)\n- New: Added CJuiSelectable (sebas)\n- New: Added CJuiDroppable (sebas)\n- New: Added CJuiResizable (sebas)\n- New: Added CJuiDraggable (sebas)\n- New: Added CGridView (Qiang)\n- New: Added CDetailView (Qiang)\n- New: Added CListView (Qiang)\n- New: Added CPortlet (Qiang)\n- New: Added CBreadcrumbs (Qiang)\n\nVersion 1.1rc December 13, 2009\n-------------------------------\n- Bug #713: webapp command generates incorrect test bootstrap script (Qiang)\n- Bug #724: the rememberMe attribute is not validated in generated webapp code (Qiang)\n- Enh #666: Added support for auto-flushing log messages (Qiang)\n- Enh #668: Nested forms generated by CForm will render attributes in the fieldset tag (Qiang)\n- Enh #695: Upgraded HTML Purifier to 4.0.0 (Qiang)\n- Enh #711: Added CWebUser::autoRenewCookie to support automatically renew cookie-based login (Qiang)\n- Enh: Added CSS class for links generated by CSort to differentiate sorting directions (Qiang)\n- Enh: Added CComponent::evaluateExpression() (Qiang)\n- Enh: Added CPagination::offset and CPagination::limit (Qiang)\n- Chg: CSort.multiSort is changed to sort by single attribute by default (Qiang)\n- New: Added CDataProvider and CActiveDataProvider (Qiang)\n- New: Updated I18N data to CLDR 1.7.1.2 and added support for stand-alone month and day names (Qiang)\n- New: Added CDbCriteria::with to support eager loading via a criteria with this property (Qiang)\n\nVersion 1.1b November 1, 2009\n-----------------------------\n- Bug #611: When using relation name as table alias, it should be properly quoted to avoid name conflict (Qiang)\n- Bug #642: CPgsqlSchema::findTableNames() should not include view names in the result (Qiang)\n- Bug #652: Calling CFormElementCollection::remove() triggers a method-not-defined error (Qiang)\n- Bug: Using CFileValidator causes an error about accessing a method of a non-object (Qiang)\n- Enh #570: Improved CSort so that it can support sorting by complex expressions or compound attributes (Qiang)\n- Enh #597: Added support for modifying primary key of an AR instance by calling save() directly (Qiang)\n- Enh #622: Added support for using HTML button tags in form builder (Qiang)\n- Enh: Added getFixtureData() and getFixtureRecord() to CDbTestCase and CWebTestCase (Qiang)\n- Chg #574: session ID is no longer hashed for CDbHttpSession (Qiang)\n- New #633: Added support to allow using customized locale data (Qiang)\n- New: Added support for using table prefixes (Qiang)\n\nVersion 1.1a October 1, 2009\n----------------------------\n- New #429: CFileValidator and CUploadedFile now accept multiple uploads (pestaa)\n- New: Refactored scenario-based validation and massive assignments (Qiang)\n- New: Added CDbSchema::checkIntegrity() and resetSequence() (Qiang)\n- New: Added phpunit-based testing framework (Qiang)\n- New: Added CForm and relevant classes to allow reusing form representation and rendering (Qiang)\n- New: Added support for widget skins (Qiang)\n- New: Added support for accessing behavior's properties via the component it is attached to (Qiang)\n- Chg #433: Changed application and module parameter names to be case-sensitive (Qiang)\n- Chg #556: CHtml::resolveName now supports array-typed properties (pestaa)\n- Chg: Changed AR eager loading so that it generates and executes a single SQL statement by default (Qiang)\n- Chg: Changed AR table aliasing so that it uses relation names as default table aliases (Qiang)\n- Chg: Changed the default value of allowEmpty to be false for CCompareValidator. (Qiang)\n\nVersion 1.0.12 March 14, 2010\n-----------------------------\n- Bug #731: When using CWebService to generate WSDL, it may cause the error about Premature end of data in tag definitions in SoapClient (Qiang)\n- Bug #740: CDbCriteria::addColumnCondition() should handle NULL parameter correctly (Qiang)\n- Bug #742: CEmailValidator should allow upper case email addresses (Qiang)\n- Bug #776: CWebUser may fail when unserializing invalid cookie data (Qiang)\n- Bug #788: CHttpRequest.sendFile() gives incorrect content length when output_handler is enabled (Qiang)\n- Bug #801: CCaptcha allows unlimited tests if the CAPTCHA image is not reloaded (Qiang)\n- Bug #832: CJavaScript::quote() should also escape the sequence \"</\" (Qiang)\n- Bug #843: CApcCache::mget() may fail if some entries of the specified keys are not cached (Qiang)\n- Bug: CVarDumper sometimes doesn't dump object value correctly (Qiang)\n- Bug: COciSchema::findTableNames() should use upper case for the keys of query results (Qiang)\n- Bug: Fixed several bugs related with readdir problem. If the directory contains a file named '0', the iteration would quit prematurely. (Qiang)\n- Enh #730: Relational queries now respect changes made to CActiveRecord::dbCriteria in the onBeforeFind event (Qiang)\n- Enh #737: CUrlManager::createUrl() now supports multidimensional array params (Jonah)\n- Enh #757: Allow CDbCriteria::addInCondition() to use parameter array that is not integer-indexed (Qiang)\n\nVersion 1.0.11 December 13, 2009\n--------------------------------\n- Bug #608: yiic webapp command may generate incorrect path referring to yii scripts (Qiang)\n- Bug #637: CDateTimeParser::parse() may generate unexpected result offset by the timezone in some environment (Qiang)\n- Bug #639: CJSON::decode() should respect the second parameter recursively (Qiang)\n- Bug #641: CDbCache::gc() is not defined (Qiang)\n- Bug #651: Fixed a bug in Oracle driver that may cause big loop (Qiang)\n- Bug #653: CDbMessageSource does translate messages when caching is enabled (Qiang)\n- Bug #670: Requirements checker page shows wrong minute (Qiang)\n- Bug #691: CUploadedFile::saveAs() may not return correct value for some PHP versions (Qiang)\n- Bug #692: CHtml::listOptions() ignores the HTML options when handling nested options (Qiang)\n- Bug #710: CRequiredValidator does not work as expected when its requiredValue is not null (Qiang)\n- Bug: CQueue::peek() should return the first item in the queue (Qiang)\n- Enh #629: Added support for specifying shell command search path via an environment variable YIIC_SHELL_COMMAND_PATH (Qiang)\n- Enh #643: Enhanced CAccessControlFilter::expression, COutputCache::varyByExpression and CExpressionDependency::expression so that they can use PHP callback (Qiang)\n- Enh #665: Added support for using CStarRating to collect tabular input (Qiang)\n- Enh #672: Added Italian translation of error views (Qiang)\n- Enh #674: Improved CPgsqlSchema to support auto-incremental column in composite primary  key (Qiang)\n- Enh #677: Improved CPgsqlColumnSchema to recognize more column data types (Qiang)\n- Enh #679: Added support for parsing and creating URLs with parameterized hostnames (Qiang)\n- Enh #684: Improved Yii::import() to throw exception when set_include_path fails (Qiang)\n- Enh #685: Added support for recognizing \"Z\" in CDateFormatter (Qiang)\n- Enh #690: Enhanced the email validator pattern to capture 99% valid email addresses (Qiang)\n- Enh #694: CActiveRecord count methods will ignore criterias that are incomatible with COUNT SQL statement (Qiang)\n- Enh #697: Relational AR queries now also invoke CActiveRecord::beforeFind() (Qiang)\n- Enh #703: Upgraded autocomplete js code to version 1.1.0 (Qiang)\n- Enh #715: CHtml::textArea and CHtml::activeTextArea should respect the 'encode' option (Qiang)\n- Enh: Added core message translation in Thai (Peerajak)\n- Enh: Allow CHtml::label() and CHtml::activeLabel() not to render the 'for' attribute when it is set false (Qiang)\n- Chg #723: When merging a CDbCriteria with another, the latter's order clause will take precedence over the former (Qiang)\n- New #709: Added core message translation in Bosnian language (kenci81)\n\nVersion 1.0.10 October 18, 2009\n-------------------------------\n- Bug #550: Fixed image alt bug in CCaptcha (Qiang)\n- Bug #551: CCache::mget() should return values (Qiang)\n- Bug #561: CTabView fails to switch tabs on IE (pestaa)\n- Bug #567: PHP <5.2 cannot convert exception class to string (pestaa)\n- Bug #573: Typo in API (pestaa)\n- Bug #584: CAutoComplete API was missing a fact (pestaa)\n- Bug #594: The for-loop in jquery.yii.js breaks on IE (Qiang)\n- Bug #596: CActiveFinder undefined $parent variable on line 1297 (Qiang)\n- Bug #606: CMemCache does not work when useMemcached is set true (Qiang)\n- Bug: Fixed a bug in Oracle driver when performing relational AR queries (Qiang)\n- Bug: Fixed the problem of executing an SQL using CDbCommand may cause subsequent SQL executions to fail (Qiang)\n- Enh #571: Enhanced CDbCriteria by adding several methods to help building common query conditions (Qiang)\n- Enh #585: Added CChainedCacheDependency::setDependencies() (Qiang)\n- Enh #598: Added CCaptchaAction::transparent (Qiang)\n- Enh #600: Modified CHttpSession to allow open and close session multiple times (Qiang)\n- Enh #612: Added YiiBase::registerAutoloader (Qiang)\n- Enh #613: Enhanced Oracle driver to allow using views with AR (Qiang)\n- Enh #615: Added cacheID property to several core components to allow specifying which cache component to use (Qiang)\n- Enh #616: Added support to use anonymous functions (PHP 5.3+) as event handlers (Qiang)\n- Enh #620: Enhanced message translation for modules (Qiang)\n- Enh #623: Added the optional $params to CDbCommand::execute() and query*() methods (Qiang)\n- Enh #626: Added labelOptions for checkbox and radiobutton lists in CHtml (Qiang)\n- Enh #627: Improved AR metadata assignment to support single table inheritance (Qiang)\n- Enh #628: Console commands are listed in alphabetical order now (Qiang)\n- Enh: Enhanced CRequiredValidator so that it can validate an attribute contains the specified value (Qiang)\n- Chg: Made request and urlManager components to be available for both console and web applications (Qiang)\n- New #577: Enhanced the 'empty' option in CHtml so that it can render multiple extra list options with specific values (Qiang)\n- New #621: Added YiiBase::createApplication (Qiang)\n- New: Added CBooleanValidator (Qiang)\n\nVersion 1.0.9 September 6, 2009\n-------------------------------\n- Bug #470: Fixed CTimestamp getdate bug which is related with timezone setting (Qiang)\n- Bug #499: Blog demo approve comment page doesn't have proper pagination (Qiang)\n- Bug #510: CHtml::htmlButton() should render the label as the element body rather than value attribute (Qiang)\n- Bug #513: CNumberValidator does not validate as expected when the attribute value is not string (Qiang)\n- Bug #518: CFilterValidator uses call_user_func_array() incorrectly (Qiang)\n- Bug #522: array-like parameters in path info are not parsed correctly by CUrlManager (Qiang)\n- Bug #525: Invalid first chars in jquery.maskedinput.js (Qiang)\n- Bug #527: Typo in CActiveFinder.php:581 (Wei)\n- Bug #548: STAT queries don't work when the FK constraints are not defined in DB (Qiang)\n- Bug #550: CCaptcha does not respect image alt option (Qiang)\n- Bug #551: multiget in caching components does not use proper keys (Qiang)\n- Bug: Set sequenceName in Oracle tables to be empty string so that yiic model command generates correct validation rules for PK (Qiang)\n- Enh #417: Added CActiveRecord::beforeFind and onBeforeFind event (Qiang)\n- Enh #419: Improved the performance of lazy relational AR by avoiding joining when possible (Qiang)\n- Enh #473: Upgraded jquery multifile plugin to version 1.46 (Qiang)\n- Enh #500: Added CDbCache::gcProbability (Qiang)\n- Enh #505: Added CSS class to the table generated by CWebLogRoute (Qiang)\n- Enh #508: CUrlManager should also store parsed GET parameters into $_REQUEST (Qiang)\n- Enh #509: Enhanced CRequiredValidator to check for empty array value (Qiang)\n- Enh #511: CHtml::activeCheckBox and activeRadioButton should respect the value attribute (Qiang)\n- Enh #512: CHtml::beginForm() is made XHTML-compliant when CSRF is enabled (Qiang)\n- Enh #521: Added CActiveRecord::deleteAllByAttributes() (Qiang)\n- Enh #526: Added CSort::params and CPagination::params to allow customizing additional GET parameters in the generated URLs (Qiang)\n- Enh #534: Allow using slash character as URL suffix when strict parsing is enabled (Qiang)\n- Enh #542: Improved CInputWidget and all its descendant classes so that they can be used in tabular data input (Qiang)\n- Enh #547: Changed CSort::resolveLabel and validateAttribute to be public (Qiang)\n- Enh #549: Changed hour pattern in CDateTimeParser so that it is consistent with CDateFormatter (Qiang)\n- Enh #554: Added CViewRenderer::fileExtension (Qiang)\n- Enh #555: Added CApplication::timeZone (Qiang)\n- Enh: Improved AR performance by not raising events when no event handlers (Qiang)\n- Enh: Added CWebUser::setStateKeyPrefix() (Qiang)\n- Enh: Added CLocale::getMonthNames and CLocale::getWeekDayNames (Qiang)\n- Enh: Added uncheckValue option for CHtml::activeRadioButton (Qiang)\n- Enh: Added CDbCriteria::addCondition() (Qiang)\n- Enh: Added support for specifying DISTINCT when performing AR and relational AR queries (Qiang)\n- New: Added core message and system view translations in Bulgarian (Nikolai)\n\nVersion 1.0.8 August 9, 2009\n----------------------------\n- Bug #435: Setting charset for PostgreSQL database connection may fail to work on some servers (Qiang)\n- Bug #440: typo in COciColumnSchema (Qiang)\n- Bug #444: typo in blog demo (Qiang)\n- Bug #446: Fixed bugs in MSSQL driver that cause problem when updating attribues and a column is of timestamp type (Qiang)\n- Bug #451: CAssetManager::publish() may not report error when an asset is missing on BSD (Qiang)\n- Bug #460: CFileValidator would display wrong error message when the uploaded file size is too small (Qiang)\n- Bug #472: Dynamic relational query options should not treat 'condition' as 'on'. (Qiang)\n- Bug #475: MainMenu widget in webapp ignores URL parameters (Qiang)\n- Bug #477: CUrlManager generates unwanted homepage URL when URL suffix is used (Qiang)\n- Bug #482: Relational AR would fail when using Oracle due to column case issue (Qiang)\n- Bug #484: CDbCommandBuilder generates an invalid SQL when inserting a row with all default values (Qiang)\n- Bug #486: CDbExpression does not work as expected for PHP versions prior to 5.2.0 (Qiang)\n- Bug: Fixed an issue in CNumberFormatter which incorrectly cached parsed formats (Qiang)\n- New #424: Improved CCaptcha to allow clicking on CAPTCHA image to refresh it (Qiang)\n- New #425: Added defaultParams option to the rules used by CUrlManager (Qiang)\n- New #426: Added CApplication::setExtensionPath() (Qiang)\n- New #436: Added error templates in Russian (idlesign)\n- New #456: Added CCompareValidator::operator to support comparing values using different operators (Qiang)\n- New #461: Added CHtml::htmlButton() (Qiang)\n- New #467: Improved the algorithm for determining script URL by CHttpRequest (Qiang)\n- New #474: Added CActiveRecord::refreshMetaData() to allow using the latest table meta data (Qiang)\n- New #478: Enhanced CActiveRecord::findByAttributes and findAllByAttributes so that when an attribute value is array, an IN condition is generated for searching (Qiang)\n- New #480: Improved CUniqueValidator to allow specifying AR class and attribute to validate against (Qiang)\n- New #488: Added CCache::mget() to support retrieving multiple cached values at a time (Qiang)\n- New #492: Enhanced form submit script so that it respects to existing submit event handlers (Qiang)\n- New #493: Added call stack information to log when a PHP error occurs (Qiang)\n- New: CDbCommand::bindParam() and bindValue() now return the command object so that they can be used in a chainable fashion (Qiang)\n- New: Added thead and tbody to the code generated by crud command (Qiang)\n- New: Added CFormModel::init() and CActiveRecord::init() (Qiang)\n- New: Improved CFileHelper::getMimeType() so that it can return a meaningful result in most cases (Qiang)\n- New: Improved yiic shell commands so that they are easier to be extended (Qiang)\n- New: Added CExistValidator.criteria property (Qiang)\n- New: Improved CHtml::statefulForm() to make it XHTML-compliant (Qinag)\n- New: Added CBaseUserIdentity::clearState() (Qiang)\n- New: Added 'ext' root path alias which points to the directory containing all extensions (Qiang)\n- New: Added Greek translation of core messages (Vasileios)\n- Chg #479: Imported path aliases now have precedence over existing include paths (Qiang)\n- Chg: Modified the count() method of relational AR to support counting composite keys (Qiang)\n- Chg: Reverted back the support for assigning a related object to an AR object (Qiang)\n\nVersion 1.0.7 July 5, 2009\n--------------------------\n- Bug #367: CUploadedFile may fail if a form contains multiple file uploads in different array dimensions (Qiang)\n- Bug #368: CUploadedFile::getInstance() should return null if no file is uploaded (Qiang)\n- Bug #372: CCacheHttpSession should initialize cache first before using it (Qiang)\n- Bug #388: 'params' options passed to linkButton are not cleared after submit (Qiang)\n- Bug #393: Greek language code should be 'el' insead of 'gr' (Qiang)\n- Bug #402: CNumberFormatter does not format decimals and percentages correctly (Qiang)\n- Bug #404: AR would fail when CDbLogRoute uses the same DB connection (Qiang)\n- Bug #421: Undefined variable: seconds in CDateTimeParser.php(140) (Qiang)\n- Bug: CMemCache has a typo when using memcached (Qiang)\n- Bug: COciCommandBuilder is referencing undefined variable (Qiang)\n- Bug: yiic webapp may generate incorrect path to yii.php (Qiang)\n- Bug: SQL with OFFSET generated by command builder for Oracle is incorrect (Qiang)\n- Bug: yiic shell model command may fail when a foreign key is named as ID (Qiang)\n- Bug: yiic shell controller command does not generate correct controller class file when the controller is under a sub-folder (Qiang)\n- Bug: When using MySQL enum type, AR may incorrectly typcasting the column values (Qiang)\n- Chg #391: defaultScope should not be applied to UPDATE (Qiang)\n- New #360: Added anchor parameter to CController::redirect (Qiang)\n- New #375: Added support to allow logout a user without cleaning up non-auth session data (Qiang)\n- New #378: Added support to allow dynamically turning off and on log routes (Qiang)\n- New #396: Improved error display when running yiic commands (Qiang)\n- New #406: Added support to allow stopping saving and deletion by an ActiveRecord behavior (Qiang)\n- New #415: Added HTML options to CHtml::errorSummary() and error() methods (Qiang)\n- New: Rolled back the change about treating tinyint(1) in MySQL as boolean (Qiang)\n- New: Added support for displaying call stack information in trace messages (Qiang)\n- New: Added 'index' option to AR relations so that related objects can be indexed by specific column value (Qiang)\n- New: Allow CHtml::activeLabel to override the automatically generated 'for' attribute (Qiang)\n- New: Added 'csrf' to CHtml client options so that js-based form submission can submit CSRF token (Qiang)\n- New: Removed typcasting in CNumberValidator so that it won't lose precision (Qiang)\n- New: Added userAgent parameter to CHttpRequest::getBrowser() (Qiang)\n\nVersion 1.0.6 June 7, 2009\n--------------------------\n- Bug #305: column aliases used in CActiveFinder should be quoted so that their cases are kept (Qiang)\n- Bug #308: typo in CLinkPager CSS class name (Qiang)\n- Bug #310: Leading space in auto generated labels if they end with \"ID\" (Qiang)\n- Bug #312: defaultScope not honored when other sopes are applied (Qiang)\n- Bug #313: Dynamic parameter for lazy loading resets the parameters specified in default scope (Qiang)\n- Bug #321: CProfileLogRoute should be disabled for AJAX requests (Qiang)\n- Bug #331: HTTP 403 status code should be used to indicate auth failure (Qiang)\n- Bug #338: Undefined variables in CTimestamp.php (Qiang)\n- Bug #343: HtmlPurifier should register its autoload to allow using its plugins (Qiang)\n- Bug #353: CClientScript may not generate expected output on some PHP version due to preg_replace bug (Qiang)\n- Bug: Syntax errors in autoloaded classes are not reported (Qiang)\n- New #36: Added column declarations to the generated model class using yiic (Qiang)\n- New #231: Enhanced yiic shell model command to generate relations automatically (olafure, Qiang)\n- New #271: Added CFileCache (Qiang)\n- New #300: Added support for using a controller action to display application errors (Qiang)\n- New #304: Added flv mimeType to the mimeType array (Qiang)\n- New #315: Added CDbConnection.enableProfiling (Qiang)\n- New #320: Added support for customizing a single URL rule by setting its urlFormat and caseSensitive options (Qiang)\n- New #326: Yii::powered() will show Yii site in a new window (Qiang)\n- New #328: Make yiic to work with f-cgi (Qiang)\n- New #344: Added support to automatically attach behaviors to a controller (Qiang)\n- New #346: Enhanced CMemCache so that it can be used with both memcache and memcached (Qiang)\n- New #347: Added CUrlManager.useStrictParsing to support parsing URLs only based on rules (Qiang)\n- New #349: Enhanced MySQL driver to recongize tinyint(1) as a boolean (Qiang)\n- New #351: Enhanced CModelBehavior so that its beforeValidate() can stop the current validation process (Qiang)\n- New: Enhanced the 'with' option in relational rules so that it also applies in eager loading (Qiang)\n- New: Enhanced yiic shell model command to generate all models for the whole database (olafure, Qiang)\n- New: Added support to allow using named scopes with update and delete methods (Qiang)\n- New: Refactored support for dynamic query options with relational AR (Qiang)\n- New: Added CDbCriteria::toArray() (Qiang)\n- New: Added support to allow merging CDbCriteria using 'OR' operator (Qiang)\n- New: Added CLogger::getStats() (Qiang)\n- New: Added support to import and autoload interfaces (Qiang)\n- New: Added tracing statements to cache components (Qiang)\n- New: Added CLogFilter to support logging additional context information (Qiang)\n\nVersion 1.0.5 May 10, 2009\n--------------------------\n- Bug #234: Multi-line Yii::t() not found by 'yiic message' (Qiang)\n- Bug #235: Dynamic content does not work when page caching is used together with fragment caching (Qiang)\n- Bug #239: Syntax error in translated Portuguese error view file (Qiang)\n- Bug #246: Undefined variable in CMaskedTextField (Qiang)\n- Bug #252: mimeTypes.php contains clashing types (Qiang)\n- Bug #258: Some eager loading queries may result in extra lazy loading queries (Qiang)\n- Bug #261: CWsdlGenerator should not use 'tns:' namespace when declaring a complex type (Qiang)\n- Bug #262: Setting 'charset' of CDbConnection causes exception when working with SQLite (Qiang)\n- Bug #263: Exception is thrown when column names contain \"=\" symbol (Qiang)\n- Bug #270: CComponent::detachBehavior() uses undefined index (Qiang)\n- Bug #290: date formatter generates incorrect narrow day output (Qiang)\n- Bug: Lazy loading HAS_MANY or MANY_MANY properties will get NULL instead of empty array when the result set is empty (Qiang)\n- Bug: CDateFormatter::formatYear() only returns one digit when the year pattern is 'yy' (Qiang)\n- Bug: The ON option is not respected for MANY_MANY relations (Qiang)\n- New #210: Added support for named scope of AR (Qiang)\n- New #211: Enhanced AR by supporting lazy relational query with on-the-fly query parameters (Qiang)\n- New #224: Added CModel::addErrors() method (Qiang)\n- New #241: Added support to define root path aliases in configuration (Qiang)\n- New #247: Added support to allow using Web services in PHP versions lower than 5.2.0 (Qiang)\n- New #249: Added option to CHtml to allow generate tags without encoding attribute values (Qiang)\n- New #254: Added support to allow input widgets to be used with tabular inputs (Qiang)\n- New #265: Added support to validate time and datetime inputs (Qiang)\n- New #268: Added support to allow using dot syntax to generate list options with CHtml (Qiang)\n- New #274: Added support to allow using route sub-patterns in URL rules (Qiang)\n- New #284: Refactored code about page states to simplify overriding efforts (Qiang)\n- New #291: Added support to validate emails with name part (Qiang)\n- New #293: Added support to allow Yii to be used with other libraries which rely on autoload (Qiang)\n- New #294: Added CDummyCache component (Qiang)\n- New: Deprecated CHtml::getActiveId() (Qiang)\n- New: Added CDbCriteria::mergeWith() (Qiang)\n- New: Added Oracle support for Active Record (Ricardo)\n- New: Modified CClientScript so that it can be used without the presence of a controller (Qiang)\n- New: Enhanced CWebUser::checkAccess() to allow caching the access check results (Qiang)\n- New: Enhanced the performance of CDbAuthManager::checkAccess() (Qiang)\n- New: Added CAccessControlFilter::accessDenied() (Qiang)\n- New: Added CWebUser::identityCookie property (Qiang)\n- New: Added new message placeholder to CCompareValidator (Qiang)\n- New: Added trace statements to auth components (Qiang)\n- New: Added CHtml::value() (Qiang)\n- New: Enhanced 'yiic shell model' command so that it generates attribute labels by default (Qiang)\n- New: Added CDbConnection::enableParamLogging to allow logging parameters bound to SQL statements (Qiang)\n\nVersion 1.0.4 April 5, 2009\n---------------------------\n- Bug #177: CFileValidator::getSizeLimit() not calculate well (Qiang)\n- Bug #185: German error views have syntax errors (Qiang)\n- Bug #183: Fatal error in CActiveFinder::afterFindInternal() (Qiang)\n- Bug #186: MainMenu component in yiic webapp doesn't detect active menu item correctly (Qiang)\n- Bug #187: SET CHARACTER SET is not working for MySQL in some cases (Qiang)\n- Bug #190: yiic shell command does not work when the Web application redirects by default (Qiang)\n- Bug #192: CDbLogRoute has several issues (Qiang)\n- Bug #199: yiic webapp command may fail in some directory setup (Qiang)\n- Bug #200: CDateFormatter does not recognize timestamp given as a string (Qiang)\n- Bug #205: CTRL-D puts yiic into endless loop (olafure)\n- Bug #206: Property \"click\" in CStarRating does not work (Qiang)\n- Bug #218: Uppercase letter in controller in URL leads to exception (Qiang)\n- Bug #226: CJoinElement uses undefined _primaryKey (Qiang)\n- Bug #223: Calling CApplication::clearGlobalState causes error (Qiang)\n- Bug #229: dynamic content does not work with page caching (Qiang)\n- Bug: Setting the 'expression' option in an access url causes error (Qiang)\n- Bug: CAccessRule.roles should be case sensitive (Qiang)\n- Bug: CDbAuthManager::checkDefaultRoles() uses an undefined variable (Qiang)\n- Bug: CPgsqlSchema does not handle quotes well in detecting FK constraints (Qiang)\n- Bug: CPradoViewRenderer is calling an undefined method (Qiang)\n- Bug: CClientScript::scriptMap generates duplicated script tags (Qiang)\n- Bug: ActiveRecord may fetch the same PK column twice in a relational query (Qiang)\n- Bug: CWebUser::hasState does not return consistent result (Qiang)\n- Bug: A module layout in a theme cannot be applied (Qiang)\n- Bug: Enabling both CSRF prevention and theming may cause a PHP error (Qiang)\n- Bug: Eager loading in RAR may join the same table twice in some cases (Qiang)\n- New #171: Added version info to yiic help output (Qiang)\n- New #172: Added eAccelerator cache driver (Steffen)\n- New #176: Added support to make yiic tool working with modules (Qiang)\n- New #195: Added CModel::scenario property (Qiang)\n- New #197: Added getParam, getQueryParam and getPostParam to CHttpRequest (Qiang)\n- New #203: Added CZendDataCache (Steffen)\n- New #207: Enhanced CHtml::activeFileField so that we can still use $_POST to detect form submission under some rare cases (Qiang)\n- New #212: 'Readline' support in yiic console script (olafure)\n- New #225: Added trace statements to CActiveRecord and CActiveFinder (Qiang)\n- New #230: Enhanced CHtml so that it can be used in situations where controller is absent (Qiang)\n- New #233: Allow CFileValidator::types to be set with an array (Qiang)\n- New #292: Refactored CActiveRecord so that attribute assignment can be overridden more easily (Qiang)\n- New: Added support to GROUP BY and HAVING in eager loading of AR (Qiang)\n- New: Added CClientScript::scriptFiles and CClientScript::cssFiles (Qiang)\n- New: Added SQL Server support for Active Record (Christophe)\n- New: Added support for performing statistical query with Active Record (Qiang)\n- New: Added CHtml::beginForm and endForm (Qiang)\n- New: Added 'controllers' option to access control (Qiang)\n- New: Added CContentDecorator.data property (Qiang)\n- New: Refactored application and module code (Qiang)\n- New: Added HTTP status code parameter to CHttpRequest::redirect (Qiang)\n- New: Added beforeControllerAction and afterControllerAction to CWebApplication and CWebModule (Qiang)\n- New: Added 'checkAll' option to CHtml::checkBoxList and CHtml::activeCheckBoxList (Qiang)\n- New: Added CHtml::encodeArray() to allow HTML-encoding an array recursively (Qiang)\n- New: Added case-sensitivity parameter to CDbCommandBuilder::createSearchCondition (Qiang)\n- New: Added COutputCache.varyByExpression to allow variating cached content based on an expression value (Qiang)\n- New: Added CExpressionDependency to represent dependency based on an expression value (Qiang)\n- New: Added CAutoComplete.textArea to allow using it as a text area (Qiang)\n- New: Added support to allow using AR when a table has no primary key defined (Qiang)\n- New: Added support to CAPTCHA widget so that it can use captcha defined in other controllers (Qiang)\n- New: Added CExistValidator (Qiang)\n\n\nVersion 1.0.3 March 1, 2009\n---------------------------\n- Bug #127: CUploadedFile is using an undefined variable (Qiang)\n- Bug #132: CMysqlSchema has a typo (Qiang)\n- Bug #133: CSort should properly quote the columns to be sorted (Qiang)\n- Bug #135: CSort::link() does not work well with labels with special chars (Qiang)\n- Bug #145: When layout property of CController is false, main layout is still applied (Qiang)\n- Bug #153: Accessing related objects in afterFind() causes a duplicated SQL query (Qiang)\n- Bug #154: Calling behavior method in relations() does not work (Qiang)\n- Bug #161: Date formatting with timezones (Qiang)\n- Bug: CHttpRequest.hostInfo may give wrong port number (Qiang)\n- Bug: CHtml::activeListBox does not work when multiple selection is needed (Qiang)\n- Bug: Inconsistency in timezone of log messages for different log routes (Qiang)\n- Bug: Script file registered for POS_BEGIN is rendered twice (Qiang)\n- Bug: CHtml::registerMetaTag() failed to be rendered when no other scripts are registered (Qiang)\n- New #117: Added count() support to relational AR (Qiang)\n- New #136: Added support to CWebUser to allow directly accessing persistent properties (Qiang)\n- New #137: yiic model command should only set a column as required when it does not have default value (Qiang)\n- New #138: Added support to specify additional attributes for OPTION tags (Qiang)\n- New #140: Allow the route in a URL rule to contain parameters by itself (Qiang)\n- New #146: Added CUrlManager.appendParams which allows creating URLs in path format whose GET parameters are all in the query part (Qiang)\n- New #150: Register CTabView css file with media type='screen' (Qiang)\n- New #156: Added CUrlManager.cacheID to allow disabling URL rule caching (Qiang)\n- New #213: Enhanced CEmailValidator by allowing checking server port (Qiang)\n- New: Upgraded jquery to 1.3.2 (Qiang)\n- New: Upgraded jquery star rating to 2.61 (Qiang)\n- New: Added skeleton application and refactored 'yiic webapp' command (Qiang)\n- New: Added 'expression' option to access rules (Qiang)\n- New: Refactored the code generated by yiic command (Qiang)\n- New: Refactored the blog demo (Qiang)\n- New: Added ignoreLimit option when joining tables all at once (Qiang)\n- New: Added params option to relation declaration (Qiang)\n- New: Added the blog tutorial (Qiang)\n- New: Added CActiveRelation.together option to allow enforcing a table to be joined with the primary table (Qiang)\n- New: Added CActiveRecord.hasRelated() (Qiang)\n- New: Enhanced CHtml::listData() to work with raw query results (Qiang)\n- New: Controllers under subdirectories are now referenced using \"path/to/xyz\" (Qiang)\n- New: Added a defaut path alias named \"webroot\" (Qiang)\n- New: Added support for auto-incremental composite primary keys in active record (Qiang)\n- New: Added support for application modules (Qiang)\n- New: Added \"module\" command for yiic shell tool (Qiang)\n- New: Added support for using default roles in RBAC (Qiang)\n- New: Added support for translating a message into multiple languages on the same page at the same time (Qiang)\n- New: Added CClientScript::scriptMap to support remapping registered scripts (Qiang)\n- New: Added CGoogleApi (Qiang)\n\n\nVersion 1.0.2 February 1, 2009\n------------------------------\n- Bug #81: Double backslashes in a clientscript became a singe backslash in the output (Qiang)\n- Bug #83: yiic command may unexpectedly render its starting line on Windows (Qiang)\n- Bug #87: yiic gives an error when using yiilite.php in the main application (Qiang)\n- Bug #91: Relational AR eager fetching may bring back result even if it shouldn't (Qiang)\n- Bug #109: CLinkPager shows wrong number of page buttons (Qiang)\n- Bug: CDbAuthManager::saveAuthAssignment() causes updating all rows (Qiang)\n- Bug: Fixed an issue in CUrlManager::createUrl when GET parameters contain arrays (Qiang)\n- Bug: Fixed an issue that CCaptcha::buttonOptions is not used (Qiang)\n- New #88: Added public properties to CActiveRecord::safeAttributes() (Qiang)\n- New #92: Empty error messages in models are handled better when being displayed (Qiang)\n- New #93: Changed CLinkPager and CListPager so that the messages are internationalized (Qiang)\n- New #95: Added an option to CHtml::activeCheckBox() to define default value if unchecked (Qiang)\n- New #98: Added support to translate messages in different plural forms. Added CChoiceFormat (Qiang)\n- New #103: Added support to use dynamic query options in relational active record (Qiang)\n- New #104: Added support to encode traversable objects using JSON (Qiang)\n- New #111: Implemented nonobtrusive javascript \"Get new image\" link in CCaptcha (Qiang)\n- New #113: Enhanced CSort so that it is easier to be used with relational active record (Qiang)\n- New #116: Enhanced checkBoxList and radioButtonList in CHtml to enclose labels in label tag (Qiang)\n- New #119: Added 'on' option to relational AR (Qiang)\n- New #122: Added support to upload and validate files in a tabular form (Qiang)\n- New: Added CActiveRecord::getRelated() (Qiang)\n- New: Added 'return' option to HTML options in CHtml (Qiang)\n- New: Refactored CSS-dependent widgets by adding registerCssFile static methods (Qiang)\n- New: Added CDbSchema::getTables() and getTableNames() (Qiang)\n- New: Modified CUniqueValidator so that it can correctly validate non-PK attributes when they are being updated (Qiang)\n- New: Added scenario-based massive model attribute assignment (Qiang)\n- New: Added support to specify views in terms of path aliases (Qiang)\n- New: Enhanced getBaseUrl to allow it to return an absolute URL (Qiang)\n- New: Allow flash message to be deleted right after its first access (Qiang)\n- New: Upgraded jQuery to 1.3.0 (Qiang)\n- New: Added CDbExpression so that AR can save DB expressions into database (Qiang)\n- New: Added CDefaultValueValidator (Qiang)\n- New: Implemented the behavior feature; added CBehavior, CModelBehavior and CActiveRecordBehavior (Qiang)\n- New: Added a set of new events to CActiveRecord and CFormModel (Qiang)\n- New: Added CModel::getValidatorsForAttribute (Qiang)\n- New: Added CHtml::activeLabelEx and added 'required' option to CHtml::label (Qiang)\n- New: Added array access support to CFormModel and CActiveRecord (Qiang)\n- New: Added CActiveRecord::instantiate to support class table inheritance (Qiang)\n- New: Added support to allow join tables all at once (Qiang)\n\nVersion 1.0.1 January 4, 2009\n-----------------------------\n- Bug #41: missing function CHttpRequest::getCsrfTokenFromCookie() (Qiang)\n- Bug #42: Wrong links in crud generated admin view (Qiang)\n- Bug #45: Many-to-many relation does not work when both foreign tables are the same (Qiang)\n- Bug #47: Wrong url parsing when CUrlManager is set in path format (Qiang)\n- Bug #48: Typo in CActiveRecord::setAttribute (Qiang)\n- Bug #49: Invalid markup generated by yiic tool (Qiang)\n- Bug #53: tabular form input causes AR to fail (Qiang)\n- Bug #54: typo in CHtml::listOptions (Qiang)\n- Bug #57: Explicit column aliasing is not working in relational AR when the column appears in ORDER BY (Qiang)\n- Bug #60: Related objects not available in CActiveRecord::afterSave (Qiang)\n- Bug #69: Variable undefined error in CController::renderText (Qiang)\n- Bug #79: CUrlManager::createUrl does not work for GET parameters that are arrays (Qiang)\n- Bug #80: Improper unset in CHtml::activeCheckBoxList and activeRadioButtonList (Qiang)\n- New #44: Make \"yiic shell\" command to support controllers organized in subdirectories (Qiang)\n- New #51: Add support to import actions declared by a widget (Qiang)\n- New #55: Add support for generating meta and link tags (Qiang)\n- New #56: Allow specifying customized 'on' when a validator can be applied (Qiang)\n- New #58: Allow specifying HAVING clause in DB criteria (Qiang)\n- New #62: Allow URL routes to be case-insensitive by adding CUrlManager::caseSensitive property (Qiang)\n- New #64: Add support to use relational AR when FK constraints are not defined in DB (Qiang)\n- New #65: Added \"alias\" option to AR relations so that table aliases can be explicitly specified (Qiang)\n- New #66: Add support to allow using isset() and unset() with component properties (Qiang)\n- New #68: Upgrade the javascript for CMaskedTextField to 1.2.0 (Qiang)\n- New: Fixed inaccurate error message when adding an item as a child of itself in CAuthManager (Qiang)\n- New: CHtml::activeId and CHtml::activeName (Qiang)\n- New: Added German, Spanish and Swedish core message translations (mikl, sebas, tri)\n- New: Added CController::init() (Qiang)\n- New: Changed Yii::createComponent() to support property initialization (Qiang)\n- New: Optimized the framework (Qiang)\n- New: Added CSort to support multisort (Qiang)\n- New: Refactored the code generated by the crud command (Qiang)\n- New: Added \"contact\" page to the skeleton application (Qiang)\n- New: Added CMarkdownParser::safeTransform (Qiang)\n- New: Added support to allow specifying anchor when using createUrl() to create a URL (Qiang)\n- New: Added blog demo (Qiang)\n- New: Added CXCache (Qiang)\n\nVersion 1.0 December 3, 2008\n----------------------------\nInitial release\n", "<?php\n/**\n * CDbCriteria class file.\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @link https://www.yiiframework.com/\n * @copyright 2008-2013 Yii Software LLC\n * @license https://www.yiiframework.com/license/\n */\n\n/**\n * CDbCriteria represents a query criteria, such as conditions, ordering by, limit/offset.\n *\n * It can be used in AR query methods such as CActiveRecord::find and CActiveRecord::findAll.\n *\n * $criteria=new CDbCriteria();\n * $criteria->compare('status',Post::STATUS_ACTIVE);\n * $criteria->addInCondition('id',array(1,2,3,4,5,6));\n *\n * $posts = Post::model()->findAll($criteria);\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @package system.db.schema\n * @since 1.0\n */\nclass CDbCriteria extends CComponent\n{\n\tconst PARAM_PREFIX=':ycp';\n\t/**\n\t * @var integer the global counter for anonymous binding parameters.\n\t * This counter is used for generating the name for the anonymous parameters.\n\t */\n\tpublic static $paramCount=0;\n\t/**\n\t * @var mixed the columns being selected. This refers to the SELECT clause in an SQL\n\t * statement. The property can be either a string (column names separated by commas)\n\t * or an array of column names. Defaults to '*', meaning all columns.\n\t */\n\tpublic $select='*';\n\t/**\n\t * @var boolean whether to select distinct rows of data only. If this is set true,\n\t * the SELECT clause would be changed to SELECT DISTINCT.\n\t */\n\tpublic $distinct=false;\n\t/**\n\t * @var string query condition. This refers to the WHERE clause in an SQL statement.\n\t * For example, <code>age>31 AND team=1</code>.\n\t */\n\tpublic $condition='';\n\t/**\n\t * @var array list of query parameter values indexed by parameter placeholders.\n\t * For example, <code>array(':name'=>'Dan', ':age'=>31)</code>.\n\t */\n\tpublic $params=array();\n\t/**\n\t * @var integer maximum number of records to be returned. If less than 0, it means no limit.\n\t */\n\tpublic $limit=-1;\n\t/**\n\t * @var integer zero-based offset from where the records are to be returned. If less than 0, it means starting from the beginning.\n\t */\n\tpublic $offset=-1;\n\t/**\n\t * @var string how to sort the query results. This refers to the ORDER BY clause in an SQL statement.\n\t */\n\tpublic $order='';\n\t/**\n\t * @var string how to group the query results. This refers to the GROUP BY clause in an SQL statement.\n\t * For example, <code>'projectID, teamID'</code>.\n\t */\n\tpublic $group='';\n\t/**\n\t * @var string how to join with other tables. This refers to the JOIN clause in an SQL statement.\n\t * For example, <code>'LEFT JOIN users ON users.id=authorID'</code>.\n\t */\n\tpublic $join='';\n\t/**\n\t * @var string the condition to be applied with GROUP-BY clause.\n\t * For example, <code>'SUM(revenue)<50000'</code>.\n\t */\n\tpublic $having='';\n\t/**\n\t * @var mixed the relational query criteria. This is used for fetching related objects in eager loading fashion.\n\t * This property is effective only when the criteria is passed as a parameter to the following methods of CActiveRecord:\n\t * <ul>\n\t * <li>{@link CActiveRecord::find()}</li>\n\t * <li>{@link CActiveRecord::findAll()}</li>\n\t * <li>{@link CActiveRecord::findByPk()}</li>\n\t * <li>{@link CActiveRecord::findAllByPk()}</li>\n\t * <li>{@link CActiveRecord::findByAttributes()}</li>\n\t * <li>{@link CActiveRecord::findAllByAttributes()}</li>\n\t * <li>{@link CActiveRecord::count()}</li>\n\t * </ul>\n\t * The property value will be used as the parameter to the {@link CActiveRecord::with()} method\n\t * to perform the eager loading. Please refer to {@link CActiveRecord::with()} on how to specify this parameter.\n\t * @since 1.1.0\n\t */\n\tpublic $with;\n\t/**\n\t * @var string the alias name of the table. If not set, it means the alias is 't'.\n\t */\n\tpublic $alias;\n\t/**\n\t * @var boolean whether the foreign tables should be joined with the primary table in a single SQL.\n\t * This property is only used in relational AR queries for HAS_MANY and MANY_MANY relations.\n\t *\n\t * When this property is set true, only a single SQL will be executed for a relational AR query,\n\t * even if the primary table is limited and the relationship between a foreign table and the primary\n\t * table is many-to-one.\n\t *\n\t * When this property is set false, a SQL statement will be executed for each HAS_MANY relation.\n\t *\n\t * When this property is not set, if the primary table is limited or paginated,\n\t * a SQL statement will be executed for each HAS_MANY relation.\n\t * Otherwise, a single SQL statement will be executed for all.\n\t *\n\t * @since 1.1.4\n\t */\n\tpublic $together;\n\t/**\n\t * @var string the name of the AR attribute whose value should be used as index of the query result array.\n\t * Defaults to null, meaning the result array will be zero-based integers.\n\t * @since 1.1.5\n\t */\n\tpublic $index;\n\t/**\n\t * @var mixed scopes to apply\n\t *\n\t * This property is effective only when passing criteria to\n\t * the one of the following methods:\n\t * <ul>\n\t * <li>{@link CActiveRecord::find()}</li>\n\t * <li>{@link CActiveRecord::findAll()}</li>\n\t * <li>{@link CActiveRecord::findByPk()}</li>\n\t * <li>{@link CActiveRecord::findAllByPk()}</li>\n\t * <li>{@link CActiveRecord::findByAttributes()}</li>\n\t * <li>{@link CActiveRecord::findAllByAttributes()}</li>\n\t * <li>{@link CActiveRecord::count()}</li>\n\t * </ul>\n\t *\n\t * Can be set to one of the following:\n\t * <ul>\n\t * <li>One scope: $criteria->scopes='scopeName';</li>\n\t * <li>Multiple scopes: $criteria->scopes=array('scopeName1','scopeName2');</li>\n\t * <li>Scope with parameters: $criteria->scopes=array('scopeName'=>array($params));</li>\n\t * <li>Multiple scopes with parameters: $criteria->scopes=array('scopeName1'=>array($params1),'scopeName2'=>array($params2));</li>\n\t * <li>Multiple scopes with the same name: array(array('scopeName'=>array($params1)),array('scopeName'=>array($params2)));</li>\n\t * </ul>\n\t * @since 1.1.7\n\t */\n\tpublic $scopes;\n\n\t/**\n\t * Constructor.\n\t * @param array $data criteria initial property values (indexed by property name)\n\t */\n\tpublic function __construct($data=array())\n\t{\n\t\tforeach($data as $name=>$value)\n\t\t\t$this->$name=$value;\n\t}\n\n\t/**\n\t * Remaps criteria parameters on unserialize to prevent name collisions.\n\t * @since 1.1.9\n\t */\n\tpublic function __wakeup()\n\t{\n\t\t$map=array();\n\t\t$params=array();\n\t\tforeach($this->params as $name=>$value)\n\t\t{\n\t\t\tif(strpos($name,self::PARAM_PREFIX)===0)\n\t\t\t{\n\t\t\t\t$newName=self::PARAM_PREFIX.self::$paramCount++;\n\t\t\t\t$map[$name]=$newName;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t$newName=$name;\n\t\t\t}\n\t\t\t$params[$newName]=$value;\n\t\t}\n\t\tif (!empty($map))\n\t\t{\n\t\t\t$sqlContentFieldNames=array(\n\t\t\t\t'select',\n\t\t\t\t'condition',\n\t\t\t\t'order',\n\t\t\t\t'group',\n\t\t\t\t'join',\n\t\t\t\t'having',\n\t\t\t);\n\t\t\tforeach($sqlContentFieldNames as $field)\n\t\t\t{\n\t\t\t\tif(is_array($this->$field))\n\t\t\t\t\tforeach($this->$field as $k=>$v)\n\t\t\t\t\t\t$this->{$field}[$k]=strtr($v,$map);\n\t\t\t\telse\n\t\t\t\t\t$this->$field=strtr($this->$field,$map);\n\t\t\t}\n\t\t}\n\t\t$this->params=$params;\n\t}\n\n\t/**\n\t * Appends a condition to the existing {@link condition}.\n\t * The new condition and the existing condition will be concatenated via the specified operator\n\t * which defaults to 'AND'.\n\t * The new condition can also be an array. In this case, all elements in the array\n\t * will be concatenated together via the operator.\n\t * This method handles the case when the existing condition is empty.\n\t * After calling this method, the {@link condition} property will be modified.\n\t * @param mixed $condition the new condition. It can be either a string or an array of strings.\n\t * @param string $operator the operator to join different conditions. Defaults to 'AND'.\n\t * @return static the criteria object itself\n\t */\n\tpublic function addCondition($condition,$operator='AND')\n\t{\n\t\tif(is_array($condition))\n\t\t{\n\t\t\tif($condition===array())\n\t\t\t\treturn $this;\n\t\t\t$condition='('.implode(') '.$operator.' (',$condition).')';\n\t\t}\n\t\tif($this->condition==='')\n\t\t\t$this->condition=$condition;\n\t\telse\n\t\t\t$this->condition='('.$this->condition.') '.$operator.' ('.$condition.')';\n\t\treturn $this;\n\t}\n\n\t/**\n\t * Appends a search condition to the existing {@link condition}.\n\t * The search condition and the existing condition will be concatenated via the specified operator\n\t * which defaults to 'AND'.\n\t * The search condition is generated using the SQL LIKE operator with the given column name and\n\t * search keyword.\n\t * @param string $column the column name (or a valid SQL expression)\n\t * @param string $keyword the search keyword. This interpretation of the keyword is affected by the next parameter.\n\t * @param boolean $escape whether the keyword should be escaped if it contains characters % or _.\n\t * When this parameter is true (default), the special characters % (matches 0 or more characters)\n\t * and _ (matches a single character) will be escaped, and the keyword will be surrounded with a %\n\t * character on both ends. When this parameter is false, the keyword will be directly used for\n\t * matching without any change.\n\t * @param string $operator the operator used to concatenate the new condition with the existing one.\n\t * Defaults to 'AND'.\n\t * @param string $like the LIKE operator. Defaults to 'LIKE'. You may also set this to be 'NOT LIKE'.\n\t * @return static the criteria object itself\n\t */\n\tpublic function addSearchCondition($column,$keyword,$escape=true,$operator='AND',$like='LIKE')\n\t{\n\t\tif($keyword=='')\n\t\t\treturn $this;\n\t\tif($escape)\n\t\t\t$keyword='%'.strtr($keyword,array('%'=>'\\%', '_'=>'\\_', '\\\\'=>'\\\\\\\\')).'%';\n\t\t$condition=$column.\" $like \".self::PARAM_PREFIX.self::$paramCount;\n\t\t$this->params[self::PARAM_PREFIX.self::$paramCount++]=$keyword;\n\t\treturn $this->addCondition($condition, $operator);\n\t}\n\n\t/**\n\t * Appends an IN condition to the existing {@link condition}.\n\t * The IN condition and the existing condition will be concatenated via the specified operator\n\t * which defaults to 'AND'.\n\t * The IN condition is generated by using the SQL IN operator which requires the specified\n\t * column value to be among the given list of values.\n\t * @param string $column the column name (or a valid SQL expression)\n\t * @param array $values list of values that the column value should be in\n\t * @param string $operator the operator used to concatenate the new condition with the existing one.\n\t * Defaults to 'AND'.\n\t * @return static the criteria object itself\n\t */\n\tpublic function addInCondition($column,$values,$operator='AND')\n\t{\n\t\tif(($n=count($values))<1)\n\t\t\t$condition='0=1'; // 0=1 is used because in MSSQL value alone can't be used in WHERE\n\t\telseif($n===1)\n\t\t{\n\t\t\t$value=reset($values);\n\t\t\tif($value===null)\n\t\t\t\t$condition=$column.' IS NULL';\n\t\t\telse\n\t\t\t{\n\t\t\t\t$condition=$column.'='.self::PARAM_PREFIX.self::$paramCount;\n\t\t\t\t$this->params[self::PARAM_PREFIX.self::$paramCount++]=$value;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$params=array();\n\t\t\tforeach($values as $value)\n\t\t\t{\n\t\t\t\t$params[]=self::PARAM_PREFIX.self::$paramCount;\n\t\t\t\t$this->params[self::PARAM_PREFIX.self::$paramCount++]=$value;\n\t\t\t}\n\t\t\t$condition=$column.' IN ('.implode(', ',$params).')';\n\t\t}\n\t\treturn $this->addCondition($condition,$operator);\n\t}\n\n\t/**\n\t * Appends an NOT IN condition to the existing {@link condition}.\n\t * The NOT IN condition and the existing condition will be concatenated via the specified operator\n\t * which defaults to 'AND'.\n\t * The NOT IN condition is generated by using the SQL NOT IN operator which requires the specified\n\t * column value to be among the given list of values.\n\t * @param string $column the column name (or a valid SQL expression)\n\t * @param array $values list of values that the column value should not be in\n\t * @param string $operator the operator used to concatenate the new condition with the existing one.\n\t * Defaults to 'AND'.\n\t * @return static the criteria object itself\n\t * @since 1.1.1\n\t */\n\tpublic function addNotInCondition($column,$values,$operator='AND')\n\t{\n\t\tif(($n=count($values))<1)\n\t\t\treturn $this;\n\t\tif($n===1)\n\t\t{\n\t\t\t$value=reset($values);\n\t\t\tif($value===null)\n\t\t\t\t$condition=$column.' IS NOT NULL';\n\t\t\telse\n\t\t\t{\n\t\t\t\t$condition=$column.'!='.self::PARAM_PREFIX.self::$paramCount;\n\t\t\t\t$this->params[self::PARAM_PREFIX.self::$paramCount++]=$value;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$params=array();\n\t\t\tforeach($values as $value)\n\t\t\t{\n\t\t\t\t$params[]=self::PARAM_PREFIX.self::$paramCount;\n\t\t\t\t$this->params[self::PARAM_PREFIX.self::$paramCount++]=$value;\n\t\t\t}\n\t\t\t$condition=$column.' NOT IN ('.implode(', ',$params).')';\n\t\t}\n\t\treturn $this->addCondition($condition,$operator);\n\t}\n\n\t/**\n\t * Appends a condition for matching the given list of column values.\n\t * The generated condition will be concatenated to the existing {@link condition}\n\t * via the specified operator which defaults to 'AND'.\n\t * The condition is generated by matching each column and the corresponding value.\n\t * @param array $columns list of column names and values to be matched (name=>value)\n\t * @param string $columnOperator the operator to concatenate multiple column matching condition. Defaults to 'AND'.\n\t * @param string $operator the operator used to concatenate the new condition with the existing one.\n\t * Defaults to 'AND'.\n\t * @return static the criteria object itself\n\t */\n\tpublic function addColumnCondition($columns,$columnOperator='AND',$operator='AND')\n\t{\n\t\t$params=array();\n\t\tforeach($columns as $name=>$value)\n\t\t{\n\t\t\tif($value===null)\n\t\t\t\t$params[]=$name.' IS NULL';\n\t\t\telse\n\t\t\t{\n\t\t\t\t$params[]=$name.'='.self::PARAM_PREFIX.self::$paramCount;\n\t\t\t\t$this->params[self::PARAM_PREFIX.self::$paramCount++]=$value;\n\t\t\t}\n\t\t}\n\t\treturn $this->addCondition(implode(\" $columnOperator \",$params), $operator);\n\t}\n\n\t/**\n\t * Adds a comparison expression to the {@link condition} property.\n\t *\n\t * This method is a helper that appends to the {@link condition} property\n\t * with a new comparison expression. The comparison is done by comparing a column\n\t * with the given value using some comparison operator.\n\t *\n\t * The comparison operator is intelligently determined based on the first few\n\t * characters in the given value. In particular, it recognizes the following operators\n\t * if they appear as the leading characters in the given value:\n\t * <ul>\n\t * <li><code>&lt;</code>: the column must be less than the given value.</li>\n\t * <li><code>&gt;</code>: the column must be greater than the given value.</li>\n\t * <li><code>&lt;=</code>: the column must be less than or equal to the given value.</li>\n\t * <li><code>&gt;=</code>: the column must be greater than or equal to the given value.</li>\n\t * <li><code>&lt;&gt;</code>: the column must not be the same as the given value.\n\t * Note that when $partialMatch is true, this would mean the value must not be a substring\n\t * of the column.</li>\n\t * <li><code>=</code>: the column must be equal to the given value.</li>\n\t * <li>none of the above: the column must be equal to the given value. Note that when $partialMatch\n\t * is true, this would mean the value must be the same as the given value or be a substring of it.</li>\n\t * </ul>\n\t *\n\t * Note that any surrounding white spaces will be removed from the value before comparison.\n\t * When the value is empty, no comparison expression will be added to the search condition.\n\t *\n\t * @param string $column the name of the column to be searched\n\t * @param mixed $value the column value to be compared with. If the value is a string, the aforementioned\n\t * intelligent comparison will be conducted. If the value is an array, the comparison is done\n\t * by exact match of any of the value in the array. If the string or the array is empty,\n\t * the existing search condition will not be modified.\n\t * @param boolean $partialMatch whether the value should consider partial text match (using LIKE and NOT LIKE operators).\n\t * Defaults to false, meaning exact comparison.\n\t * @param string $operator the operator used to concatenate the new condition with the existing one.\n\t * Defaults to 'AND'.\n\t * @param boolean $escape whether the value should be escaped if $partialMatch is true and\n\t * the value contains characters % or _. When this parameter is true (default),\n\t * the special characters % (matches 0 or more characters)\n\t * and _ (matches a single character) will be escaped, and the value will be surrounded with a %\n\t * character on both ends. When this parameter is false, the value will be directly used for\n\t * matching without any change.\n\t * @return static the criteria object itself\n\t * @since 1.1.1\n\t */\n\tpublic function compare($column, $value, $partialMatch=false, $operator='AND', $escape=true)\n\t{\n\t\tif(is_array($value))\n\t\t{\n\t\t\tif($value===array())\n\t\t\t\treturn $this;\n\t\t\treturn $this->addInCondition($column,$value,$operator);\n\t\t}\n\t\telse\n\t\t\t$value=\"$value\";\n\n\t\tif(preg_match('/^(?:\\s*(<>|<=|>=|<|>|=))?(.*)$/',$value,$matches))\n\t\t{\n\t\t\t$value=$matches[2];\n\t\t\t$op=$matches[1];\n\t\t}\n\t\telse\n\t\t\t$op='';\n\n\t\tif($value==='')\n\t\t\treturn $this;\n\n\t\tif($partialMatch)\n\t\t{\n\t\t\tif($op==='')\n\t\t\t\treturn $this->addSearchCondition($column,$value,$escape,$operator);\n\t\t\tif($op==='<>')\n\t\t\t\treturn $this->addSearchCondition($column,$value,$escape,$operator,'NOT LIKE');\n\t\t}\n\t\telseif($op==='')\n\t\t\t$op='=';\n\n\t\t$this->addCondition($column.$op.self::PARAM_PREFIX.self::$paramCount,$operator);\n\t\t$this->params[self::PARAM_PREFIX.self::$paramCount++]=$value;\n\n\t\treturn $this;\n\t}\n\n\t/**\n\t * Adds a between condition to the {@link condition} property.\n\t *\n\t * The new between condition and the existing condition will be concatenated via\n\t * the specified operator which defaults to 'AND'.\n\t * If one or both values are empty then the condition is not added to the existing condition.\n\t * This method handles the case when the existing condition is empty.\n\t * After calling this method, the {@link condition} property will be modified.\n\t * @param string $column the name of the column to search between.\n\t * @param string $valueStart the beginning value to start the between search.\n\t * @param string $valueEnd the ending value to end the between search.\n\t * @param string $operator the operator used to concatenate the new condition with the existing one.\n\t * Defaults to 'AND'.\n\t * @return static the criteria object itself\n\t * @since 1.1.2\n\t */\n\tpublic function addBetweenCondition($column,$valueStart,$valueEnd,$operator='AND')\n\t{\n\t\tif($valueStart==='' || $valueEnd==='')\n\t\t\treturn $this;\n\n\t\t$paramStart=self::PARAM_PREFIX.self::$paramCount++;\n\t\t$paramEnd=self::PARAM_PREFIX.self::$paramCount++;\n\t\t$this->params[$paramStart]=$valueStart;\n\t\t$this->params[$paramEnd]=$valueEnd;\n\t\t$condition=\"$column BETWEEN $paramStart AND $paramEnd\";\n\n\t\treturn $this->addCondition($condition,$operator);\n\t}\n\n\t/**\n\t * Merges with another criteria.\n\t * In general, the merging makes the resulting criteria more restrictive.\n\t * For example, if both criterias have conditions, they will be 'AND' together.\n\t * Also, the criteria passed as the parameter takes precedence in case\n\t * two options cannot be merged (e.g. LIMIT, OFFSET).\n\t * @param mixed $criteria the criteria to be merged with. Either an array or CDbCriteria.\n\t * @param string|boolean $operator the operator used to concatenate where and having conditions. Defaults to 'AND'.\n\t * For backwards compatibility a boolean value can be passed:\n\t * - 'false' for 'OR'\n\t * - 'true' for 'AND'\n\t */\n\tpublic function mergeWith($criteria,$operator='AND')\n\t{\n\t\tif(is_bool($operator))\n\t\t\t$operator=$operator ? 'AND' : 'OR';\n\t\tif(is_array($criteria))\n\t\t\t$criteria=new self($criteria);\n\t\tif($this->select!==$criteria->select)\n\t\t{\n\t\t\tif($this->select==='*'||$this->select===false)\n\t\t\t\t$this->select=$criteria->select;\n\t\t\telseif($criteria->select===false)\n\t\t\t\t$this->select=false;\n\t\t\telseif($criteria->select!=='*')\n\t\t\t{\n\t\t\t\t$select1=is_string($this->select)?preg_split('/\\s*,\\s*/',trim($this->select),-1,PREG_SPLIT_NO_EMPTY):$this->select;\n\t\t\t\t$select2=is_string($criteria->select)?preg_split('/\\s*,\\s*/',trim($criteria->select),-1,PREG_SPLIT_NO_EMPTY):$criteria->select;\n\t\t\t\t$this->select=array_merge($select1,array_diff($select2,$select1));\n\t\t\t}\n\t\t}\n\n\t\tif($this->condition!==$criteria->condition)\n\t\t{\n\t\t\tif($this->condition==='')\n\t\t\t\t$this->condition=$criteria->condition;\n\t\t\telseif($criteria->condition!=='')\n\t\t\t\t$this->condition=\"({$this->condition}) $operator ({$criteria->condition})\";\n\t\t}\n\n\t\tif($this->params!==$criteria->params)\n\t\t\t$this->params=array_merge($this->params,$criteria->params);\n\n\t\tif($criteria->limit>=0)\n\t\t\t$this->limit=$criteria->limit;\n\n\t\tif($criteria->offset>=0)\n\t\t\t$this->offset=$criteria->offset;\n\n\t\tif($criteria->alias!==null)\n\t\t\t$this->alias=$criteria->alias;\n\n\t\tif($this->order!==$criteria->order)\n\t\t{\n\t\t\tif($this->order==='')\n\t\t\t\t$this->order=$criteria->order;\n\t\t\telseif($criteria->order!=='')\n\t\t\t\t$this->order=$criteria->order.', '.$this->order;\n\t\t}\n\n\t\tif($this->group!==$criteria->group)\n\t\t{\n\t\t\tif($this->group==='')\n\t\t\t\t$this->group=$criteria->group;\n\t\t\telseif($criteria->group!=='')\n\t\t\t\t$this->group.=', '.$criteria->group;\n\t\t}\n\n\t\tif($this->join!==$criteria->join)\n\t\t{\n\t\t\tif($this->join==='')\n\t\t\t\t$this->join=$criteria->join;\n\t\t\telseif($criteria->join!=='')\n\t\t\t\t$this->join.=' '.$criteria->join;\n\t\t}\n\n\t\tif($this->having!==$criteria->having)\n\t\t{\n\t\t\tif($this->having==='')\n\t\t\t\t$this->having=$criteria->having;\n\t\t\telseif($criteria->having!=='')\n\t\t\t\t$this->having=\"({$this->having}) $operator ({$criteria->having})\";\n\t\t}\n\n\t\tif($criteria->distinct>0)\n\t\t\t$this->distinct=$criteria->distinct;\n\n\t\tif($criteria->together!==null)\n\t\t\t$this->together=$criteria->together;\n\n\t\tif($criteria->index!==null)\n\t\t\t$this->index=$criteria->index;\n\n\t\tif(empty($this->scopes))\n\t\t\t$this->scopes=$criteria->scopes;\n\t\telseif(!empty($criteria->scopes))\n\t\t{\n\t\t\t$scopes1=(array)$this->scopes;\n\t\t\t$scopes2=(array)$criteria->scopes;\n\t\t\tforeach($scopes1 as $k=>$v)\n\t\t\t{\n\t\t\t\tif(is_integer($k))\n\t\t\t\t\t$scopes[]=$v;\n\t\t\t\telseif(isset($scopes2[$k]))\n\t\t\t\t\t$scopes[]=array($k=>$v);\n\t\t\t\telse\n\t\t\t\t\t$scopes[$k]=$v;\n\t\t\t}\n\t\t\tforeach($scopes2 as $k=>$v)\n\t\t\t{\n\t\t\t\tif(is_integer($k))\n\t\t\t\t\t$scopes[]=$v;\n\t\t\t\telseif(isset($scopes1[$k]))\n\t\t\t\t\t$scopes[]=array($k=>$v);\n\t\t\t\telse\n\t\t\t\t\t$scopes[$k]=$v;\n\t\t\t}\n\t\t\t$this->scopes=$scopes;\n\t\t}\n\n\t\tif(empty($this->with))\n\t\t\t$this->with=$criteria->with;\n\t\telseif(!empty($criteria->with))\n\t\t{\n\t\t\t$this->with=(array)$this->with;\n\t\t\tforeach((array)$criteria->with as $k=>$v)\n\t\t\t{\n\t\t\t\tif(is_integer($k))\n\t\t\t\t\t$this->with[]=$v;\n\t\t\t\telseif(isset($this->with[$k]))\n\t\t\t\t{\n\t\t\t\t\t$excludes=array();\n\t\t\t\t\tforeach(array('joinType','on') as $opt)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(isset($this->with[$k][$opt]))\n\t\t\t\t\t\t\t$excludes[$opt]=$this->with[$k][$opt];\n\t\t\t\t\t\tif(isset($v[$opt]))\n\t\t\t\t\t\t\t$excludes[$opt]= ($opt==='on' && isset($excludes[$opt]) && $v[$opt]!==$excludes[$opt]) ?\n\t\t\t\t\t\t\t\t\"($excludes[$opt]) AND $v[$opt]\" : $v[$opt];\n\t\t\t\t\t\tunset($this->with[$k][$opt]);\n\t\t\t\t\t\tunset($v[$opt]);\n\t\t\t\t\t}\n\t\t\t\t\t$this->with[$k]=new self($this->with[$k]);\n\t\t\t\t\t$this->with[$k]->mergeWith($v,$operator);\n\t\t\t\t\t$this->with[$k]=$this->with[$k]->toArray();\n\t\t\t\t\tif (count($excludes)!==0)\n\t\t\t\t\t\t$this->with[$k]=CMap::mergeArray($this->with[$k],$excludes);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\t$this->with[$k]=$v;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @return array the array representation of the criteria\n\t */\n\tpublic function toArray()\n\t{\n\t\t$result=array();\n\t\tforeach(array('select', 'condition', 'params', 'limit', 'offset', 'order', 'group', 'join', 'having', 'distinct', 'scopes', 'with', 'alias', 'index', 'together') as $name)\n\t\t\t$result[$name]=$this->$name;\n\t\treturn $result;\n\t}\n}\n"], "fixing_code": ["                   Yii Framework Change Log\n                   ========================\n\nVersion 1.1.27 under development\n--------------------------------\n\n- Bug: PHP 8.1 compatibility: Fix CFileCache call of file_get_contents (Bregi)\n- Bug: CVE-2022-41922. Prevent RCE when deserializing untrusted user input (fi3wey, marcovtwout)\n\nVersion 1.1.26 September 30, 2022\n--------------------------------\n\n- Enh #4386: Added support for PHP 8.1 (marcovtwout, JonathanArgentao, ivany4, csears123)\n- Enh #4386: Updated HTMLPurifier to version 4.15.0 for PHP 8.1 support (https://github.com/ezyang/htmlpurifier/blob/v4.15.0/NEWS) (marcovtwout)\n- Enh #4392: Added support for SSL to CRedisCache (andres101)\n- Bug #4453: Alpine Linux compatibility: Avoid using `GLOB_BRACE` in `CFileHelper::removeDirectory` (ivany4)\n\nVersion 1.1.25 December 13, 2021\n--------------------------------\n\n- Bug #4226: Fix for Gii diff displaying \"reset() expects parameter 1 to be array, integer given\" (LeoZandvliet, marcovtwout)\n- Bug #4369: PHP 8.0 compatibility: Fix warning \"Only the first byte will be assigned to the string offset\" when generating code with Gii (marcovtwout)\n- Bug #4374: Fix for createUpdateCommand which did not accept just a table name when using MSSQL (c-schmitz)\n- Bug #4380: Prevent fatal errors while validating CSRF token of malformed requests (rob006)\n- Bug #4382: PHP 8.0 compatibility: Fix CFileLogRoute throwing TypeError when logfile cannot be opened (marcovtwout)\n\nVersion 1.1.24 June 7, 2021\n--------------------------------\n\n- Bug #4339: \"There is no active transaction\" when transaction is autocommitted (twisted1919)\n- Bug #4343: Fix \"driver does not support quoting\" when using the driver pdo_odbc (xpohoc69)\n- Bug #4355: Fix errorhandler missing backtrace entries (georaldc, marcovtwout)\n- Enh #4349: Added CHtml option to omit type attribute from <script> tag (mohamedmalki, marcovtwout)\n- Enh #4351: Added CHtml option to omit CDATA wrapper from <script> and <style> contents (marcovtwout)\n- Enh #4354: Allow to set log file permissions for CFileLogRoute (jdayamx)\n- Chg #4344: Upgraded jQuery to 1.12.4 (marcovtwout)\n- Chg #4344: Upgraded jQuery UI to 1.12.1 (marcovtwout)\n\nVersion 1.1.23 December 2, 2020\n-------------------------------\n\n- Bug #4291: The scheme (protocol) is deleted when validateIDN is enabled after validation (Argevollen)\n- Bug #4306: Add PHP 8 support (samdark)\n- Bug #4310: Items on memcache won't expire due to memcache difference in internal clock (nikolasr200)\n- Bug #4325: Add support for unicode strings beyond the BMP (like emojies) in `CJavaScript::encode()` (marcovtwout)\n- Bug: Fix CFileHelper::findFiles() to use correct directory separator under Windows (samdark)\n- Enh #4305: PHP 7.3 compatibility: Support giving cookies a SameSite=None attribute value (tomfotherby)\n- Enh #4308: PHP 7.3 compatibility: Add `samesite` as a session cookie option (tomfotherby)\n- Enh #4314: Exceptions thrown while loading fixtures now contain details about the error location (BBoom)\n- Enh #4314: Missing fixture files now throw exceptions (BBoom)\n- Enh #4315: Added change triggers to clickable checkbox rows in grid views, allowing other script to react to the changed checkbox states (BBoom)\n- Enh #4317: Added special option 'encode' to `$htmlOptions` argument in `CHtml::errorSummary` and `CHtml::error` (shidenko97)\n- Enh #4323: Add PostgreSQL 12 support (bio, d4rkstar, marcovtwout)\n- Chg #4293: Updated HTMLPurifier to version 4.13.0 (https://github.com/ezyang/htmlpurifier/blob/v4.13.0/NEWS) (marcovtwout)\n\nVersion 1.1.22 January 16, 2020\n-------------------------------\n\n- Bug #4256: PHP 7 compatibility: PHP4 style constructor in Pear/Text/Diff3.php (kenguest)\n- Bug #4256: PHP 7 compatibility: Fixed deprecated usage of create_function() in markdown.php (samdark)\n- Bug #4261: PHP 7.2 compatibility: INTL_IDNA_VARIANT_2003 has been depreacated (machour)\n- Bug #4261: Updated HTMLPurifier to version 4.10.0 (https://github.com/ezyang/htmlpurifier/blob/v4.10.0/NEWS) (machour)\n- Bug #4279: PHP 7.4 compatibility: Drop use of accessing string offsets using curly braces (kenguest)\n- Enh #4273: PHP 7.3 compatibility: Add \"sameSite\" support for cookies (thekonz)\n\nVersion 1.1.21 April 2, 2019\n----------------------------\n\n- Bug #4220: Fixed PHP 7.2 incompatibility caused by the use of `create_function` in CHttpRequest and CProfileLogRoute (martinpetrasch, freezy-sk)\n- Bug #4227: Fixed PHPUnit 6 compatibility (gianniszach)\n- Bug #4229: Remove deprecation errors from framework/web/js/source/jquery.yiiactiveform.js when using jQuery 3.1.1 (kenguest)\n- Bug #4234: CVE-2018-14773. Drop support for HTTP_X_REWRITE_URL (kenguest)\n- Bug #4238: Fixed intolerance to nulls in `CJavaScript::quote()` (stevoh6, ddziaduch)\n- Chg #4236: Freeze session before changing ini settings to be compatible with PHP 7.2 (vxk7m)\n\nVersion 1.1.20 July 6, 2018\n---------------------------\n\n- Bug #4162: Adjusted Zend Escaper to be compatible with PHP <5.3 and fixed usage of non-existing Exceptions (cebe)\n- Bug #4167: Fixed PHP 7.2 incompatibility of \"count()\" in `CActiveFinder` and CController::renderDynamic() (softark, ThePepster)\n- Bug #4168: Fixed `CDbHttpSession` PHP 7.1 compatibility (csears123)\n- Bug #4179: Fixed MariaDB 10.2 current_timestamp() (yaBliznyk)\n- Bug #4182: CSecurityManager requires mcrypt extension to work, and for PHP 7.2 we need to install it from pecl (sergey-dryabzhinsky)\n- Bug #4191: Fixed \"Headers already sent.\" error in CHttpSession (daniel1302)\n- Bug #4191: Fixed \"CHtml::value() behaves differently for objects\" for PHP 7.2 (daniel1302)\n- Bug #4197: Fixed PHP 7.2 assert with string argument is deprecated warning using Gii (ThePepster)\n- Bug #4198: Fixed PHP 7.2 SQLSRV lastInsertId (agusdrs)\n- Bug #4203: Fixed `CHttpCacheFilter::sendCacheControlHeader` PHP 7.2 compatibility (b1rdex)\n- Enh #4191: Added option for filter classes loaded by YiiBase autoloader (daniel1302)\n- Chg #4160: Updated HTMLPurifier to version 4.9.3 (takobell)\n\nVersion 1.1.19 June 8, 2017\n---------------------------\n\n- Bug #4155: Ignore PHP 7.1 warnings about deprecated mcrypt (samdark)\n- Bug #4156: Timeout in checkMxPorts of mail validator is now configurable (kenguest, samdark)\n- Enh: Fixed PHPUnit 6 compatibility (samdark)\n- Enh: Reworked model error escaping to escape on output rather than in validators directly (Zaffy, samdark)\n\nVersion 1.1.18 April 19, 2017\n-----------------------------\n\n- Bug #4004: Better fix for PostgreSQL Session storage (GuillaumeSmaha)\n- Bug #4015: Fixed bug with missing \"disabled\" attribute in internally rendered hidden fields (rob006)\n- Bug #4020: Fixed PHP 7 related bug in CCacheHttpSession when destroying not cached sessions (dirx)\n- Bug #4034: Fixed `CHttpSession::getIsStarted()` PHP 7 compatibility (tomotomo)\n- Bug #4043: Fixed `CJavaScript::quote()` to properly escape Unicode characters (samdark)\n- Bug #4061: Fixed \"Fatal Error: Nesting level too deep - recursive dependency\" error in `CArrayDataProvider` (kf99916, andrewnester)\n- Bug #4064: Fixed CHtml::beginForm which produced wrong HTML when using an anchor in the action URL of a GET form (Mytskine)\n- Bug #4069: Fixed error with `eCRedisCache::executeCommand()` when the previous connection timeout exception was catched (taobig)\n- Bug #4104: Fixed PHP 7 compatibiltiy in Text_Highlighter (samdark)\n- Bug #4111: Fixed PHP 7.1 incompatibility with CFileCache when `$embedExpiry=false` (cebe)\n- Bug #4130: Fixed PHP 7 added an interception of the ParseError exception for the eval() usage (devcommiter)\n- Bug #4133: Fixed PHP 7 usage of the func_get_args() functions in YiiBase.php (devcommiter)\n- Enh #2819: backported masking of CSRF tokens from Yii 2.0 (samdark)\n- Enh #4049: Added '//' as a proper beginning of absolute URL in createAbsoluteUrl() method (ksowa)\n- Enh #4075: Added CClientScript::hasPackage() (samdark)\n- Chg #4033: Updated Pear/Text used by Gii so it's PHP 7 compatible (samdark)\n- Chg #4103: Updated HTMLPurifier to version 4.9.2 (samdark)\n- Chg: Updated Text_Highlighter to version 0.7.3 (samdark)\n- Chg: Fixed PHP 7.1 incompatibility in Text_Highlighter (cebe)\n\nVersion 1.1.17 January 13, 2016\n------------------------------\n- Bug #1191: Fixed undefined index in CListIterator when data removed in parent CList (steven-hadfield)\n- Bug #2881: CGridView was blocking refresh on filter field change event after previous filtering using ENTER key (sivir)\n- Bug #2921: Fixed CStatePersister read/write concurrency issue causing state data corruption (matteosistisette, samdark)\n- Bug #2993: Fixed MySQL datetime fields can have default CURRENT_TIMESTAMP (tomvdp)\n- Bug #3144: Fixed regression introduced in 1.1.16, whitespace before and after attributes in validation rules where not ignored (cebe)\n- Bug #3458: Fixed CGridView with enableHistory breaks queries containing '&' characters (nkovacs)\n- Bug #3476: Database sessions with Postgres did not work properly (c-schmitz)\n- Bug #3497: CErrorHandler messages for HTTP response codes were not matching RFCs (TeMPOraL)\n- Bug #3637: Fixed not quoting primary key in count statements (applee)\n- Bug #3696: Fixed broken case insensitiveness for Active Record count expressions introduced with fixed #268 (xt99)\n- Bug #3700: Undefined variable `$acceptedLanguage` in `CHttpRequest::getPreferredLanguage()` (cebe, ddebin)\n- Bug #3704: Fixed `CSecurityManager` to work properly is case `cryptAlgorithm` specified as array (samdark)\n- Bug #3715: `CSecurityManager::legacyDecrypt` in version 1.1.16 was not compatible with 1.1.15 method (DanaLuther)\n- Bug #3724: Fixed namespace prefix in WSDL generator for arrayType. (ametad)\n- Bug #3757: Fixed regression in 1.1.16 `CPgsqlSchema::dropIndex()` (samdark)\n- Bug #3764: Fixed regression in 1.1.16, `CEmailValidator::validateValue()` should not allow empty values to pass (cebe)\n- Bug #3833: Fixed `CHttpRequest::sendFile()` range support in case `mbstring.internal_encoding=UTF-8` (MonkeyMaster)\n- Bug #3869: jQuery Yii GridView now doesn't fail when refreshing grid via POST request (a-t)\n- Bug #3879: Numeric labels in CBreadCrumbs reindex after using array_merge (AloneCoder)\n- Bug #3890: Ensured forward compatibility of `CWebService::getMethodName()` (samdark)\n- Bug #3947: Fix error with `array_diff` when one of CDbCriteria->select contains \"false\" (askobara, cebe)\n- Bug #3974: Fixed warning when request parameter contains array (cmazx)\n- Bug #3976: Fixed MSSQL command builderto comply with the DELETE command syntax (odalecne)\n- Bug #3980: Fixed CRedisCache error when using `mbstring.func_overload` and UTF-8 as `mbstring.internal_encoding` (Lexx918)\n- Enh #2399: It is now possible to use table names containing spaces by introducing alias (devivan)\n- Enh #3457: CHttpRequest can now detect content type and decode JSON in REST method bodies. (Sibilino)\n- Enh #3686: Wrapper div of hidden fields in CForm now have style `display:none` instead of `visibility:hidden` to not affect the layout (cebe, alaabadran)\n- Enh #3738: It is now possible to override the value of 'required' html option in `CHtml::activeLabelEx()` (matteosistisette)\n- Enh #3812: Added 'validateValue' method to 'CBooleanValidator' class (UA2004)\n- Enh #3827: Added the $options parameter to be used in stream_socket_client in CRedisCache.\n- Enh #3872: Added database-based StatePersister implementation (AloneCoder)\n- Enh #3948: Enhanced CHttpRequest path info extraction for compatibility with PHP 7 (dmitrivereshchagin)\n- Enh #3949: Added `$overwriteAll` argument to `CConsoleCommand::copyFiles()` which can be set to true in noninteractive commands (dmitrivereshchagin)\n- Enh #3995: CAuthManager is now able to silence errors when using PHP 7 (samdark)\n- Enh #3998: Improved PHP 7 compatibility for CTimestampBehavior and CChoiceFormat, and for Travis CI (softark)\n- Enh: CApcCache is now able to handle PHP 7 APCu (samdark)\n- Chg #3776: Autoloader now doesn't error in case of non-existing namespaced classes so other autoloaders have chance to handle these (alexandernst)\n\nVersion 1.1.16 December 21, 2014\n--------------------------------\n- Bug #264: Fixed wrong timestamp precision value in postgres schema (nineinchnick)\n- Bug #268: Fixed Active Record count error when some field name starting from 'count' (nineinchnick)\n- Bug #788: createIndex is not using the recommended way to create unique indexes on Postgres (nineinchnick)\n- Bug #1257: CFileValidator is no longer unsafe by default to prevent setting arbitrary values. Instead, when no file is uploaded attribute is set to null (marcovtwout)\n- Bug #1635: CDateFormatter::format() with 'ZZZZZ' pattern used to return timezone in RFC 822 format, now returns in ISO 8601 format as it stated in CLDR (resurtm)\n- Bug #2235: CPgsqlColumnSchema can't parse default value for numeric field (cebe, pavimus)\n- Bug #2376: CHttpSession::regenerateID() now checks if session is started before regenerating session ID (samdark)\n- Bug #2378: CActiveRecord::tableName() in namespaced model returned fully qualified class name (velosipedist, cebe)\n- Bug #2519: CGridView and CListView fixed to be able handling special characters if history is enabled (klimov-paul)\n- Bug #2594: CLogRouter::processLogs() now ensures to clear the Logger messages so nothing is logged twice when method is called multiple times (cebe)\n- Bug #2654: Allow CDbCommand to compose queries without 'from' clause (klimov-paul)\n- Bug #2658: CBaseListView, CGridView, CListView: added note about $itemsCssClass and $pagerCssClass properties, they must not contain empty string, null or false values (resurtm)\n- Bug #2969: CPgsqlSchema::addColumn() converts column type twice (cebe, klimov-paul)\n- Bug #2741: Updated CHtml to add maxlength support to all HTML5 fields (ggirtsou)\n- Bug #2753: Fixed CErrorHandler::errorAction ignored if error occurs while AJAX request (klimov-paul)\n- Bug #2756: Fixed applying condition twice during Active Record relation lazy loading (klimov-paul)\n- Bug #2770: Fixed CClientScript renders scripts with different HTML options inside same tag (klimov-paul)\n- Bug #2778: Fixed throwing unnecessary exception in CFileValidator when validating MIME types for a file upload that failed (Rupert-RR)\n- Bug #2785: Use table name with schema in composeMultipleInsertCommand (nineinchnick)\n- Bug #2836: Fixed rendering when try-catching widget Exception while 'captureOutput' is set to true (darkheir)\n- Bug #2845: Fixed 1.1.14 regression affecting non-strict comparison in `CRangeValidator` validator (samdark)\n- Bug #2855: Fixed issue with Component::__call() and normal properties holding a Closure (cebe)\n- Bug #2862: Fixed array_merge caused renumbering of $data indexes in CHtml::radioButtonList() (ligser)\n- Bug #2864: Fixed CGridView ajax calls failing CSRF validation when ajaxType is set to POST (nineinchnick)\n- Bug #2874: Fixed duplicate columns selection for HAS_MANY relation with composite primary key (borro)\n- Bug #2876: Fixed single quotes in comments column causes syntax error in model code generated  by Gii(klimov-paul)\n- Bug #2884: Fixed problem with table alias in CActiveRecord that has been introduced in 1.1.14 (cebe)\n- Bug #2887: Fixed CFormElement is missing __isset() (bijibox)\n- Bug #2912: Add options parameter to CListView beforeAjaxUpdate (spikyjt)\n- Bug #2917: Restored ability to overwrite module alias via application config which was broken in 1.1.14 (klimov-paul)\n- Bug #2944: Fixed CDbCriteria fails to merge limit when it is 0 (softark)\n- Bug #2945: Fixed CUrlRule escapes dot (.) symbol on parsing (qiangxue)\n- Bug #2959: Fixed CFileValidator to encode file name, while composing error messages (klimov-paul)\n- Bug #2963: CAssetManager::generatePath no longer uses basename for hasing (eirikhm)\n- Bug #2970: Fixed Active Record may join same relation twice on eager loading. (klimov-paul)\n- Bug #3010: Problem with callables given as values to CDetailView. CDetailView now only allows annonymous functions to be called, all other values will be taken as value (cebe)\n- Bug #3064: Fixed problem with array to string converion in CDbMigration methods that accept array parameters (cebe)\n- Bug #3055: CAction::runWithParams() now returns consistent result even if called without parameters (cebe)\n- Bug #3087: Fixed crash on cookie validation when switching between enabling and disabling validation (cebe)\n- Bug #3113: Fixed problems with realpath(false) which can occur in combination with Yii::getPathOfAlias() when alias does not exist (cebe)\n- Bug #3134: Fixed the issue that query cache returns the same data for the same SQL but different query methods (qiangxue)\n- Bug #3144: It wasn't possible to use attributes with spaces in validation rules (samdark)\n- Bug #3179: Fixed a bug with CBreadcrumbs widget and homelink that did not use activeLinkTemplate property (mbdwey, cebe)\n- Bug #3206: Quote table names in CDbMessageSource::loadMessagesFromDb (nkovacs)\n- Bug #3233: Gii now allows base classes with absolute namespace as well, not only relative ones (etienneq)\n- Bug #3242: Removed display:none on form hidden fields (mahadazad)\n- Bug #3283: Fixed CEmailValidator to validate empty value (nukkumatti)\n- Bug #3288: Check if PHPUnit_Runner_Version exists before requiring (hjellek)\n- Bug #3302: CActiveForm::error() fixed to respect 'hideErrorMessage' option on regular render (klimov-paul)\n- Bug #3305: COciSchema column comment reading from another schema (gureedo)\n- Bug #3321: Clear stat cache after rotating log files so later file size check is not cached (cebe, jjdunn)\n- Bug #3327: Gii did not generate empty directories properly (gureedo)\n- Bug #3406: Fixed Object of class Imagick could not be converted to string (eXprojects)\n- Bug #3410: Fixed wrong translation parameter name in CPhpAuthManager::addItemChild() (klimov-paul)\n- Bug #3569: CConsoleCommand::copyFiles() did not replace DIRECTORY_SEPARATOR correctly (jmxhit)\n- Bug #3582: make sure `build autoload` produces the same output on both Windows and Unix platforms (GerHobbelt)\n- Bug: Fixed the bug that backslashes are not escaped by CDbCommandBuilder::buildSearchCondition() (qiangxue)\n- Bug: Fixed URL parsing so it's now properly giving 404 for URLs like \"http://example.com//////site/about/////\" (samdark)\n- Bug: Fixed an issue with CFilehelper and not accessable directories which resulted in endless loop (cebe)\n- Bug: CSecurityManager encryption and string comparison were enhanced (sarciszewski, Jan Ewald, tom--, ircmaxell, qiangxue, samdark)\n- Enh: Public method CFileHelper::createDirectory() has been added (klimov-paul)\n- Enh: Added proper handling and support of the symlinked directories in CFileHelper::removeDirectory(), added $options parameter in CFileHelper::removeDirectory() (resurtm)\n- Enh #89: Support for SOAP headers in WSDL generator (nineinchnick)\n- Enh #94: Web services: Implement document/literal encoding for WDSL (nineinchnick)\n- Enh #106: Added getters to CGridColumn to allow getting cell contents for extended use cases of CGridView (cebe)\n- Enh #132: Added ODBC support in CDbConnection (nineinchnick, resurtm)\n- Enh #182: CSort: allow arrays in asc/desc keys of virtual attributes (nineinchnick)\n- Enh #640: Introduce bigpk and bigint column types in each class extending CDbSchema (nineinchnick)\n- Enh #873: CStatRelation (CActiveRecord::STAT) now supports scopes (resurtm, klimov-paul)\n- Enh #1372: CDbCommandBuilder::createMultipleInsertCommand() now throws exception if data array is empty (cebe)\n- Enh #1515: Post-JOIN operations (use|force|ignore index()) support in relational queries (KonovalovMaxim, resurtm)\n- Enh #1593: Allow access to exception currently processed by CErrorHandler (klimov-paul)\n- Enh #1893: Added Schema and native connection support for the CUBRID DBMS (https://www.cubrid.org/) (kadishmal)\n- Enh #2119: add `y` pattern to CDateTimeParser (mrpelle)\n- Enh #2540: Enable CJSON to use JsonSerializable interface when serializing objects (sammousa)\n- Enh #2630: CLinkPager $nextPageLabel, $prevPageLabel, $firstPageLabel and $lastPageLabel can now be false to disable the buttons (index0h)\n- Enh #2640: Enable diff on gii generated SQL files (1allen)\n- Enh #2664: Added support for HTTP PATCH requests to CHttpRequest (cebe)\n- Enh #2683: Application views generated by webapp command are now using HTML5 by default (cebe)\n- Enh #2688: CHtml::beginForm() now supports additional HTTP methods, via a hidden `_method` field. (phpnode)\n- Enh #2722: CFileHelper::findFiles() accepts absolutePaths in $options and returns absolute paths if true or relative ones otherwise (defaults to true) (pavel-voronin)\n- Enh #2734: Request::getPreferredLanguage() is now able to select a best matching between supported and requested languages (zvirusz)\n- Enh #2737: CFileCache: added cachePathMode and cacheFileMode options to set modes used by chmod() for cache directory and files (ujovlado)\n- Enh #2758: Updated phpdoc in blog demo to match current IDE supported syntax (samdark)\n- Enh #2777: Allow Yii::import() and Yii::createComponent() to import classes that are loaded by other autoloaders e.g. composer (cebe)\n- Enh #2791: requirements/index.php: added CRYPT_BLOWFISH check for CPasswordHelper (tom--)\n- Enh #2799: Add HTML5 input support for color, datetime, datetime-local, week and search to CHtml and CActiveForm (phpnode)\n- Enh #2817: Allow specifying $colums and $refColumns arguments as array in various CDbSchema methods (mynameiszanders, samdark)\n- Enh #2850: Parameter 'id' added for 'ajaxUpdateError' js function at 'CListView' and 'CGridView' (klimov-paul)\n- Enh #2851: Improved Mime-Type detection by using the `mime.types` file from apache http project to dected mime types by file extension (cebe, pavel-voronin, trejder)\n- Enh #2852: Refactored ShellCommand to be easier to extend (samdark, mindplay-dk)\n- Enh #2908: Add insertMultiple to Migrations (luislobo)\n- Enh #3014: Allow changing the database used by ActiveRecord in beforeCount() like it is possible in beforeFind() already (cebe)\n- Enh #3023: Added support for formatting DateTime instances to CFormatter (cebe, nitso)\n- Enh #3027: Added custom encodeLabel attributes of the CMenu items (hugeval)\n- Enh #3048: CApcCache is now compatible with APCu (iobotis, samdark)\n- Enh #3049: 'cli' mode detection at CConsoleApplication improved (klimov-paul)\n- Enh #3061: 'jquery.yiiGridView' and 'jquery.yiiListView' allows to handle all update options via history state data (klimov-paul)\n- Enh #3068: Added CDbCommand::naturalLeftJoin() and CDbCommand::naturalRightJoin() (bunchachis)\n- Enh #3115: Updated phpdoc for better code completion in modern IDEs (samdark)\n- Enh #3147: Updated Request::getIsSecureConnection() to work with lower and uppercase config values (cebe)\n- Enh #3156: It is now possible to override the models PK using primaryKey() method, even if the table defines one (drLev)\n- Enh #3182: Added namespace support for controllers in subdirectories (Ekstazi, samdark)\n- Enh #3202: Adding support for the `X-HTTP-Method-Override` header in CHttpRequest (pawzar)\n- Enh #3211: Added support for PHPUnit 3.8+ in the bootstrap (JoelMarcey, samdark)\n- Enh #3222: 'summaryTagName' and 'emptyCssClass' options added to CBaseListView (klimov-paul)\n- Enh #3225: Added CForm::errorSummaryHeader and CForm::errorSummaryFooter, used like in CActiveForm::errorSummary() (rawtaz)\n- Enh #3228: Added an ability to migrate to the certain time (gorcer, resurtm)\n- Enh #3277: CHtml::checkBoxList and radioButtonList to take into account closeSingleTag for <br> (hwmaier)\n- Enh #3307: Adding attribute localeClass to CApplication (pawzar)\n- Enh #3314: Removed async from special attribute list enabling async=false for scripts (wilwade)\n- Enh #3324: Added syslog log route (miramir, resurtm)\n- Enh #3346: Added `fileHeader` option to MessageCommand (mbdwey)\n- Enh #3349: Added errorCallback to CActiveForm::$clientOptions (rusalex)\n- Enh #3351: Allow array attribute for CFileValidator even if `maxFiles` is not > 1 (cebe)\n- Enh #3359: Added merge parameter to CModule::setModules (KJLJon)\n- Enh #3391: Exception and log for not existed ClientScript package (rusalex)\n- Enh #3500: Framework now responds with HTTP protocol version requested (samdark)\n- Enh #3513: Added 'getExtensionByMimeType' method to CFileHelper class (UA2004)\n- Enh #3533: Added Yii and YiiBase classes to composer autoloader (sammousa)\n- Enh #3571: Extracted rendering of data cell in CGridView.renderTableRow() to separate method for extensibility (hijarian)\n- Enh #3623: `itemscope` attribute is now rendered as HTML5 boolean (vercotux)\n- Chg #2025: Upgraded jQuery to 1.11.1 (marcovtwout)\n- Chg #3042: CPasswordHelper::generateSalt() now returns salt with $2y$ cost (samdark)\n- Chg #3137: Upgraded HTMLPurifier to 4.6.0 (samdark)\n- Chg #3298: ListView and GridView: Added check for the existence of a href attribute in link pager (dutchakdev)\n- Chg #3464: Updated multifile plugin used by CMultiFileUpload to version 1.48 (samdark)\n- Chg #3636: Upgraded jQuery UI to 1.11.2 (marcovtwout)\n- Chg: Updated the i18n data bundled with the framework to CLDR23.1 <http://unicode.org/Public/cldr/23.1/> this adds new locales and has many fixes and additional data for existing ones (cebe, dralshehri)\n- New #2955: Added official support for MariaDB (cebe, DaSourcerer)\n\nVersion 1.1.15 June 29, 2014\n----------------------------\n- Bug (CVE-2014-4672): CDetailView may be exploited to allow executing arbitrary PHP script on the server (cebe, qiangxue)\n\nVersion 1.1.14 August 11, 2013\n------------------------------\n- Bug: There was unnecessary echo in CRUD views generated by Gii (samdark)\n- Bug: CJavaScript::encode was formatting floats in a wrong way during encoding (samdark)\n- Bug: Fixed minLength and maxLength range check in CCaptchaAction::generateVerifyCode so values are now always stay in bounds (samdark)\n- Bug #101: CActiveFinder::buildJoinTree() no longer uses 'false' for 'select' value (klimov-paul)\n- Bug #135: Fixed wrong CActiveRecord rows count with having (klimov-paul)\n- Bug #139: Fixed Active Record lazy load through relation with condition (klimov-paul)\n- Bug #150: Fixed CWidget was not switching between view paths when using themes (antoncpu)\n- Bug #159: CUploadedFile::getInstancesByName() has been fixed allowing correct fetching files, which name is a part of other file name (klimov-paul)\n- Bug #196: CActiveForm: models list whose errors should be displayed in error summary is now customizable when using AJAX validation (resurtm)\n- Bug #662: Fixed incorrect Active Record lazy loading of relation through BELONGS_TO relation (klimov-paul)\n- Bug #1464: Fixed transparent background for ImageMagick in CCaptchaAction (manuel-84, cebe)\n- Bug #1669: CNumberValidator used to add wrong error messages in case non-numeric values being validated (resurtm)\n- Bug #1692: CWebUser::renewCookie() and CWebUser::restoreFromCookie() now make use of the identityCookie options (f10i)\n- Bug #1693: Fixed log file will rotate twice when high performance (monque)\n- Bug #1724: Allow CClientScript registering scripts and script files with the HTML options (klimov-paul)\n- Bug #1732: CWebLogRoute and CProfileLogRoute with enabled $showInFireBug: fixed bug related to JS `console` object in MSIE 8 and 9 (resurtm)\n- Bug #1763: CSqlDataProvider was appending another ORDER BY string to an existing ORDER BY statement when using fieldname with dot (szako)\n- Bug #1827: Gii wasn't properly handling table name with the schema part for PostgreSQL (resurtm)\n- Bug #1895: Fixed erroneous language attributes in french views (located at `framework\\views\\fr`) (Ragazzo)\n- Bug #1909: CGridView::$filterSelector now prevents default action after event has completed by returning false result in event handler function (matih)\n- Bug #1911: MigrateCommand does not rely on cached value about migration table existance anymore as this info could be outdated in testing enviroment (cebe)\n- Bug #1915: CDataProviderIterator: fixed init in case of disabled pagination (antoncpu)\n- Bug #1916: CMssqlSchema::findColumns() issues an \"invalid object name\" error (resurtm)\n- Bug #1924: CLogFilter::$dumper added: this property can be used to get around circular reference issue when using standard `var_export` dumper by changing it to `print_r` (resurtm)\n- Bug #1933: fixed using \"multiple\" parameter with a value of false in CHtml::activeDropDownList, CHtml::ListBox and CHtml::DropDownList (adminnu)\n- Bug #1941: yiiactiveform.js form reset now uses CHtml::errorCss instead of a hardcoded value (mdomba)\n- Bug #1942: CActiveForm client/ajax validation will now remove error class from server side validation (mdomba)\n- Bug #1945: Reference to undefined variable $column in CDbMigration::dropPrimaryKey (paystey)\n- Bug #1955: Some validators used to cause warnings or errors in case non-scalar array typed values being checked (resurtm)\n- Bug #1957: Add primary key support for MySQL schema (paystey)\n- Bug #1984: CDbMigration: fix of undeclared variable usage in debug information in dropPrimaryKey (papulovskiy)\n- Bug #1990: CDateFormatter::formatWeekInMonth(): incorrect result for a week which was last in a previous year and first in a next year simultaneously (resurtm)\n- Bug #1996: Using yiic help for commands with parameters with array as default value resulted in PHP error with latest PHP versions (dInGd0nG, samdark)\n- Bug #1997: Cache key in CGettextMessageSource::loadMessages wasn't specific enough (odevyatkov)\n- Bug #2023: CHttpRequest::stripSlashes() now modifies array keys as well (etienneq)\n- Bug #2030: Fixed problem with MySQL 4.x: Undefined Index: Comment in CMysqlSchema (cebe)\n- Bug #2048: AR now uses alias from CActiveRecord::getTableAlias instead of always using default \"t\" (s-larionov)\n- Bug #2049: CStatElement relation with join option throw exception when key-field present on joined table (Yiivgeny)\n- Bug #2078: Fixed problem with \"undefined\" parameter in query string when using CListView or CGridView with enableHistory (Parpaing)\n- Bug #2086: Fixed .hgignore rule for assets folder (GeXu3, Koduc)\n- Bug #2087: CLocale: getLocaleDisplayName() was only returning the language display name, not the full locale display name (brandonkelly)\n- Bug #2112: Fixed broken yiic shell CRUD command (mbischof)\n- Bug #2121: CMssqlSchema::resetSequence() incorrectly resets sequence (resurtm, joewoodhouse)\n- Bug #2122: CActiveRecord, lazy load: 'params' from relations used in 'through' option were not applied to the final SQL statement (resurtm)\n- Bug #2123: Fixed error in plural rules handling if locale has no plural rules defined (cebe, stepanselyuk)\n- Bug #2146: CEmailValidator fix when fsockopen() can output uncatched error 'Connection refused (61)' (armab)\n- Bug #2159: Fixed SQL syntax for delete command with join in MySQL (serebrov)\n- Bug #2184: CDbHttpSession now supports MS SQL Server BLOB data type (cheuschober, resurtm)\n- Bug #2201: Cannot use \"having\" with bound params in CActiveRecord::count() (ivokund)\n- Bug #2216: CDbCommandBuilder::createInCondition() has been updated, allowing to pass array of values with mixed keys for the single type column (klimov-paul)\n- Bug #2223: CActiveForm::error does not respect CHtml::$errorMessageCss (ivokund)\n- Bug #2239: Fixed CHtml::refresh() method to use proper syntax (mdomba)\n- Bug #2241: COciSchema::resetSequence() now works the same way as the same methods for the other RDMBSes. PHPDocs of the CMssqlSchema::resetSequence(), CMysqlSchema::resetSequence(), CPgsqlSchema::resetSequence(), COciSchema::resetSequence() and CSqliteSchema::resetSequence() methods have been adjusted to fit their real functionality (resurtm)\n- Bug #2244: MessageCommand has been updated, allowing to merge string with value '0' correctly (klimov-paul)\n- Bug #2258: CJuiSliderInput didn't support string typed 'range' option (bookin)\n- Bug #2283: Gii Model Generator's tooltips are not working and always invisible (resurtm)\n- Bug #2289: CDbCacheDependency with reuseDependentData did not invalidate cache when getting cache across different requests (marcovtwout)\n- Bug #2299: CMssqlSchema: findTableNames(), getTables() and getTableNames() methods used to prepend schema prefix to the table names twice (resurtm)\n- Bug #2311: Fixed SQlite default value for timestamp CURRENT_TIMESTAMP (zeeke)\n- Bug #2321: CGettextPoFile is now able to parse multiline msgid and msgstr declarations (resurtm)\n- Bug #2325: Fixed UTF-8 troubles in CDateTimeParser (error in parsing chinese and thai dates) (s-larionov)\n- Bug #2336: PostgreSQL: CDbCommandBuilder used `NULL` instead of `DEFAULT` as default value for the primary keys of serial type (resurtm)\n- Bug #2368: Reset error CSS for ':input', which includes SELECT elements (blueyed)\n- Bug #2398: Fixed 'Undefined variable: results' E_NOTICE at CProfileLogRoute (klimov-paul)\n- Bug #2402: Fixed clientValidation incorrectly rendered as HTML attribute, when used in CActiveForm::error() (mdomba)\n- Bug #2406: CUrlManager::$urlRuleClass now supports path alias value (as it was described in its PHPDoc before this fix) (resurtm)\n- Bug #2423: Fixed CHtml::button() enforces \"value\" attribute for the image buttons (klimov-paul)\n- Bug #2426: CDbCriteria::__wakeup() used to issue an error in case SQL containing fields were arrays and criteria parameters were specified (resurtm)\n- Bug #2438: CViewAction now checks if requested view is a string to not fail when array was given (cebe)\n- Bug #2449: CSqlDataProvider causes an error when CDbCommand with enabled PDO::FETCH_OBJ mode used as SQL source (resurtm)\n- Bug #2454: Fix CMysqlColumnSchema::extractLimit for ENUM values containing comma (blueyed)\n- Bug #2491: Prevent SQL exception being thrown when inserting a row into the session table whilst regenerating the session ID (mynameiszanders)\n- Bug #2502: Fix match controller in access rule, match uniqueId instead id (slavcodev)\n- Bug #2508: Fix CHtml::activeLabel() to resolve attribute input name for tabular input with custom 'for' (klimov-paul)\n- Bug #2516: Fixed the bug that some $.fn.yiiGridView methods were not working always if a custom CGridView::template was used (buakos)\n- Bug #2524: Fixed incorrect HTTPS detection (resurtm)\n- Bug #2551: CWebUser::loginRequired() AJAX response now properly sends 403 (creocoder)\n- Bug #2554: Fixed CRangeValidator when allowEmpty is false (samdark, creocoder)\n- Bug #2565: CCaptchaAction in ImageMagick mode used to issue an exception in case $backColor or $foreColor have had leading zeros (resurtm)\n- Bug #2581: Fixed the bug with empty ajaxVar in jquery.yiilistview.js and jquery.yiigridview.js (seregagl)\n- Bug #2602: CUrlValidator and CEmailValidator now works correctly with display_errors = on and validateIDN = true (creocoder)\n- Bug #2662: CLocale::getTerritory() used to return null value even for proper input values, bug fix #1622 made in 1.1.13 has been reverted (resurtm)\n- Bug #2632: Fixed inability import non-build aliases by config on some case (Yiivgeny)\n- Bug #2651: CHttpSession was using hardcoded GC probability/divisor values (marcovtwout, cebe, samdark)\n- Enh: Better CFileLogRoute performance (Qiang, samdark)\n- Enh: Refactored CHttpRequest::getDelete and CHttpRequest::getPut not to use _restParams directly (samdark)\n- Enh #100: CLogFilter::$logVars can now be array of arrays intended for designating particular items of the $GLOBALS (resurtm, tomtomsen)\n- Enh #129: Proper support of namespaced models in forms (LastDragon-ru, Ekstazi, pgaultier)\n- Enh #169: Allow to set AJAX request type for CListView and CGridView (klimov-paul)\n- Enh #289: Gii module could be submodule of an another module (resurtm)\n- Enh #315: COciSchema::checkIntegrity() method added: allows to toggle integrity check (resurtm)\n- Enh #755: Allow to get currently running command from CConsoleApplication (klimov-paul)\n- Enh #1065: CJuiSliderInput now supports ranged slider when using it without model (resurtm)\n- Enh #1142: CSecurityManager::computeHMAC() has been made public (resurtm)\n- Enh #1353: Added onBeforeCount event to CActiveRecord (jakob-stoeck)\n- Enh #1391: CDetailView: callables (including anonymous functions for PHP 5.3+) could be used as value generators of the attributes (resurtm)\n- Enh #1447: CSqliteSchema: added enabling/disabling integrity check for sqlite (gleb-sternharz, resurtm)\n- Enh #1589: Added HTTP range responses support to CHttpRequest::sendFile (Ragazzo, samdark)\n- Enh #1604: Added method CDbCommandBuilder::createMultipleInsertCommand() to support multiple insertion (klimov-paul)\n- Enh #1725: Added CFileHelper::removeDirectory() static method (resurtm)\n- Enh #1743: Added CActiveForm::searchField() and CHtml::activeSearchField() to create HTML input field of type SEARCH (njasm)\n- Enh #1794: Added ability to change widget ID via $htmlOptions['id'] array item in: CTabView, CBaseListView, CListView, CGridView, CDetailView, CMenu, and CPortlet (umrs)\n- Enh #1796: Separate count criteria has been added to the CActiveDataProvider, it's useful for the counting queries simplification (resurtm)\n- Enh #1818: Created a CLocalizedFormatter application component that allows formatting values according to current locale (cebe)\n- Enh #1842: Added support for MySQL BIT(M) data type default values (migelsabre, cebe)\n- Enh #1847: Added COutputCache::varyByLanguage to generate separate cache for different languages (Obramko)\n- Enh #1863: Added CActiveFinder::getModel, added CActiveRecord::getActiveFinder, CExistValidator::getModel, CUniqueValidator::getModel, CActiveDataProvider::getModel, CSort::getModel (denisarius, samdark)\n- Enh #1928: Gii is now able to use table columns' comments as the attribute labels of a new generated model (resurtm, tlikai)\n- Enh #1948: Tidy up and improve html5 input support in CHtml and CActiveForm (phpnode)\n- Enh #1977: CFormatter::normalizeDateValue() now is protected instead of private to enable child classes to override it (etienneq)\n- Enh #2003: Gii now allows namespaced base classes to be defined in generators (etienneq)\n- Enh #2038: CFormatter::formatNtext() method can replace newlines with `<p></p>` not just with `<br />` as it was before (resurtm)\n- Enh #2053: CPasswordHelper has been refactored, CSecurityManager has been enhanced and is now able to generate cryptographically strong random bytes and strings (resurtm, tom--, ekerazha, samdark)\n- Enh #2062: CWsdlGenerator now supports soap indicators (sequence, choice), injecting of custom WSDL string block and generation of human-friendly documentation for complex types. Added unit test. (lubosdz)\n- Enh #2090: Allow passing array of columns to CDbSchema::addPrimaryKey() (paystey)\n- Enh #2096: CAPTCHA: non-free Duality.ttf font replaced by open/free SpicyRice.ttf (licensed under SIL OFL v1.1) (resurtm)\n- Enh #2131: Added Accept header parsing to CHttpRequest to give an array of accepted types in order of preference (Rupert-RR)\n- Enh #2135: MessageCommand can now handles Yii::t() messages with files in subfolders (firsyura)\n- Enh #2205: CActiveForm::error() now depends on CHtml::$errorContainerTag (malyshev)\n- Enh #2213: Added comment with hint on ajax validaton which may lead to duplicate entries in the database to gii form template (elmig, cebe)\n- Enh #2217: Support of the empty option for CHtml::radioButtonList() has been introduced (resurtm)\n- Enh #2254: CForm::$showErrors property has been added, it controls whether error elements of the form attributes should be rendered (resurtm)\n- Enh #2275: Added primary log rotation by copy and truncate to CFileLogRoute (bdstevens)\n- Enh #2415: Cancel current ajax request before create a new one in CGridView and CListView (gusnips)\n- Enh #2416: Avoid instantiating HTMLPurifier on each CHtmlPurifier::purify() call. Allow to pass array as argument of CHtmlPurifier::purify() (twisted1919)\n- Enh #2435: CFileCache entry expiration time could now be embedded into the cache file instead of changing file's modification time to be in future (resurtm)\n- Enh #2459: Absolute session timeout in CWebUser (ivokund)\n- Enh #2494: Allow to configure CBaseListView emptyText container tag name (ifdattic)\n- Enh #2529: Silenced all chmod calls to prevent \"chmod() operation not allowed\" error on NTFS (samdark)\n- Enh #2602: CEmailValidator and CUrlValidator now uses native PHP `idn` extension in case it is available (`idn_to_ascii` and `idn_ to_ utf8` functions) and Net_IDNA2 otherwise (resurtm, creocoder)\n- Enh #2642: Support third party autoloaders when importing classes via Yii::import() (phpnode)\n- Chg: Upgraded HTMLPurifier to v4.5.0 (samdark)\n- Chg #645: CDbConnection now throws CDbException when failed to open DB connection instead of failing with a warning (kidol, eirikhm, samdark, cebe)\n- Chg #895: Add second argument $params to client validation function (slavcodev)\n- Chg #1891: Changed order of methods in models generated by Gii and yiic, added better description of search method (hijarian, samdark)\n- Chg #2069: Upgraded jQuery BBQ Plugin to 1.4pre to fix jQuery compatibility problems (samdark)\n- Chg #2183: Vendors: phlymail's Net_IDNA was replaced by PEAR Net_IDNA2 (resurtm, DaSourcerer)\n- Chg #2187: Vendors: punycode.js updated from 1.1.1 (June 27, 2012) to 1.2.0 (October 10, 2012) (resurtm)\n- Chg #2461: Upgraded jquery star rating to 4.11 (samdark)\n- Chg #2531: Upgraded jquery masked input to 1.3.1 (samdark)\n- New: Added CRedisCache which uses redis key value store as cache backend (cebe, maxlun86)\n- New #575: Yii registering at Packagist, added composer info file (schmunk42)\n- New #1785: Added CPasswordHelper (tom--)\n- New #2178: Added Catalan Translation (ArnauAregall)\n- New #2370: New template placeholders for CHtml::radioButtonList() and CHtml::checkBoxList() (creocoder)\n- New #2530: Added 'through' option to CActiveRecord::BELONGS_TO relation (creocoder)\n\nVersion 1.1.13 December 30, 2012\n--------------------------------\n- Bug #93: Criteria modification in CActiveRecord::beforeFind() did not apply when record was loaded in relational context. See UPGRADE instructions for details on behavior change. (cebe)\n- Bug #109: formatNumber() now uses number_format() instead of round(), because of round() error in IEEE754 accuracy limitations (SonkoDmitry)\n- Bug #110: MSSQL: fixed empty $primaryKey value after saving CActiveRecord model (resurtm)\n- Bug #112: MSSQL: database abstraction layer now uses native transaction support of the SQLSRV driver (resurtm)\n- Bug #124: Added CMysqlCommandBuilder to handle JOIN directive on update commands correctly (cebe, DaSourcerer)\n- Bug #126: Fixed CWebUser::getReturnUrl(), allowing to determine default URL correctly, if CUrlManager::showScriptName is set to false (klimov-paul)\n- Bug #138: CMysqlSchema fixed to support MySQL ANSI mode (cebe)\n- Bug #140: Fixed validation CJuiButton with type buttonset (adminnu)\n- Bug #162: Eventhandler attached twice when behavior is set enabled after attaching it (cebe)\n- Bug #218: Fixed problem when using 'union' and 'order/limit/offset' in CDbCommand::buildQuery (nsanden)\n- Bug #276: Tweaked CGridView stylesheet to include a hover style for the selected row (acorncom)\n- Bug #810: Gii now adds a number to the end of relation name if same named relation already exists instead of not generating relation (n30kill, samdark)\n- Bug #835: CApplication::onEndRequest is now called at the script shutdown to make sure log is written on forceful script termination (samdark, cebe)\n- Bug #837: Fixed method CDbCriteria::__wakeup(), allowing to keep custom names for params and update all string parts for automatic params (klimov-paul)\n- Bug #959: Bug where non-lowercase keys cannot be found in CConsoleApplication::$commandMap fixed (resurtm)\n- Bug #962: Fixed handling of negative timestamps in CDateFormatter::format() (johnmendonca)\n- Bug #1094: CListView with enabled history used to clear page title in case sorting or paging performed (Opera and Firefox only) (mdomba, resurtm)\n- Bug #1095: Added missing retry_interval parameter of addServer function call in CMemCache (Lisio)\n- Bug #1181: Fixed can read but not save binary data e.g. BYTEA on PostgreSQL (karmakaze)\n- Bug #1212: Added missing .gitignore files to the application generated by WebAppCommand (resurtm)\n- Bug #1249: CHttpRequest::sendFile() outputs malformed file content in some specific circumstances (andyhu)\n- Bug #1279: CHttpRequest::sendFile() now always sends valid content-header (Ragazzo)\n- Bug #1330: SQLite column default value was incorrect for column of type string and DEFAULT NULL (cebe)\n- Bug #1344: Fixed URL problem in CGridView and CListView when enableHistory was true and unicode chars where used (mdomba, Redjik)\n- Bug #1347: CDbTestCase: table name in fixtures list enclosed into double curly brackets (e.g. 'tasks'=>':{{task}}') didn't worked properly (resurtm)\n- Bug #1351: CClientScript::registerMetaTag() now allows to register multiple meta tags with the same set of attributes (klimov-paul)\n- Bug #1364: Empty CHtml::$errorCss cause class attribute rendering errors (creocoder)\n- Bug #1381: Ignore select given by criteria or scope on stat relation (cebe)\n- Bug #1392: HostInfo was appended to CHttpRequest::redirect() location in case of using protocol relative URLs (dInGd0nG, samdark)\n- Bug #1406: Fixed the issue that false value returned from CDbCommand could not be cached properly (mdomba)\n- Bug #1407: CDbCommandBuilder::createCountCommand() used to bind parameters for unused ORDER clause and unused SELECT part (resurtm)\n- Bug #1444: Fixed CGoogleApi::register call to registerScriptFile (mdomba)\n- Bug #1478: Fixed CWsdlGenerator error when using namespaced classes (Diego-Rocha)\n- Bug #1485: CSort does not quote table alias when using CDbCriteria (undsoft)\n- Bug #1492: Fixed jQuery calls when noConflict feature was used and jQuery code was returned by ajax calls (l-nagash)\n- Bug #1499: Fixed CVarDumper highlighting \"\\\" (antoncpu)\n- Bug #1549: Fixed CFormatter::sizeFormat() to use translations from 'yii' category and corrected english default translation, also improved number formatting (cebe)\n- Bug #1552: Fixed potential vulnerability in CJavaScript::encode(): $safe parameter didn't used to be passed to the recursive method calls (resurtm)\n- Bug #1575: MessageCommand::extractMessages fails to ignore invalid category definitions (softark)\n- Bug #1584: Fixed CGridView and CListView urls when enableHistory was used with \"path\" urlFormat (mdomba)\n- Bug #1621: Fixed CCompareValidator to support {compareAttribute} in $message also on client-side (cebe)\n- Bug #1622: CLocale::getTerritory() used to return invalid territory name when locales (language tags) were specified without territory part (e.g. 'de', 'fr') (resurtm)\n- Bug #1624: Requirements page now tries all other preferred languages when the most preferred one is missing (ArtVal)\n- Bug #1625: CEmailLogRoute does not properly encode UTF8 characters contained in logs, CEmailLogRoute::$utf8 property added (mdomba, resurtm)\n- Bug #1628: Active HTTP sessions overwrote the Cache-Control header set by CHttpCacheFilter (DaSourcerer)\n- Bug #1646: CLocale::getTerritory() used to return invalid territory name when locales (language tags) were specified with script part (e.g. 'zh-Hans-CN', 'zh-Hant-HK') (resurtm)\n- Bug #1652: Fixed incorrect syntax of CDbSchema::renameTable() for SQLite, added CSqliteSchema::renameTable() method (Sarke)\n- Bug #1673: CHttpRequest::getPreferredLanguage now works according to RFC2616. Added CHttpRequest::getPreferredLanguages that returns all user accepted languages in order of preference (Rupert-RR, bwoester, cebe, samdark)\n- Bug #1676: Fixed listData() grouping when no group was specified (mdomba)\n- Bug #1716: Fixed CCodeModel::pluralize() and CConsoleCommand::pluralize() so it doesn't force lowercase the first letter in any words (nsanden)\n- Bug #1726: Fixed the error Undefined variable: json in CJSON.php when json_decode function did not exist (heyhoo)\n- Bug #1792: Fixed persistent access permissions when two identities were used in a single application run. (jhenriquemc, Fran\u00e7ois Gannaz)\n- Bug #1853: CAssetManager::publish() method will throw an exception if $forceCopy and $linkAssets are both true (resurtm, mdomba)\n- Bug: Table schema is refreshed on Gii model generation when schemaCachingDuration is used (SonkoDmitry)\n- Bug: CDbCommand::setFetchMode wasn't accepting additional arguments needed for PDO::FETCH_CLASS (samdark)\n- Bug: CCaptchaAction::validate check wasn't working properly in some cases (samdark, Qiang)\n- Enh #84: Log route categories are now accepted in form of array. Added CLogRoute::except and parameter to CLogRoute::getLogs that allows you to exclude specific categories (paystey)\n- Enh #104: Added CWebLogRoute::$collapsedInFireBug property to control whether the log should be collapsed by default in Firebug (marcovtwout)\n- Enh #117: Added CPhpMessageSource::$extensionPaths to allow extensions, that do not have a base class to use as category prefix, to register message source (rcoelho, cebe)\n- Enh #144: baseID in CHtml::checkBoxList and CHtml::radioButtonList can now be customized via htmlOptions (cebe)\n- Enh #217: Added CTypeValidator::validateValue() and CTypeValidator::$strict, better check for arrays (samdark)\n- Enh #259: CHttpRequest::getRestParams is now public (samdark)\n- Enh #291: CFormatter::formatDate and formatDateTime now also accept strings in strtotime() format (francis_tm, cebe)\n- Enh #486: CHttpSession::$gCProbability and CDbHttpSession::$gCProbability are floats now. Minimal possible $gCProbability value has been changed to the \u22480.00000005% (1/2147483647), was integer 1% before, default value left unchanged (1%) (resurtm)\n- Enh #545: Add CDataProviderIterator to allow iteration over large data sets (phpnode)\n- Enh #556: CDbColumnSchema::$comment property has been added. It stores comment for the table column, comment retrieving is working for MySQL, PgSQL and Oracle (resurtm)\n- Enh #724: Third argument of CHtml::listData() now receives anonymous function as calculator of the text field value, PHP 5.3+ only (resurtm)\n- Enh #846: Added addPrimaryKey() / dropPrimaryKey() commands to CDbMigration (ridget)\n- Enh #949: Added COciSchema::resetSequence (jazahn, samdark)\n- Enh #990: Added CArrayDataProvider::$caseSensitiveSort property which allows to control whether sorting should be case sensitive (resurtm)\n- Enh #999: Changed md5() to crypt() in docs/guide/topics.auth, docs/blog and demos/blog. Added Wiki 425 tutorial on use of crypt() (tom--)\n- Enh #1084: CDateTimeParser: MMM pattern for parsing short month names is now locale aware (resurtm)\n- Enh #1146: CFileHelper::copyDirectory recursive directory creation (senz)\n- Enh #1183: CDbCommand: added andWhere()/orWhere() which appends condition to the WHERE part of the query, in contrary of CDbCommand::where() which replaces it (resurtm)\n- Enh #1184: CEmailValidator now supports IDN (Internationalized Domain Names), added CEmailValidator::$validateIDN property (resurtm)\n- Enh #1134: CAssetManager filepath creation now can be extended thru generatePath(). Path creation is now recursive in publish(). (senz)\n- Enh #1201: CMenu now supports HTML attributes for the links' wrap element specified in $linkLabelWrapper (resurtm)\n- Enh #1228: Added ability to MessageCommand to generate translation files for multiple functions (Arne-S, samdark)\n- Enh #1238: CJuiDatePicker is now using the native altField option to handle the hidden input when type flat is used (mdomba, christiansalazar)\n- Enh #1282: CDateTimeParser: added MMMM pattern for parsing standard month names such as 'January', 'D\u00e9cembre' or 'M\u00e4rz' (resurtm)\n- Enh #1286: CUrlValidator now supports IDN (Internationalized Domain Names), added CUrlValidator::$validateIDN property (resurtm)\n- Enh #1289: Added support for column comments for MSSQL (CDbColumnSchema::$comment property) (resurtm)\n- Enh #1299: Added CSRF token validation for PUT and DELETE (miraage, samdark)\n- Enh #1369: Added CCheckBoxColumn::disabled that accepts PHP expression or anonymous function determining if checkbox for the row should be disabled (sucotronic)\n- Enh #1386: Second parameter of the CHtml::value() is now able to accept anonymous function which calculates value to be used (Qiang, resurtm)\n- Enh #1396: Added 'text/csv' mime-type for the 'csv' file extension in utils/mimeTypes.php (effectively used by e.g. CHttpRequest::sendFile()) (rawtaz)\n- Enh #1426: Behaviors are now affecting memory consumption significantly less (slavcodev, creocoder, Qiang, samdark)\n- Enh #1443: Added CHttpRequest::getRawBody() that allows reading RAW HTTP request body multiple times (itamar82, resurtm, samdark)\n- Enh #1464: CCaptchaAction now supports rendering through ImageMagick, CCaptcha::checkRequirements() changed (resurtm, SonkoDmitry)\n- Enh #1500: CSqlDataProvider now supports CDbCommand in constructor (slavcodev)\n- Enh #1507: Added support for minOccurs, maxOccurs, nillable to CWsdlGenerator. Changed most of the methods visibility to protected. Added unit tests (lubosdz)\n- Enh #1518: Allow to configure CHtml::$closeSingleTags and CHtml::$renderSpecialAttributesValue. Useful for HTML5 code (creocoder)\n- Enh #1527: Added $id argument to CClientScript::registerMetaTag that allows you to override existing tags (Alex-Code)\n- Enh #1531: CArrayDataProvider is now able to sort cutted array, where sorting column is not available in every entry (Yiivgeny)\n- Enh #1535: HTML5 special attributes added to CHtml::renderAttributes() (creocoder)\n- Enh #1538: Added CListView::ajaxUpdateError for the possibility to use a custom ajax error handler (mdomba)\n- Enh #1567: Added filterSelector property to CGridView (MonkeyMaster)\n- Enh #1581: Added 'unselectValue' to CHtml::dropDownList() and CHtml::activeDropDownList() to define default post value if no option is selected in multiple mode (creocoder, mdomba)\n- Enh #1596: Added CGridView::rowHtmlOptionsExpression to allow set HTML attributes for the row (Ryadnov)\n- Enh #1657: CDbCommandBuilder::createUpdateCounterCommand now can be used with float values (samdark, hyzhakus)\n- Enh #1658: CFormatter::formatHtml() is now more flexible and customizable through new CFormatter::$htmlPurifierOptions property (resurtm)\n- Enh #2343: Added CRequiredValidator::$trim property which determines to trim attribute value or not (AnatolyRugalev)\n- Enh: Fixed the check for ajaxUpdate false value in jquery.yiilistview.js as that never happens (mdomba)\n- Enh: Requirements checker: added check for Oracle database (pdo_oci extension) and MSSQL (pdo_dblib, pdo_sqlsrv and pdo_mssql extensions) (resurtm)\n- Enh: Added CChainedLogFilter class to allow adding multiple filters to a logroute (cebe)\n- Enh: Allow CDataProvider to use custom pagination and sorter (creocoder)\n- Enh: Value of the CHtml::activeTextArea() can now be set through $htmlOptions['value'] (resurtm)\n- Enh: Allow to customize CHtml::error() container tag (creocoder)\n- Enh: CModule::setComponents() now can reconfigure already loaded components (creocoder)\n- Enh: CLocale::getWeekDayName() weekday-number argument is now more compatible with date() function, allowing 0 and 7 for sunday (Yiivgeny, cebe)\n- Enh: Added minified jQuery BBQ (samdark)\n- Chg #1193: Upgraded jQuery to 1.8.3 (samdark)\n- Chg #1373: Upgraded jquery star rating to 3.14 (samdark)\n- Chg #1548: Upgraded jQueryUI to 1.9.2 (samdark)\n- Chg #1563: Updated CTestCase for PHPUnit 3.7.7+ (tanakahisateru, samdark)\n- Chg #1746: CDbCriteria::mergeWith() is now more consistent with all other class methods (hyzhakus, samdark)\n- Chg: MSSQL unit tests updated and actualized, added SQLSRV driver support (resurtm)\n- Chg: Added Oracle unit tests (resurtm)\n- Chg: Updated CHttpCacheFilter to use dates as specified by RFC 1123 (bramp)\n- Chg: Added punycode.js v1.1.1 (https://mths.be/punycode) and IDNA Converter v0.8.0 (http://phlymail.com/en/downloads/idna-convert.html) to the vendors (third party libraries and utilities) (resurtm)\n- New: Ported offline documentation viewer from yiidoc project. Mainly usable for translations but can be used for reading offline as well (samdark)\n\nVersion 1.1.12 August 19, 2012\n------------------------------\n- Bug #190: WSDL return tag was not generated by CWsdlGenerator when Macintosh line endings were used inside service describing docblock (resurtm)\n- Bug #1066: CMemCache: expiration time higher than 60*60*24*30 (31536000) seconds led the value to expire right away after saving (resurtm)\n- Bug #1072: Fixed the problem with getTableAlias() in defaultScope() (creocoder)\n- Bug #1076: CJavaScript::encode() was not compatible with PHP 5.1 (samdark)\n- Bug #1077: Fixed the problem with alias in CSort (creocoder)\n- Bug #1083: CFileValidator is now unsafe by default. This will prevent setting attribute when no file was uploaded (samdark)\n- Bug #1087: Reverted changes to CCookieCollection::add() introduced in 1.1.11 as they were triggering E_STRICT on some old PHP-versions (suralc)\n- Bug #1088: Fixed usage of proper CActiveForm id property when it's supplied with htmlOptions (mdomba)\n- Bug #1094: CGridView with enabled history used to clear page title in case sorting or paging performed (Opera and Firefox only) (resurtm)\n- Bug #1109: Fixed \"js:\" encoding BC-break in CHtml::ajax() and related methods introduced in 1.1.11 (samdark)\n- Bug #1120: Fixed duplicate events processing in CGridView when ENTER was pressed for filtering (mdomba)\n- Bug #1192: CHttpCacheFilter failed to comply with RFC 2616, section 10.3.5 (DaSourcerer)\n- Bug #1207: Fixed an issue in CHtml::resolveValue() which occurs when handling tabular data input (Qiang)\n- Bug #1225: Fixed the bug that $.fn.yiiGridView.getChecked was not working always if a custom CGridView::template was used (mdomba)\n- Bug #1243: Fixed the bug that when using CUrlManager::addRules with $append=false rules were added in reverse order (samdark)\n- Enh #243: CWebService is now able to deal with the customized WSDL generator classes, was hardcoded to the CWsdlGenerator before, added CWebService::$generatorConfig property (resurtm)\n- Enh #636: CManyManyRelation now parses foreign key for the junction table data internally, and provide public interface to access it (klimov-paul)\n- Enh #1163: CGridview does not create empty class attributes anymore (cebe)\n- Chg #1099: Changed connectionId dropdown to sticky text field in Gii model generator (mdomba)\n- Chg #1167: Reverted back the change to CComponent::evaluateExpression() about global function support (Qiang)\n\nVersion 1.1.11 July 29, 2012\n----------------------------\n- Bug #098: No correct identity value being returned when using Active Record and mssql (c-schmitz)\n- Bug #114: CUniqueValidator and CExistValidator now respect table alias while creating db query condition (klimov-paul)\n- Bug #145: CGettextMoFile now can parse strings with no context (eagleoneraptor)\n- Bug #148: Fixed the bug in the blog demo that was not deleting right comment when not on the first page (mdomba)\n- Bug #161: CCookieCollection::remove() now accepts an array of cookie options as a second argument to facilitate correct cookie removal (maximcherny)\n- Bug #164: CEmailValidator.checkPort now checks the port 25 of listed MX servers (DaSourcerer)\n- Bug #178: webapp creation with relative paths like ../ was not working correctly (cebe)\n- Bug #193: Changed datetime column type for postgresql from 'time' to 'timestamp' (cebe)\n- Bug #238: Fixed the problem that empty row could be selected in CGridView when there was no data (mdomba)\n- Bug #295: Sometimes CJSON::decode returns null because native json_encode has bugs and returns null. Workaround to continue decoding when result of json_decode is null (luislobo)\n- Bug #381: Fixed the bug that Gii model name input could get misspelled when autocomplete is used (mdomba)\n- Bug #417: CAttributeCollections::mergeWith() does not take into account the caseSensitive (dmtrs)\n- Bug #433: Fixed the bug that Gii model name input autocomplete was not working sometimes (mdomba)\n- Bug #449: CDbHttpSession and CDbLogRoute now use query builder instead of DAO for proper quoting (mdomba, redguy)\n- Bug #454: Removed translation on CDbConnection exception as it was creating an endless loop if the application used CDbCache (mdomba)\n- Bug #517: Rule parameter sub-patterns are not checked correctly (ranvis)\n- Bug #539: Fixed CUrlRule::createUrl() to treat sub-patterns as Unicode as parseUrl() does (ranvis)\n- Bug #553: Criteria of related AR finders was affected after performing find with relational scopes (marcovtwout)\n- Bug #618: Fixed caching of CWebUser::checkAccess() when it is called first time with and second time without $params (cebe)\n- Bug #660: Fixed error when calling CDbCache::getValues (zilles)\n- Bug #697: Fixed WSDLGenerator now generating proper namespace for certain complexTypes (BBoom)\n- Bug #749: CActiveRecord::refresh() did not work in afterSave() for new records, will now always refresh, when db entry exists (cebe)\n- Bug #769: Fixed the bug that $.fn.yiiGridView.getSelection was not working always if a custom CGridView::template was used (mdomba)\n- Bug #772: CHttpRequest::getIsSecureConnection() was failing on some conditions (bulletbee, samdark)\n- Bug #773: CGridView filters now filter on enter key in Internet Explorer (BBoom)\n- Bug #803: Arbitary non-sorting links in CDataColumn's header were not working proper way (resurtm)\n- Bug #827: Fixed the problem that CJuiSliderInput was rendering a name attribute for div element (mdomba)\n- Bug #842: Active Records insert fails in MSSQL if a column has a default value of (NULL) (c-schmitz)\n- Bug #852: Fixed the problem that CActiveForm was not revalidating fields if ajax submit was used (mdomba)\n- Bug #859: Fixed CSort::applyOrder() and CSort::getOrderBy() to use custom table aliases (troch, samdark)\n- Bug #865: CLogRoute called processLogs() even if log array was empty and caused empty emails and log files (cebe)\n- Bug #879: Fixed a possible PHP error caused by CWebUser::restoreFromCookie() in combination with CHttpRequest.enableCookieValidation (kidol)\n- Bug #901: Fixed possible encoding problem on exception (mdomba, samdark, cebe)\n- Bug #1000: Added params to profiling token in CDbCommand::execute() to be consitent with CDbCommand::queryInternal() (cebe)\n- Bug #1045: Building a query with empty array as parameter will not result in a broken sql-string anymore(suralc)\n- Bug: Fixed CMenu::isItemActive() to work properly when there is a hash in the item's url (SlKelevro)\n- Bug: Added missing return statement to CAuthItem->revoke() (mdomba)\n- Bug: CHtml::resolveValue() ignoring of array elements accessor at the beginning of the $attribute argument now works properly (resurtm)\n- Enh #120: Added ability to set cookies in an object based style without specifying the cookie-name twice (suralc)\n- Enh #136: Added ability to select database connection in Gii model generator (samdark)\n- Enh #157: Added ability to use models with objects implementing ArrayAccess as properties in CHtml::resolveValue (samdark)\n- Enh #165: Allow CCacheDependency to be reusable across multiple cache calls (phpnode)\n- Enh #171: Added support for PUT and DELETE request tunneled through POST via parameter named _method in POST body (musterknabe)\n- Enh #179: CLogger now supports filtering profile timings by multiple & wildcard categories (intel352)\n- Enh #191: Added ability to customize HTML classes of CLinkPager via its public properties (mashingan)\n- Enh #206: Added ability to pass CDbCriteria object as AR relation parameter (samdark)\n- Enh #215: Added tokens to CGridView::updateSelectors to allow adding custom selectors instead replacing only (mdomba)\n- Enh #220: The URL pointing to the Google API in CGoogleApi is now protocol relative (suralc)\n- Enh #237: The tabs of CTabView now support the property 'visible' (DaSourcerer)\n- Enh #255: Sort CArrayDataProvider when elements is CActiveDataProvider or other object (rusmaxim)\n- Enh #266: Add support for HTML5 url, email, number, range and date fields to CHtml (gregmolnar)\n- Enh #267: CDbHttpSession is now able to store binary payload such as the output of the igbinary serializer (DaSourcerer, samdark)\n- Enh #282: Added CCheckBoxColumn::headerTemplate to allow custom headers (mdomba)\n- Enh #286: Added wildcard token to CDateTimeParser (cebe)\n- Enh #294: Added deniedCallback to CAccessControlFilter and CAccessRule to allow forwarding control to a method on denial (luislobo)\n- Enh #342: Added ability to pass parameters for RBAC bizRules from CAccessControlFilter configuration (claudejanz, samdark)\n- Enh #356: Improved extendability of CDetailView by adding method renderItem() (cebe)\n- Enh #369: Added $hashKey to CCache (kidol)\n- Enh #414: Added sort parameter to yiic message command that sorts messages by key when merging (ranvis)\n- Enh #455: Added support for default value in CConsoleCommand::prompt (eagleoneraptor)\n- Enh #551: Added $safe parameter to CJavaScript::encode. If set to true, 'js:' will not be allowed. If you need to pass JavaScript, wrap your code with CJavaScriptExpression instead (samdark)\n- Enh #552: Added support for http-level caching via CHttpCacheFilter (DaSourcerer)\n- Enh #568: CHtml::getIdByName() will now convert spaces to underscore to get proper ID for HTML elements (mdomba)\n- Enh #578: Added extension checks to CMemCache (samdark)\n- Enh #581: Added formatSize method in CFormatter to format file sizes into units of different order - KB, MB, etc (brilyuhns, samdark)\n- Enh #584: Refactored WebAppCommand to be more customizable, added more PHPDoc (samdark)\n- Enh #599: Added case sensitivity check when autoloading classes (qiangxue)\n- Enh #601: added the method loginRequired() to the IWebUser interface (mdomba)\n- Enh #616: CVarDumper is now correctly highligting integer array keys (vernes, samdark)\n- Enh #641: Added support for customizing serialization methods for cache components (DaSourcerer, Qiang)\n- Enh #648: Added filterHtmlOptions property to the CGridColumn component (juban)\n- Enh #652: Added namespace to yiiGridView events, so they can be easily removed by .off() jQuery method (Bethrezen)\n- Enh #673: Changed CClientScript::scripts to be public (mdomba)\n- Enh #675: CDateFormat::format() now returns null if the parameter $time is null (mdomba)\n- Enh #690: Added sender name and proper headers for UTF8 encoding when sending e-mail in SiteController->actionContact() (mdomba)\n- Enh #766: Added 'userId' to $params in CDbAuthManager::checkAccess() and CPhpAuthManager::checkAccess() (cebe)\n- Enh #666: Added property $except to CValidator, a list of scenarios that the validator should not be applied to (resurtm)\n- Enh #839: CListView::renderItems now resolves view file only once (nizsheanez)\n- Enh #938: CFileValidator::sizeToBytes() is now public and available for using in the whole application (resurtm)\n- Enh #943: CDateTimeParser is now able to parse short textual representation of month, e.g. Jan, Jun, Aug (resurtm)\n- Enh #967: Commands from YII_CONSOLE_COMMANDS environment variable are now always added to yiic console application (schmunk)\n- Enh: CFileValidator could validate uploaded file by its MIME-type, added $mimeTypes and $wrongMimeType properties (resurtm)\n- Enh: Fixed romanian translation to use the better-supported cedilla characters (tudorilisoi)\n- Enh: Added default value to CConsoleCommand::confirm (musterknabe)\n- Enh: Allowed returning integer values as application exit code in CConsoleCommand actions (cebe)\n- Enh: Added third parameter to CHttpCookie to configure the cookie by array (suralc)\n- Enh: Added getIsFlashRequest(), proper handling of Flash/Flex request when using CWebLogRoute with FireBug (resurtm)\n- Enh: Added CBreadcrumbs::$activeLinkTemplate and CBreadcrumbs::$inactiveLinkTemplate properties which allows to change each item's template (resurtm)\n- Enh: Added full-featured behaviors and events CConsoleCommand::onBeforeAction & CConsoleCommand::onAfterAction (Yiivgeny)\n- Enh: Added HTML5 history support on ajax requests on CGridView and CListView using History.js v1.7.2-r2 (https://github.com/balupton/history.js) from Benjamin Arthur Lupton (lightglitch)\n- Enh: Changed CldrCommand to use medium dateTimeFormat and updated 18n data using newest(6546) CLDR (tanakahisateru)\n- Enh: Added CErrorHandler::getHttpHeader() to send correct HTTP error codes (pgaultier)\n- Enh: CGridView, only rows in tbody should have hover effect (mdomba)\n- Enh: CClientScript::$defaultScriptFilePosition and CClientScript::$defaultScriptPosition for controlling default $position argument for registerScriptFile and registerScript (resurtm)\n- Enh: CHttpCookie now implements __toString (suralc)\n- Enh: Ability to set namespace for module controllers using CWebModule::controllerNamespace, documentation about using namespaced controllers and modules (samdark)\n- Enh: Added possibility to set the container for CHtml::radioButtonList and CHtml::checkBoxList() (pgaultier)\n- Enh: Added zii romanian(ro) translation; edited core messages to include proper romanian characters with diacritic marks (tudorilisoi)\n- Enh: Added ILogFilter interface as an alternative to using CLogFilter as base class for implementing log filters (cebe)\n- Enh: CAssetManager, added $forceCopy property which globally forces publication of asset files and directories (resurtm)\n- Enh: WebAppCommand has ability to generate fresh application with git or hg specific files (resurtm)\n- Enh: Gii default templates: added additional metadata (PHPDoc) of the variables passed into views for better IDE autocompletion (resurtm)\n- Enh: WebAppCommand generated application: added additional metadata (PHPDoc) of the variables passed into views for better IDE autocompletion (resurtm)\n- Enh #1053: CComponent::evaluateExpression will allow using global functions as callbacks (Ekstazi)\n- Chg #384: CWebUser::changeIdentity() will now delete old unused session data file (Qiang)\n- Chg #440: Upgraded JQuery UI to 1.8.22 (samdark)\n- Chg #497: Added log component and preloaded it in default console application config in order to properly log errors (samdark)\n- Chg: Upgraded jQuery to 1.7.2 (samdark)\n- Chg: More unit tests added for CHtml (resurtm)\n- Chg: Upgraded bundled markdown parser to v1.2.5 (DaSourcerer)\n- New: Added TranslationsCommand build command aimed to help translation teams (samdark)\n\nVersion 1.1.10 February 12, 2012\n--------------------------------\n- Bug Fixed the bug introduced in 1.1.9 CActiveForm required field was not validated if left empty (mdomba)\n- Bug #1799: Better fix for bug #1799 old fix was breaking CJuiDatePicker tabular input (mdomba)\n- Bug #2284: Fixed the CActiveForm clientvalidation for tabular input (mdomba)\n- Bug #3062: Fixed the bug that using yiilite.php and CLocale will cause exception (Qiang)\n- Bug #3070: Fixed the CActiveForm JS error if there is no field rendered (mdomba)\n- Bug #3071: Fixed the bug that afterValidateAttribute was not called properly (mdomba)\n- Bug #3096: Fixed the bug when reporting an error and CHtml is not loaded (mdomba)\n- Bug #3103: Fixed the bug that CActiveForm->error() was not overloading htmlOptions (mdomba)\n- Bug #3107: Fixed the wrong encoding issue of Italian messages (Qiang)\n- Bug #3108: Fixed the bug introduced in CActiveFinder::applyLazyCondition (Qiang)\n- Bug #3166: Fixed the bug that CDbColumnSchema typecasted to NULL even for NOT NULL columns (Sam Dark)\n- Enh #3063: Gii, when generating models, tableNames will be checked against reserved PHP keywords when '*' is used (mdomba)\n- Enh #3097: Added CHttpRequest::decodePathInfo() (Y!!)\n- Enh #3101: The methods of CSecurityManager do now work correctly for the case that mbstring.func_overload is in effect (Y!!)\n- Enh #3112: Fixed the exception error display on ajax calls when YII_DEBUG is true (mdomba)\n- Enh #3121: Added more rules for proper pluralization to the pluralize() method in CCodeModel and CConsoleCommand (mdomba)\n- Enh #3153: CClientScript::addPackage() now returns CClientScript instance to support method chaining (Sam Dark)\n- Enh #3154: Removed file existance check to allow relative path and added additional headers option to xSendFile() (mdomba)\n- Enh #3169: Added CSort::SORT_ASC and CSort::SORT_DESC (Sam Dark)\n- Enh: Added CActiveForm::validateTabular() to simplify ajax validation for tabular input (mdomba)\n- Chg: HTML-encoded input values for exist and unique validators (Qiang)\n- Chg: Upgraded JQuery UI to 1.8.17 (mdomba)\n- Chg: Upgraded HTMLPurifier to v4.4.0 (Sam Dark)\n\n\nVersion 1.1.9 January 1, 2012\n-----------------------------\n- Bug: Removed unnecessary COciCommandBuilder::createInsertCommand quotes (Sam Dark)\n- Bug: CHttpRequest.sendFile() gives incorrect content length when output_handler is enabled through code or non output_handler directive (Sam Dark)\n- Bug #1356: Fixed CActiveForm ajax validation when checkBoxList or radioButtonList are used (mdomba)\n- Bug #1968: Fixed inconsistence in CActiveForm error highlighting when checkBoxList or radioButtonList are used (mdomba)\n- Bug #2603: Fixed the bug that CDbHttpSession::regenerateID call when session isn't started results in SQL error (Sam Dark)\n- Bug #2623: Fixed the bug that by setting multiple classes in CGridView itemsCssClass prevents rows being selected (mdomba)\n- Bug #2635: MigrateCommand migration execution time is now measured correctly (Sam Dark)\n- Bug #2636: CConsoleCommand::init() wasn't called in yiic shell mode (Sam Dark)\n- Bug #2773: Fixed possible CUrlManager::createUrl parameters conflict when using custom URL rule classes (Sam Dark)\n- Bug #2581: Fixed CJuiTabs - not replacing id slug in header tool tips (sebas)\n- Bug #2643: Output buffer wasn't properly cleaned on displaying error screen (Sam Dark)\n- Bug #2733: Fixed CDbCriteria parameter names collision on unserialize (mcheale, Sam Dark)\n- Bug #2786: Fixed inheritance in CLDR months parsing (mcheale, Sam Dark)\n- Bug #2822: Fixed warning when \"Host:\" isn't present or is empty in HTTP request headers (Sam Dark)\n- Bug #2853: Fixed sending of the button name in CActiveForm with enableAjaxValidation enabled (mdomba)\n- Bug #2861: Removed the nested container css class in the skeleton application views (Qiang)\n- Bug #2915: Fixed client validation in CCompareValidator to compare numbers instead of strings (mdomba)\n- Bug #2932: CAuthItem::getType() returns string while using CDbAuthManager (Sam Dark)\n- Bug #2999: CSort::getDirections, error when array is passed via $_GET (Sam Dark)\n- Bug #3018: Fixed CACtiveForm ajax validation when checkBox or radioButton are used (mdomba)\n- Bug #3029: Fixed the bug that empty items were not hidden when CMenu::hideEmptyItems is true (mdomba)\n- Bug #3033: Fixed proper array merging in CDirectoryCacheDependency->generateTimestamps (mdomba)\n- Bug #3041: Fixed possible infinite loop while processing logs (Yiivgeny, Sam Dark)\n- Bug #3042: Fixed the bug that CHttpSession::setCookieMode wasn't setting session.use_only_cookies when 'none' value was used (Sam Dark)\n- Chg: Upgraded JQuery UI to 1.8.16 (Sam Dark)\n- Chg: Upgraded jQuery to 1.7.1 (Sam Dark,mdomba)\n- Chg: Upgraded CMaskedTextField jQuery plugin (Masked Input) to 1.3, added minified version (Sam Dark)\n- Chg: Reverted back the changes made to fix issue 2284 (Qiang)\n- Chg #2647: Fixed inconvenient way of defining through relation (creocoder, Sam Dark)\n- Chg #2951: Removed CConfiguration::createObject, CController::paginate and CHtml::getActiveId deprecated since 1.0.x (Sam Dark)\n- Chg #3054: CComponent::__isset properly checks for null values (mdomba)\n- Enh #2029: Added scope support to Model::relations() (creocoder, Sam Dark)\n- Enh #2129: Added Monospace font as a fallback for source code on the exception view page (mdomba)\n- Enh #2231: Added CMenu::itemCssClass for the possibility to assign one CSS class to all menu items (mdomba)\n- Enh #2334: CHttpRequest::getPathInfo() now properly decodes both UTF-8 and ISO-8859-1 encoded URIs (Sam Dark)\n- Enh #2387: Numeric keys are now displayed in error/exception stacktrace call argument if array isn't 0..X indexed (Sam Dark)\n- Enh #2602: Better error handling in CHttpSession::open() when using PHP <5.3.0 (Sam Dark)\n- Enh #2604: CArrayDataProvider::keyField can now be set to false to use keys from $rawData array instead of a named keyField (creocoder, Sam Dark)\n- Enh #2637: Related table alias set dynamically in relational query is now available in the scopes of related model (creocoder, Sam Dark)\n- Enh #2646, #2706: Added ability to join on a specific keys (creocoder, Sam Dark)\n- Enh #2654: Enhanced CUrlManager::addRules() by allowing new rules to be inserted in front of the existing rules (Qiang)\n- Enh #2715: CMap::mergeArray now can accept multiple arrays to be merged (firejdl, Sam Dark)\n- Enh #2717: Extracted MigrateCommand::createMigrationHistoryTable method from MigrateCommand::getMigrationHistory (Sam Dark)\n- Enh #2751: Added removeOld parameter to yiic message command that allows not to add obsolete lines to translation file generated (luislobo, Sam Dark)\n- Enh #2795: Added Yii::t() to YiiBase::powered() (Sam Dark)\n- Enh #2808: Added ability to override core classes using YiiBase::classMap (Sam Dark)\n- Enh #2811: Fully automated CLDR data update, updated data to 2.0.1. Added getLanguageID, getScriptID, getTerritoryID, getRegionID, getLocaleDisplayName, getLanguage, getScript, getTerritory methods to CLocale (kshaw, Sam Dark)\n- Enh #2823: Added autocomplete for Gii \"Table Name\" field (Sam Dark)\n- Enh #2855: CWebUser::login() returns the login status (mdomba)\n- Enh #2872: Added CConsoleCommand::prompt() that asks for input and CConsoleCommand::confirm() that asks for confirmation (Sam Dark)\n- Enh #2890: Added CInlineValidator::clientValidate to set custom client validation (mdomba)\n- Enh #2914: Added CClientScript::addPackage (Sam Dark)\n- Enh #2929: Added forceDownload to xSendFile options to choose between attachment and inline disposition. (mdomba)\n- Enh #2981: Added CHtml::liveEvents to set the default global style for attaching jQuery event handlers. (mdomba, Sam Dark, Ekstazi)\n- Enh #3020: Added HTTP_REFERER information to the exception log (mdomba)\n- Enh #3024: Added CDbMigration::refreshTableSchema() that refreshes specified table schema cache (Sam Dark)\n- Enh: Documented component accessors with @property for significantly better IDE autocomplete (Sam Dark, Detonator, Athari)\n- Enh: Added CWebUser->loginRequiredAjaxResponse - value to be returned for ajax calls in case the user session has expired (mdomba)\n- Enh: CFileCache::get() does now suppress a possible PHP error which might occur on concurrent requests (Y!!)\n- Enh: jquery.yiiactiveform.js added check for form visibility to validate() to prevent JS error when using CActiveForm with jQuery dialog (mdomba)\n- Enh: removed the check for ajax call in CErrorHandler::handleException() (mdomba)\n- Enh: CAssetManager now generates different hash for files/directories with different mtime (Sam Dark)\n- Enh: Yii error screen will now display proper message like error/warning/notice (mdomba)\n- Enh: CHtml::clientchange() now uses the new jQuery on() method for event binding (mdomba)\n\nVersion 1.1.8 June 26, 2011\n---------------------------\n- Bug: Fixed a typo that may cause issue when setting custom script packages with baseUrl option for CClientScript (Qiang)\n- Bug #2001: CGridView now renders the body after the footer in order to conform to the standard (Qiang)\n- Bug #2236: CJuiTabs - added id to ajax tabs (sebas)\n- Bug #2272: Fixed the bug of undefined index css in CTreeView (mdomba)\n- Bug #2274: CDbCriteria can't merge \"with\" anymore if a scope applied another \"with\" condition (Sam Dark, Michael)\n- Bug #2275: Fixed the bug that ajax error handler was not called in case of exception (mdomba)\n- Bug #2284: Fixed the bug that CActiveForm clientValidation did not work with tabular input forms (Qiang)\n- Bug #2292: Fixed the bug that CActiveDataProvider may ignore the specified criteria for the sorting configuration (Qiang)\n- Bug #2294: Fixed the bug that duplicated PK columns may appear in the join SQL statement if custom select option is used (Qiang)\n- Bug #2303: Fixed not logging anything on WSDL service failure (Sam Dark)\n- Bug #2312: Fixed the bug that auto-incremental columns for MSSQL may return non-integers as last insert ID (Qiang)\n- Bug #2328: Fixed the bug that table names was not quoted in CDbAuthManager (mdomba)\n- Bug #2338: Fixed a typo in the client validation code for CNumberValidator (Qiang)\n- Bug #2359: Fixed the bug that checkbox in Gii view template may be hidden automatically (Qiang)\n- Bug #2377: Fixed the bug that jsonp was expected instead of JSON when using AJAX and CAutoComplete at the same page (Sam Dark)\n- Bug #2382: Fixed the bug that yiic wasn't able to run if there is no commands dir in application (Sam Dark)\n- Bug #2394: Fixed a typo in CDbCache that may cause mget() to fail (Qiang)\n- Bug #2409: Fixed the bug that CCaptcha::buttonOptions is not respected (Qiang)\n- Bug #2411: Fixed the bug that CCaptcha will fail when setting buttonType to be 'button' (Qiang)\n- Bug #2422: Fixed the bug that calling CLogger::flush(true) multiple times may cause duplication of dumped messages (Qiang)\n- Bug #2426: Fixed the bug in Gii about calling a non-static method in a static way (Qiang)\n- Bug #2463: Fixed the bug that INSERT statement created by COciCommandBuilder may fail in some cases (Qiang)\n- Bug #2475: Fixed the bug that CMssqlCommandBuilder and COciCommandBuilder don't respect parameters declared in CDbExpression when doing insertion and updating (Qiang)\n- Bug #2485: Fixed the bug that CMssqlPdoAdapter is not used when the driver is sqlsrv (Qiang)\n- Bug #2509: Fixed the bug that AR for MSSQL may fail if on different catalogues (Qiang)\n- Bug #2516: CTimestamp::getDate() produced wrong output with the default timestamp (Y!!)\n- Bug #2538: Fixed the bug that AR may join with incorrect columns (Qiang)\n- Bug #2544: Fixed the bug that setting CJuiDatePicker.language to be 'en' will use wrong language (Qiang)\n- Bug #2574: Fixed the bug that overriding CActiveRecord::primaryKey() does not set the isPrimaryKey flag for columns (Qiang)\n- Bug: CMapIterator current key wasn't initialized properly (Sam Dark, Detonator)\n- Bug: Controller generated with Gii CRUD wasn't able to handle non-integer primary key (Sam Dark)\n- Bug: Query caching may give incorrect caching results when bindParam or bindValue is used (Qiang)\n- Bug: Changing CActiveForm.errorMessageCssClass had no effect when ajax and client validation were disabled (Y!!)\n- Bug: Error when using CUniqueValidator with models indexed by specific field (Sam Dark, Yiivgeny)\n- Bug: Fixed the bug that CAssetManager doesn't set permission mode according to newDirMode and newFileModel properties when publishing a directory (Qiang)\n- Enh #2319: Added support to call behavior scope through criteria 'with'=>array('scopes'=>'behaviorScope') (Sam Dark, creocoder)\n- Enh #2262: Added warning log when a session fails to start by CHttpSession (Qiang)\n- Enh #2264: Added an option to the model code generator such that the relation generation can be disabled (Qiang)\n- Enh #2268: Added CClientScript::getPackageBaseUrl() (Qiang)\n- Enh #2273: Used better merging algorithm to build query parameters that are of array type in CUrlManager (Qiang)\n- Enh #2299: Added CAssetManager.newFileMode and newDirMode (Qiang)\n- Enh #2325: Added $option parameter to CDbCommand::select() to support special SELECT syntax (Qiang)\n- Enh #2341: More verbose log message for CModel::onUnsafeAttribute. Added model class (Sam Dark)\n- Enh #2357: Documented CWebApplication accessors with @property for better IDE autocomplete (Sam Dark)\n- Enh #2361: Added CDbConnection::pdoClass that allows to specify and use custom PDO wrapper class (Sam Dark)\n- Enh #2365: Added support for creating more complex index by using createIndex() of query builder. (Qiang)\n- Enh #2386: Added CController::renderClip() (Qinag)\n- Enh #2389: MessageCommand now accepts overwrite option determining if merge result will overwrite existing file (Sam Dark)\n- Enh #2410: Improved CHtml::error() so that it can take attribute names in tabular format (Qiang)\n- Enh #2424: CDbConnection::beginTransaction() will now trigger a trace message for better debugging (Y!!)\n- Enh #2436: Added support for allowing console applications to call createUrl() (Qiang)\n- Enh #2450: Added Ctype extension check to Yii requirements checker (Sam Dark)\n- Enh #2474: Enhanced CDbCommand::insert() and update() to support CDbExpression (Qiang)\n- Enh #2483: Added CGridView::$ajaxUrl and CListView::$ajaxUrl (Qiang)\n- Enh #2493: Added money column type to the query builder (Qiang)\n- Enh #2500: Added possibility to use a custom click handler for CButtonColumn default delete button (mdomba)\n- Enh #2524: CActiveRecord::exists() now respects the scopes applied (Qiang)\n- Enh #2532: Improved Yii class autoloader to support Web servers that do not allow changing PHP include paths. (Qiang)\n- Enh #2534: Added CHtml::decode() (Qiang)\n- Enh #2535: Added YiiBase::setLogger() (Qiang)\n- Enh #2555: Exposed CFileCache::gc() so that garbage collection can be explicitly invoked (Qiang)\n- Enh #2556: Improved exception display in ajax mode (Qiang)\n- Enh #2571: Improved the code for cleaning output buffers in CErrorHandler (Qiang)\n- Enh: XHR is now passed to CButtonColumn error JavaScript callback as a first argument (Sam Dark)\n- Enh: Added CHttpSession::regenerateID() and improved CWebUser::changeIdentity() by regenerating session ID (Qiang)\n- Enh: Added CActiveRecord::saveCounters() (Qiang)\n- Enh: Added Brazilian Portuguese translation (pt_br) of the core messages (bastardgoblin)\n- Enh: CJSON::encode() can now encode non-UTF8 data (Qiang)\n- Enh: Added CLogger::autoDump to allow writing log messages to destinations in \"real time\" (Qiang)\n- Enh: Added support for using custom URL rule classes with CUrlManager (Qiang)\n- Enh: Added input length check to email and url validators to improve security (Qiang)\n- Enh: Added support to allow registering a class autoloader after Yii's default autoloader (Qiang)\n- Enh: Unit tests for validators (Kevin Bradwick)\n- Chg #2251: Changed the constructor of CUploadedFile to be public (Qiang)\n- Chg #2258: Added support to invalidate cached content by setting COutputCache::duration to be 0 (Qiang)\n- Chg #2261: Upgraded HTMLPurifier to v4.3.0 (Sam Dark)\n- Chg #2309: Changed XML mimetype to application/xml for more interoperability (Sam Dark)\n- Chg #2370: Upgraded JQuery UI to 1.8.13 (Sam Dark)\n- Chg #2401: Upgraded jQuery to 1.6.1 (Sam Dark)\n- Chg #2452: Upgraded Blueprint CSS to 1.0.1 (Sam Dark)\n- Chg #2482: CWebService will not display source file name and error line number in production mode (Qiang)\n- Chg #2496: Setting CDbConnection::$emulatePrepare to be false will now explicitly set PDO::ATTR_EMULATE_PREPARES to be false (Qiang)\n- Chg: Changed CHtml::clientChange event binding to support custom event types and avoid conflicts when using AJAX (Sam Dark)\n- Chg: Changed all js live() calls with on() as live() is deprecated (mdomba)\n\nVersion 1.1.7 March 27, 2011\n----------------------------\n- Bug #1080: Correct recursive merging for CDbCriteria::with (creocoder, Sam Dark)\n- Bug #1624: Fixed the bug that Gii would generate only one relation for a parent that has a child with more FK linking to it (mdomba)\n- Bug #1809: Fixed the bug that CPgsqlSchema did not detect sequence names correctly in some scenarios (Qiang)\n- Bug #1984: Fixed firing event multiple times when using live()/delegate() on AJAXified pages (Ekstazi, Sam Dark)\n- Bug #2026: Fixed the bug that migration command does not respect the connectionID property value (Qiang)\n- Bug #2032: Fixed the bug that beginCache with renderDynamic was not working if used multiple times (mdomba)\n- Bug #2037: Fixed CGridView js bug on selectionChanged \"sboxname is undefined\" (mdomba)\n- Bug #2060: Fixed the bug that CWebUser::getFlashes() would return a counter array in the result (Qiang)\n- Bug #2097: CHttpRequest::getUrl() should be the same as getRequestUri (Qiang)\n- Bug #2099: Fixed CDbCriteria::mergeWith error (creocoder, Sam Dark)\n- Bug #2107: Fixed the bug that calling CSqliteSchema::resetSequence() may throw exception when no autoincrement column (Qiang)\n- Bug #2130: Fixed bug that Gii code/diff view was not starting from top (mdomba)\n- Bug #2131: Fixed the bug that CGridView ajax calls would sometime display error alert when leaving the current page (mdomba,Qiang)\n- Bug #2136: CGridView filter now uses jQuery serialize() instead of param() so that a checkbox can be used as a filter (mdomba)\n- Bug #2140: Fixed the problem that CGridView even rows where not properly rendered in Firefox and Chrome (mdomba)\n- Bug #2146: Fixed the bug in CFileHelper::getExtension, validatePath and getMimeTypeByExtension that was not finding the file extension correctly (mdomba)\n- Bug #2169: Fixed the bug that some columns are not properly quoted in MigrateCommand (Qiang)\n- Bug #2178: Fixed the bug that query builder did not recognize the AS keyword when using table alias (Qiang)\n- Bug #2183: Fixed the bug that calling CActiveDataProvider::getTotalItemCount() explicitly would make the applied scopes disappear (Qiang)\n- Bug #2188: 'join' in default scopes is now respected by STAT relations (creocoder, Sam Dark)\n- Bug #2202: Fixed the bug that when setting CJuiDatePicker.flag=true, the date picker would not appear (Qiang)\n- Bug #2214: Fixed the bug that renameColumn for MSSQL did not work correctly (Qiang)\n- Bug: Fixed the bug that a PHP notice may occur in exception view if a method in the call stack has a very complex signature (Qiang)\n- Bug: Fixed error that CGridview breaks when updating non-cgridview elements (mdomba)\n- Bug: Fixed the bug in CCheckBoxColumn, \"check all\" checkbox was not being checked/unchecked when needed (mdomba)\n- Bug: Fixed the bug in CGridView, selectionChanged was not called when \"check all\" was clicked (mdomba)\n- Bug: Fixed resetting sequence in CDbCommand::truncateTable (Sam Dark)\n- Bug: Fixed CMemCache incompatibility with some pecl-memcache and memcached versions (Sam Dark)\n- Enh #558, #1755: Added parametrized named scopes, added scopes to criteria, implemented scope criteria merging (creocoder, Sam Dark)\n- Enh #802: Added RESTful URL management (Qiang)\n- Enh #923: Improved CUrlManager::parsePathInfo() to support multi-dimensional input arrays (Qiang)\n- Enh #1117: Added support for \"through\" in Active Record relations allowing to handle association table data (creocoder, Sam Dark)\n- Enh #1285: Added support for using custom script packages with CClientScript (Qiang)\n- Enh #1741: Exposed CActiveForm::attributes and summaryID (Qiang)\n- Enh #1770: Added CDbColumnSchema::autoIncrement property to allow checking whether a DB column is auto-incremental (Qiang)\n- Enh #1782: Added updateSelector property to both CGridView and CListView (Qiang)\n- Enh #1786: Enhanced CUrlValidator by adding 'validSchemes' and 'defaultScheme' property (Y!!)\n- Enh #1784: Enhanced CWidget::getViewPath() to support returning themed view path (Qiang)\n- Enh #1792: Enhanced CGridView: on ajax error a proper message is composed and displayed or optionally sent to the custom error handler (mdomba)\n- Enh #1795: Added CFormInputElement::$enableAjaxValidation and $enableClientValidation to allow turning on/off AJAX validation for individual input fields (Qiang)\n- Enh #1816: Added $dumpLogs parameter to CLogger::flush() so that log messages can be forced to be dumped at will (Qiang)\n- Enh #1843: Added 'uncheckValue' option to CHtml::activeRadioButtonList and CHtml::activeCheckBoxList. It allows to avoid hidden field rendering (creocoder, Sam Dark)\n- Enh #1847: Exposed CClientScript::$hasScripts (Qiang)\n- Enh #1852: Added CWebUser::authTimeout to support separation between authentication timeout and session timeout (Qiang)\n- Enh #1868: CDbConnection will now open a DB connection only when needed, unless autoConnection is set true (Qiang)\n- Enh #1937: Added support to use custom input ID for input fields that need AJAX-based validation (Qiang)\n- Enh #1993: Allow AR relations across separate db connections (Qiang)\n- Enh #1996: Added support for using parameter binding with class-based actions (Qiang)\n- Enh #1999: Added CCaptchaAction::offset property in order to decrease or increase the readability of the captcha (Y!!)\n- Enh #2011: Added CDbCommand::setFetchMode to allow setting PDO result fetching mode (Sam Dark)\n- Enh #2013: When creating model with Gii, database field names will be checked to conform with PHP variable naming rules (mdomba)\n- Enh #2024: Added CHttpRequest::getPut() and getDelete() to fully support RESTful requests (Qiang)\n- Enh #2059: Added support to respect the \"target\" attribute of an element generated by CHtml with \"submit\" HTML options (Qiang)\n- Enh #2063: The CActiveForm JavaScript should now correctly trigger validaton for checkbox and radio type input fields (Y!!)\n- Enh #2068: CTimestampBehavior::timestampExpression can now be a DB expression (Qiang)\n- Enh #2093: CDataColumn will now always render a filter if the filter property is a string (Qiang)\n- Enh #2094: Added SQL statement display in debug mode when an error occurs while executing a SQL (Qiang)\n- Enh #2105: Added CButtonColumn::afterDelete so that a custom javascript function can be called after the delete function (mdomba)\n- Enh #2108: Added CGridView::blankDisplay to allow customizing blank cell display (Qiang)\n- Enh #2125: Added memcached check and hint to requirements checker (Sam Dark)\n- Enh #2133: Set default focus to the password input for Gii login page (Qiang)\n- Enh #2141: Allow the 'label' option of CMenu menu items to be optional and take an empty string value (Qiang)\n- Enh #2142: Added CWebUser::autoUpdateFlash (Qiang)\n- Enh #2143: Added htmlOptions to CTreeView::data so that additional options can be set for any tree view node (mdomba)\n- Enh #2172: Added CDbMigration::execute() (Qiang)\n- Enh #2179: Added CMultiFileUpload::options so that additional options can be passed to the constructor of the multifile object (mdomba)\n- Enh #2185: Allow the column type to be optional when specifying columns for CGridView (Qiang)\n- Enh #2197: Added $escape parameter to CDbCriteria::compare() (Qiang)\n- Enh #2198: Improved CJuiTabs so that the tab content can be skipped (Qiang)\n- Enh #2199: Added CListView::separator (Qiang)\n- Enh #2206: Added $clearErrors parameter to CModel::validate() (Qiang)\n- Enh #2209: Added CDbConnection::setAttributes() and getAttributes() to support initializing DB connection with PDO attributes (Qiang)\n- Enh #2226: Added more tokens to summaryText when CBaseListView.enablePagination is set false (Qiang)\n- Enh #2227: Exposed CActiveRecord::query() (Qiang)\n- Enh: Added CGridView::ajaxUpdateError for the possibility to use a custom ajax error handler (mdomba)\n- Enh: Allowed using CController instead of Controller with webapp generated application (Sam Dark)\n- Enh: Added ability to perform Relational query without getting related models (creocoder, Sam Dark)\n- Enh: Error page now displays associative array keys in parameter list (Sam Dark)\n- Enh: Added CController::getActionParams() and invalidActionParams() to allow customizing action parameter binding feature (Qiang)\n- Enh: Added CEvent::$params (Qiang)\n- Enh: CStringValidator now uses application charset by default if mb_strlen is available (Sam Dark)\n- Chg #2001: CGridView now renders footer after the body content (Qiang)\n- Chg #2111: Calling CActiveRecord::getRelated($name, true) now will redo the DB query even if isNewRecord is true (qiang)\n- Chg #2144: Upgraded jQuery UI to version 1.8.11 (Sam Dark)\n- Chg #2148: Upgraded jQuery to version 1.5.1 (Sam Dark)\n- Chg #2163: CConsoleCommand::usageError() will now exit with error code 1 (Qiang)\n- Chg: jQuery UI now uses minified CSS (Sam Dark)\n- Chg: Removed jQuery dimensions plugin since it's in jQuery core (Sam Dark)\n- Chg: Upgraded bgiframe to 2.1.2 (Sam Dark)\n- New #1763: Added support for performing seamless client-side data validation using CActiveForm (Qiang, hightman)\n- New #2069: Added CDateValidator (Qiang)\n- New: Added support for query caching (Qiang)\n- New: Added Lithuanian translations (tomas.valacka)\n\nVersion 1.1.6 January 16, 2011\n------------------------------\n- Bug #997: Fixed the bug that relational AR query with page-by and sorting may fail to work for SQL Server (Qiang)\n- Bug #1775: Fixed the bug that AR and Gii may fail for tables not in default schema in Oracle DB (Qiang)\n- Bug #1790: Fixed the bug that CJSON::encode may generate invalid encoding result when data contains float numbers (Qiang)\n- Bug #1799: Fixed the bug that CJuiDatePicker::$name may cause a PHP error (Y!!)\n- Bug #1819: CHttpRequest::getPathInfo() now respects encoded characters (Sam Dark, creocoder)\n- Bug #1851: CFileHelper::getMimeType() was causing an error if used with PHP 5.2 and PECL fileinfo extension (Sam Dark)\n- Bug #1858: Fixed the bug that CDbCommandBuilder::createInCondition() doesn't work with composite keys (Qiang)\n- Bug #1864: Fixed a typo in CDbCommandBuilder that disables correct handling of group and having in createCountCommand (Qiang)\n- Bug #1878: Fixed the issue that keys rendered in grid view and list view should be encoded (Qiang)\n- Bug #1879: Fixed the issue the AR does not work with PostgreSQL array column type (Qiang)\n- Bug #1891: Fixed the bug that on CListView ajax request was generating a DOM container inside itself (mdomba)\n- Bug #1902: Fixed the issue that CActiveRecord::exists() may cause ambiguous column error when used in relational query (Qiang)\n- Bug #1920: Fixed the issue that the summary displayed by CGridView and CListView may be incorrect for SQL Server (Qiang)\n- Bug #1936: Fixed the issue that flat CJuiDatePicker is not closing it's tag correctly (sebas)\n- Bug #1942: Fixed the bug that CSecurityManager::computeHMAC() generates non-standard HMAC (Qiang)\n- Bug #1945: Fixed the bug that user-supplied form ID is not honored when building a form using CForm with a model (Qiang)\n- Bug #1948: Fixed a bug in generating the number symbols of I18N data from CLDR (Qiang)\n- Bug #1975: Fixed the bug that caused a PHP error when CAssetManager::publish() tried to create a symlink in a non-existing directory (Y!!)\n- Bug: Fixed the bug that CActiveForm generates unnecessary js code about setting focus (Qiang)\n- Bug: Fixed CDateTimeParser::parse() default hour, minute and second handling when they are not used in pattern (Sam Dark)\n- Enh #1733: Updated multifile plugin used by CMultiFileUpload to version 1.47 (mdomba)\n- Enh #1771: Added $driverOptions parameter to CDbCommand::bindParam() method (Qiang)\n- Enh #1785: Added CAssetManager::$excludeFiles property to support exclusion of irrelevant files from the publishing process (Y!!)\n- Enh #1836: The contact form model of the blog demo does now make use of CCaptcha::checkRequirements (Y!!)\n- Enh #1842: CHtml::button will not render the name attribute if it is set null (Qiang)\n- Enh #1860: Changed the signature of CValidator::createValidator() to make it easier to use (Qiang)\n- Enh #1849: Updated Blueprint CSS to version 1.0 (sebas)\n- Enh #1872: Added $defaultUrl parameter to CWebUser::getReturnUrl() (Qiang)\n- Eng #1875, #1987: Added support for CLDR-based plural forms format and number placeholders to Yii::t (creocoder, Sam Dark, Qiang, dmitriy.trt)\n- Enh #1877: createAbsoluteUrl in CWebApplication and CController will now respect URL rules that already have host info built-in (Qiang)\n- Enh #1885: Added ipFilters to the Gii-created config file to reduce user confusion (Sam Dark, Steve Friedl)\n- Enh #1895: Added CDbDataReader implements Countable interface (mdomba)\n- Enh #1899: Added checkIntegrity and resetSequence for SQL Server (Qiang)\n- Enh #1929: Improved CActiveForm so that it can be used multiple times on the same page for the same type of data model (Qiang)\n- Enh #1931: CDbConnection.tablePrefix can now use an empty string as table prefix (Qiang)\n- Enh #1962: Added submenuOptions option to CMenu::items (Qiang)\n- Enh #1995: Added CDbConnection::driverMap to allow more easily customizing schema classes (Qiang)\n- Enh: Updated CLDR data to version 1.9 (Sam Dark)\n- Enh: Allowed passing multiple forms or choice format quantity parameter without wrapping it with array (Sam Dark)\n- Enh: CDbConnection::quoteColumnName and quoteTableName will properly quote table prefix and schema prefix. (Qiang)\n- Enh: Added CConsoleCommand::init() (Qiang)\n- Enh: Improved the exception display with source code for each call stack (Sam Dark, Qiang)\n- Enh: Improved the error display in console command mode (Qiang)\n- Enh: Added support for using anonymous parameters and global options in console commands (Qiang)\n- Enh: Added message translations in Czech and Croatia (Qiang)\n- Enh: Enhanced CFileLogRoute to process the logs faster (Y!!)\n- Enh: Improved IDE code completion for Yii::app()-> (Sam Dark)\n- Enh: CSort now supports relation.field notation to sort grids by related model fields (Sam Dark, denis909)\n- Enh: Added CHttpRequest->xSendFile() to process file download requests by using X-Sendfile header (mdomba)\n- Enh: Refactored CMenu by adding CMenu::renderMenuItem to make it easier to be extended (Qiang)\n- Enh: Refactored CCheckBoxColumn for better use, added CCheckColumn->selectableRows (mdomba)\n- Chg #1914: Composite foreign keys should be separated by commas in CActiveRecord::relations() (Qiang)\n- Chg #1949: CGridView will now display the first page after changing filters (Qiang)\n- Chg: isset($model->x) and isset($model['x']) are now identical for CActiveRecord models (Sam Dark)\n- Chg: Changed CHtml::clientChange() to make $live a configurable option in $htmlOptions (Qiang)\n- New #1191: Implemented the database migration feature (Qiang)\n- New: Added query builder (Qiang)\n\n\nVersion 1.1.5 November 14, 2010\n-------------------------------\n- Bug #997: Fixed the bug that relational AR query with page-by and sorting may fail to work for SQL Server (Qiang)\n- Bug #1130: Fixed the bug when renderDynamic and beginCache was used together without page caching (mdomba)\n- Bug #1244: Fixed the bug that CDbCommandBuilder::createCountCommand may generate invalid SQL when having and/or group options are used (Qiang)\n- Bug #1420: Fixed the bug that the table alias set in the model was not honored in STAT AR queries (Qiang)\n- Bug #1565: Fixed the bug that COutputCache may fail to work when used to cache whole pages (Qiang)\n- Bug #1577: Fixed the bug in CMssqlSchema::compareTableNames() (Qiang)\n- Bug #1592: Fixed the bug that the hidden field generated by CHtml::checkBox may have the same ID as the checkbox. (Qiang)\n- Bug #1615: Fixed the bug that caused CLogFilter::filter() to add context informations when the log was empty (Y!!)\n- Bug #1643: Fixed the bug that CFileValidator may cause a PHP error when using maxFiles>1 and the model attribute returning unexpected array (Qiang)\n- Bug #1647: Fixed the bug that CActiveRelation may attempt to set an undefined 'together' property when merging with a criteria (Qiang)\n- Bug #1653: Fixed the bug that in PHP 5.3 CArrayDataProvider will fail due to incorrect parameters sent to array_multisort (Qiang)\n- Bug #1655: Fixed the bug in COciSchema about checking DB schema (Qiang)\n- Bug #1673: Fixed the bug that CDbSchema::getTables() might return null table schemas (Qiang)\n- Bug #1685: Fixed the bug in COciSchema that will fail when used with DB schema (Qiang)\n- Bug #1696: Fixed the bug that CJSON and CJavaScript might serialize float numbers into local-dependent strings (Qiang)\n- Bug #1715: Fixed the bug that CActiveDataProvider.sort does not respect table alias set in the query criteria (Qiang)\n- Bug #1718: Fixed the bug that Gii may fail if the error handler or user component is customized in the main application (Qiang)\n- Bug #1719: Fixed the bug that CActiveForm->focus was not working if enableAjaxValidation was set to false (mdomba)\n- Bug #1730: Fixed the bug that CDbConnection may attempt to use \"SET NAMES\" to set charset for Oracle DB (Qiang)\n- Bug #1735: Fixed the bug that CGridView and CListView may fail to work in AJAX mode if setting pagerCssClass with multiple classes (Qiang)\n- Bug #1748: Fixed the bug that CDbDataReader does not properly reset internal pointer when it has multiple rowsets (Qiang)\n- Bug: Fixed the bug that some HTTP requests may cause a PHP notice complaining HTTP_HOST undefined in CHttpRequest (Qiang)\n- Bug: Fixed a bug in CGridView JavaScript that would fail the deletion action in IE when ajaxUpdate is set false (Qiang)\n- Bug: Fixed a bug that CFileCache may slow down performance when strlen is overloaded by mb_strlen (Qiang)\n- Enh #202: Added support for console command actions and parameter binding (Qiang)\n- Enh #970: Added CController::beforeRender() and CController::afterRender() (Qiang)\n- Enh #1081: Refactored application global state management to allow loading and saving states explicitly for long-run tasks (Qiang)\n- Enh #1126: CHtml can now properly render special HTML attributes, such as readonly, disabled, according to their boolean values (Qiang)\n- Enh #1419: CMaskedTextField, CAutoComplete, CStarRating, CJuiDatePicker, CJuiAutoComplete and CJuiSliderInput now can be used with tabular input (Sam Dark)\n- Enh #1450: Added support for theming widget views (Qiang)\n- Enh #1481: Added support for autoloading namespaced classes (Qiang)\n- Enh #1522: The attributes of CDetailView now support the property 'visible' (Y!!)\n- Enh #1546: Fixed the bug that disabling behaviors did not detach behavior event handlers (Qiang)\n- Enh #1555: Added support to allow unloading/resetting an application component by calling CModule::setComponent() (Qiang)\n- Enh #1561: Enhanced Gii tooltip feature to allow disable tooltips for certain input fields (Qiang)\n- Enh #1599: Refactored CMultiFileUpload by extending from CInputWidget (Qiang)\n- Enh #1560: Removed potential circular references in relational AR queries (Qiang)\n- Enh #1578: Added support to parse AM/PM by CDateTimeParser (Qiang)\n- Enh #1583: Upgraded HTMLPurifier to v4.2.0 (Sam Dark)\n- Enh #1591: Fixed yiic.bat to make sure it works even if the path of PHP executable contains spaces (Qiang)\n- Enh #1594: Added CWebLogRoute::ignoreAjaxInFireBug to make sure ajax calls work when showInFireBug is set to true (mdomba)\n- Enh #1596: Added 'not' property to CRangeValidator and CRegularExpressionValidator in order to support inversion of the validation logic (Y!!)\n- Enh #1598: Fixed CHttpRequest::getUserAgent() to make sure it works even if HTTP_USER_AGENT is not defined (Qiang)\n- Enh #1607: Added CDbCache::setDbConnection (Qiang)\n- Enh #1611: Added support for using composite keys in CActiveDataProvider (Qiang)\n- Enh #1618: Fixed CHttpRequest::getAcceptTypes() to make sure it works even if HTTP_ACCEPT is not defined (Y!!)\n- Enh #1625: Replaced rand() with mt_rand() for generating random private keys (Qiang)\n- Enh #1627: Added check if FreeType support is installed and enabled in GD (mdomba)\n- Enh #1633: Added $defaults to CDateTimeParser::parse() to support more reasonable datetime parsing (Qiang)\n- Enh #1641: Added PhpUnit 3.5.0RC1 and up support (Sam Dark)\n- Enh #1644: Added CModel::onAfterConstruct event and allowed CModelBehavior to respond to this event (Qiang)\n- Enh #1651: Added 'name' and 'model' properties to the attribute objects used in CActiveForm javascript code (Qiang)\n- Enh #1658: Added CAssetManager::linkAssets to support publishing assets via symbolic links (Qiang)\n- Enh #1659: Improved CHttpRequest::sendFile() and CWebService::renderWsdl() to make them more secure in case mbstring.func_overload is in effect (Qiang)\n- Enh #1661: Added CActiveForm 'reset' event handler to reset validation errors if using CHtml::resetButton() (mdomba)\n- Enh #1667: Added CDbCriteria::index to support indexing the AR query result array with the specified attribute values (Qiang)\n- Enh #1668: Added validation to ensure PHP keywords be not used as class names (Qiang)\n- Enh #1688: Refactored CDbMessageSource to allow easier extension (Qiang)\n- Enh #1699: Added capability to remove duplicated script files registered for different positions in CClientScript (Qiang)\n- Enh #1710: Upgraded treeview JavaScript to version 1.4.1 (mdomba)\n- Enh #1711: JavaScript registered in POS_LOAD will now be put in jQuery window load event instead of the previous global window load event (Qiang)\n- Enh #1742: Exposing the class map feature that was previously only available to core classes (Qiang)\n- Enh #1738: Upgraded JQuery UI to 1.8.6 (Sam Dark)\n- Enh #1740: Added CModelEvent::criteria so that in onBeforeEvent event, the query criteria can be accessed (Qiang)\n- Enh #1753: Added method chaining support for CClientScript (Qiang)\n- Enh: Added checking for empty keywords in addSearchCondition(), to prevent adding unnecessary conditions (mdomba)\n- Enh: Added flushValues() method to the cache classes (Y!!)\n- Enh: Added buttonset for CJuiButoon (sebas)\n- Enh: Improved error handling to catch errors occurring in CApplication::end() (Qiang)\n- Enh: Improved CHttpRequest::sendFile() to avoid timeout errors caused by long file downloading time (Qiang)\n- Enh: Improved action parameter binding by detecting if a parameter requires array or not (Qiang)\n- Enh: Added logging of DB query params in DB query profiling (Sam Dark, Vitaliy Stepanenko)\n- Enh: Added CDbCommand::bindValues() (Qiang)\n- Chg #1355: CHtml will no longer render null attributes in HTML tags (Qiang)\n- Chg #1540: The 'name' option set in CCheckBoxColumn::checkBoxHtmlOptions will be kept as is without any change (Qiang)\n- Chg #1678: The prompt and empty options used in CHtml methods will NOT be HTML-encoded anymore. (Qiang)\n- Chg #1680: Upgraded jQuery to version 1.4.4 (Sam Dark)\n- Chg #1756: Changed CGoogleApi::BOOTSTRAP_URL to CGoogleApi::$bootstrapUrl to allow customization (Qiang)\n- Chg: The javascript files of CListView and CGridView are now registered at the end of the page (Qiang)\n- Chg: Log filters will now be invoked only when there are some log messages available (Qiang)\n- Chg: removed destructor from CDbCache, CDbAuthManager and CDbLogRoute to avoid potential DB connection issue (Qiang)\n- New #1542: Added CTypedMap (Qiang)\n\n\nVersion 1.1.4 September 5, 2010\n-------------------------------\n- Bug #698: Now you can get and modify criteria of the current query in beforeFind() event handler (Sam Dark)\n- Bug #1031: Fixed the bug that the filters in CGridView does not work in IE (Qiang)\n- Bug #1119: Added CUploadedFile::reset() to make it more test-friendly (Qiang)\n- Bug #1176: Fixed the bug that CVarDumper doesn't highlight well strings with quotes (Qiang)\n- Bug #1376: Fixed the bug that the timestamps displayed in Web application log may not be formatted properly (Qiang)\n- Bug #1377: Fixed the bug that CStarRating did not work when not setting the model property (Qiang)\n- Bug #1382: Fixed space removal in CDbCriteria::compare() (Sam Dark)\n- Bug #1384: SET NAMES problem with MSSQL PDO Provider (Qiang)\n- Bug #1390: AR may lose precision if a column is declared as unsigned int for MySQL database (Qiang)\n- Bug #1404: CSecurityManager::validateData() fails when the data is an array (Qiang)\n- Bug #1408: CDbAuthManager may throw exception when unserializing data from auth items in PHP 5.3 (Qiang)\n- Bug #1432: AR find methods with JOIN in query criteria may populate AR objects with attribute values belonging to other tables (Qiang)\n- Bug #1435: Table alias declared in scopes may be ignored when performing relational findByPk and findByAttributes queries (Qiang)\n- Bug #1476: Fixed the bug that setting 'id' to be false will still render 'id' attribute in CHtml::radioButton and checkBox (Qiang)\n- Bug #1455: CFormButtonElement generates wrong type for button tags (Qiang)\n- Bug #1488: When using cookies with CJuiWidget jquery.cookie.js is not registered (sebas)\n- Bug #1493: ShellCommand wouldn't process logs after exiting. (Qiang)\n- Bug #1521: CUniqueValidator may incorrectly fail the validation of a non-PK column when updating both this column and the PK column (Qiang)\n- Bug #1526: CFormInputElement by default should only show error if CForm::showErrorSummary is false (Qiang)\n- Enh #954: Refactored CActiveRecord and CActiveFinder so that CActiveRecord::with() always returns the AR object itself (Qiang)\n- Enh #1019: Improved CDataFormatter for formatting numeric weekdays (Qiang)\n- Enh #1073: Allow dependencies to be set in constructor of CChainedCacheDependency. Also allow dependencies to be specified as configurations. (Qiang)\n- Enh #1087: Allow CDbCriteria to be used as dynamic relational query options (Qiang)\n- Enh #1104: Added argument \"$\" to jQuery block to prevent $ alias conflict (mdomba)\n- Enh #1108: Added option to CFileHelper::getMimeType() to allow enable and disable falling back to extension-based MIME detection (Qiang)\n- Enh #1120: Improved error handling in session write handler of CDbHttpSession (Qiang)\n- Enh #1128: Improved error reporting when assets directory does not exist or is not writable (Qiang)\n- Enh #1222: Added relations information to Gii generated model's PHPDoc (Sam Dark)\n- Enh #1244: CActiveRecord::count() now respects GROUP-BY and HAVING settings (Qiang)\n- Enh #1347: Added CPagination::validateCurrentPage (Qiang)\n- Enh #1358: Enhanced the 'together' option of HAS_MANY/MANY_MANY relations so that setting it true will ensure the related table is joined with the primary table in a single SQL (Qiang)\n- Enh #1359: Added CActiveRecord::countByAttributes (Qiang)\n- Enh #1361: Added linkLabelWrapper, firstItemCssClass and lastItemCssClass to CMenu (Qiang)\n- Enh #1366: Added CListView::itemsTagName (Qiang)\n- Enh #1371: Improved js code in gii view templates to allow easier subclassing (Qiang)\n- Enh #1392: Added CCaptchaAction::fixedVerifyCode (Qiang)\n- Enh #1400: Enhanced CActiveRecord::getAttributeLabel() to support returning labels for related object's attribute (Qiang)\n- Enh #1412: Yii::import() now throws an exception when trying to include nonexisting PHP file (Qiang)\n- Enh #1414: Several enhancements to MSSQL driver used by AR (Qiang)\n- Enh #1433: Added CMessageSource::forceTranslation (Qiang)\n- Enh #1434: Added zii message translation in Italian (enrico.detoma)\n- Enh #1440: CDbException does now provide a valid error code if possible (Y!!)\n- Enh #1443: Added CCheckBoxColumn::checked to allow settings checked state for each CCheckBoxColumn row (Sam Dark)\n- Enh #1444: Added CFilter::init() (Qiang)\n- Enh #1449: Changed CDbCriteria's base class to be CComponent to better report configuration errors (Qiang)\n- Enh #1461: Enhanced CEmailLogRoute to support additional email headers (Y!!)\n- Enh #1471: CActiveForm AJAX validation should be cancelled when the form is already submitted (Qiang)\n- Enh #1509: Improved CMarkdownParser so that it can be used in console mode (Qiang)\n- Enh #1525: Added support to allow customizing 'name' attribute of checkboxes generated by CCheckBoxColumn (Qiang)\n- Enh #1532: Exposed the serviceName and namespace properties of CWsdlGenerator (Qiang)\n- Enh: Added CPortlet::hideOnEmpty property (Qiang)\n- Enh: Added CValidator::safe to allow marking a validator as safe or unsafe (Qiang)\n- Enh: Added CDbCacheDependency::params (Qiang)\n- Enh: Added CUrlManager::addRules() (Qiang)\n- Enh: Added support for using sqlsrv driver with MSSQL (Qiang)\n- Enh: Added CActiveForm::focus to set input focus on page load (mdomba)\n- Chg #1102: Added jQuery UI as a core client script package (Qiang)\n- Chg #1309: CHttpRequest::getPathInfo() now always returns decoded results (Qiang)\n- Chg #1494: CHtml::ajaxSubmitButton() will generate a submit button (Qiang)\n- Chg #1515: CModel::onUnsafeAttribute() will be invoked only when $safeOnly is true when calling CModel::setAttributes (Qiang)\n- Chg: Replaced jQuery live() with delegate() in CHtml-generated js code (Qiang)\n- New: Upgraded JQuery UI to 1.8.4 (Sam Dark)\n- New: Upgraded code highlighter: added sh and VBScript, fixed comments in CSS and hex numbers in JavaScript (Sam Dark)\n- New: Added CSqlDataProvider and CArrayDataProvider (Qiang)\n- New: Added support for automatic action parameter binding from $_GET (Qiang)\n\nVersion 1.1.3 July 4, 2010\n--------------------------\n- Bug #856: Logout doesn't work when CWebUser::identityCookie is configured and allowAutoLogin is set true (Qiang)\n- Bug #1027: CButtonColumn->buttons is ignored (Sam Dark)\n- Bug #1039: Table prefix feature did not work with PostgreSQL and AR (Qiang)\n- Bug #1046: Fixed the bug that CDbFixtureManager did not properly initialize the fixture data (Qiang)\n- Bug #0147: Fixed the bug that changing CAuthItem.description value would cause an exception when using CPhpAuthManager (Qiang)\n- Bug #1050: Fixed the bug that filter conditions were prefilled with default values when using an AR model in CGridView (Qiang)\n- Bug #1109: CActiveRecord::getRelated() did not refresh when setting the $refresh parameter to be true (Qiang)\n- Bug #1142: Fixed the character encoding in polish translations (pawel.drylo)\n- Bug #1149: CHtml::resolveName() does not work with multiple dimensional attributes (Qiang)\n- Bug #1176: CVarDumper may omit some backslashes in the syntax-highlighted display (Qiang)\n- Bug #1190: CLocale::getMonthNames may fail due to a typo (Qiang)\n- Bug #1208: Unsigned integer column type was not handled correctly (Qiang)\n- Bug #1213: Fixed the bug that skipOnError doesn't have effect on inline validators (Qiang)\n- Bug #1226: CWebUser::autoRenewCookie does not handle the case when the user is already logged in (Qiang)\n- Bug #1227: CActiveRecord::resetScope doesn't work with default scope (Sam Dark)\n- Bug #1231: CPgsqlColumnSchema may incorrectly parse the default column when DB expression is used (Qiang)\n- Bug #1241: DB search parameters should have special characters escaped (Qiang)\n- Bug #1242: Fixed the bug that CGridView filtering and item deletion would not work when ajax-update is disabled (Qiang)\n- Bug #1252: CJSON::encode() was not able to encode models and model arrays (Sam Dark)\n- Bug #1262: Fixed the bug that CDbFixtureManager was unable to load fixture data if table prefix feature is used (Qiang)\n- Bug #1292: CDateTimeParser::parse() did not honor the number of digits in the required format in some cases (Qiang)\n- Bug #1293: Added tag to initial CAPTCHA image URL to avoid caching issue (Qiang)\n- Bug #1295: CHtml::beginForm() would generate useless CSRF field when in GET mode (Qiang)\n- Bug: Fixed AR memory leaks on PHP<5.3 (Sam Dark, parpaing)\n- Enh #217: Added support to allow using related objects as selection values in CHtml (Qiang)\n- Enh #663: Improved CSecurityManager to allow customizing the crypt/hash algorithms being used (Qiang)\n- Enh #716: Improved the performance of statistical query in AR (Qiang)\n- Enh #862: Enhanced CSort virtual attributes and support for related tables (Qiang)\n- Enh #887: Relative URL's will be returned when using a parameterized hostname url rule that has the current hostinfo (Qiang)\n- Enh #930: Updated CStarRating's jQuery plugin to v3.13, updated jQuery Metadata plugin (Sam Dark)\n- Enh #952: Enhanced support for using defaultParams in CUrlManager (Qiang)\n- Enh #1015: Added automatic column initialization when non-active data provider is used for CGridView (Qiang)\n- Enh #1022: Added CMenu::activateItems (Qiang)\n- Enh #1041: Added support to allow skinning pagers used in CGridView and CListView (Qiang)\n- Enh #1043: Improved view resolution to support using themeable application views in a module (Qiang)\n- Enh #1049: Enhanced label generation when using CDetailView with associative arrays (Qiang)\n- Enh #1127: Added support to automatically generate maxlength attribute for text/password inputs based on model rules (Qiang)\n- Enh #1151: Added support to generate grid column header based on attribute names (Qiang)\n- Enh #1158: Added translations in Latvian (lafriks)\n- Enh #1166: Added CActiveRecord::setOldPrimaryKey (Qiang)\n- Enh #1174: AR's count() now generates more reasonable SQL statement when 'group' option is specified (Qiang)\n- Enh #1179: Added CMultiFileUpload::file (Qiang)\n- Enh #1180: Exposed several member variables in CClientScript to be protected (Qiang)\n- Enh #1183: Added support to retrieve the currently active table alias in AR scopes (Qiang)\n- Enh #1188: Removed exception message display in production mode when a DB connection fails to improve security (Qiang)\n- Enh #1189: Added $loadedOnly parameter to CModule::getComponents() so that it can return all application components including unloaded ones (Qiang)\n- Enh #1199: AR's count() method now respects the 'select' option in the query criteria (Qiang)\n- Enh #1202: Added support for using anonymous functions as component property values (Qiang)\n- Enh #1203: Gii now respects the newDirMode and newFileMode settings even when lower umask is set (Qiang)\n- Enh #1210: Added support to generate proper labels for relational properties in CDetailView (Qiang)\n- Enh #1225: Added 'firstError' option to CHtml::errorSummary() to support displaying only the first error message of each model attribute (Qiang)\n- Enh #1232: Added CAuthManager::showErrors. When value is true Yii will turn on error_reporting for RBAC bizRules. False by default (Sam Dark)\n- Enh #1239: CBreadcrumbs should have the 'Home' label translated (Qiang)\n- Enh #1245: Optimized the implementation of checkAccess of CPhpAuthManager and CDbAuthManager (Qiang)\n- Enh #1261: Added magicFile parameter to CFileHelper::getMimeType() and getMimeTypeByExtension() (Qiang)\n- Enh #1268: Added isset and unset support to behavior properties in a component context (Qiang)\n- Enh #1271: Added CWebUser::getFlashes() (Qiang)\n- Enh #1276: Added CClientScript::coreScriptPosition to support customizing the insertion position of core scripts (Qiang)\n- Enh #1278: Gii model generator will now respect the table prefix when determining which tables the models should be generated for (Qiang)\n- Enh #1283: Added port and securePort properties to CHttpRequest (Qiang)\n- Enh #1284: Added support to allow passing an AR finder as the first parameter of the constructor of CActiveDataProvider (Qiang)\n- Enh #1286: Upgraded HTMLPurifier to v4.1.1 (Qiang)\n- Enh #1289: Added support to allow using non-string values when calling CDbCriteria::compare() (Qiang)\n- Enh #1290: Added cssClass to individual item in CDetailView (Qiang)\n- Enh #1306: Hide log route outputs when no messages are collected after filtering (Qiang)\n- Enh #1311: Added {page} and {pages} tokens to CBaseListView::summaryText (Qiang)\n- Enh #1326: Added CBaseActiveRelation::join property (Qiang)\n- Enh: CActiveRecord::beforeFind event is now triggered in all cases including related models with both lazy and eager loading (Sam Dark, creocoder)\n- Enh: Added support for using array-typed model attributes in active methods in CHtml (Qiang)\n- Enh: Added beforeValidate, afterValidate, beforeValidateAttribute and afterValidateAttribute options to CActiveForm (Qiang)\n- Enh: Changed @var declarations to class @property declarations in gii and yiic shell model templates (Sam Dark)\n- Enh: IDE code completion for CActiveRecord::attributes (Sam Dark)\n- Enh: Added beforeLogin, afterLogin, beforeLogout and afterLogout to CWebUser (Qiang)\n- Enh: Enhanced CSort::defaultOrder to allow using virtual attribute names (Qiang)\n- Chg #1323: Conditions declared in scopes of the related AR classes will be put in the ON clause of the JOIN statement (Qiang)\n- Chg: CAutoComplete is now deprecated (Sam Dark)\n- New: Added CJuiButton (sebas)\n\nVersion 1.1.2 May 2, 2010\n-------------------------\n- Bug #676, 891: merging criterias with parameters is impossible (Sam Dark)\n- Bug #1006: Setting CForm::attributes may cause exception (Qiang)\n- Bug #1007: CActiveForm did not update the validation result correctly when change of one attribute affects the validity of another (Qiang)\n- Bug #1014: CDataProvider was accessing non-existing property modelClass (Qiang)\n- Bug #1021: Missing return in CAuthItem::removeChild (Sam Dark)\n- Bug #1031: Added a temporary fix for dropdown filter in CGridView not working in IE (Qiang)\n- Bug #1035: RBAC BizRule security violation (Sam Dark)\n- Bug #1048: CAutoComplete conflicts with jQueryUI 1.8.x (Sam Dark)\n- Bug #1115: Fixed the bug that using bigint with MySQL, PostgreSQL and SQL Server may lose precision (Qiang)\n- Bug #1121: typo in CActiveRecord::setPrimaryKey() (Qiang)\n- Bug #1136: Fixed wrong API call in CXCache::flush() (Qiang)\n- Bug #1147: zii widget messages are not translated via Yii::t() (Sam Dark)\n- Bug: Removed the debugging line in CActiveFinder that caused many-many relational query to fail if FKs are not defined (Qiang)\n- Bug: Fixed the bug that doing performance profiling while turning on YII_TRACE_LEVEL would throw exception (Qiang)\n- Bug: user was redirected to AJAX URLs after logging in (Sam Dark)\n- Bug: RBAC rules with bizRule and caching enabled worked wrong (Sam Dark)\n- Bug: CSort may cause exception if an invalid column is to be sorted (Qiang)\n- Bug: AR count() does not generate correct SQL when distinct is set true in the criteria (Qiang)\n- Bug: Relational AR query may complain column not well defined when the column select spans multiple lines (Qiang)\n- Enh #943: dynamic AR relations (Sam Dark)\n- Enh #946: Added a new parameter to CBaseController::widget() method to allow capturing the output of the widget (Qiang)\n- Enh #977: Added CModel::getValidatorList() to allow adding/removing validation rules on the fly (Sam Dark, creocoder)\n- Enh #1001: Added CActiveRecord::resetScope() that resets all scopes and criterias applied including default scope (Sam Dark)\n- Enh #1009: Allow quoted columns in CDbCriteria::select when performing relational query (Qiang)\n- Enh #1025: added 'uncheckValue' option to CHtml::radioButton() and CHtml::checkBox() (Jonah)\n- Enh #1042: CForm __construct now uses setModel() instead of assigning _model directly (Sam Dark)\n- Enh #1062: Added CDbCriteria::addBetweenCondition() (Sam Dark)\n- Enh #1071: Optimized file copying in CUploadedFile::saveAs() (Sam Dark)\n- Enh #1084: Added CLocale::getOrientation() to return character orientation information of a locale (Qiang)\n- Enh #1091: Added support to allow using normal PHP views with special views recognized by the installed view renderer (Qiang)\n- Enh #1093: CJSON now tries to use native PHP functions prior to use Yii implementation (Sam Dark)\n- Enh #1140: Added CHttpSession::get() (Qiang)\n- Enh #1156: Updated jQuery BBQ to 1.2.1 (Sam Dark)\n- Enh #1282: Added support to configure widget default values in application configuration (Qiang)\n- Enh: Improved IDE code completion for generated AR models (Sam Dark)\n- Enh: CCaptchaAction now supports unlimited tests by setting its testLimit to be 0 (Qiang)\n- Enh: Added $forceCopy parameter to CAssetManager::publish() (Qiang)\n- Enh: CTypeValidator now supports checking array data (Qiang)\n- Enh: Added CFileHelper::getExtension() (Qiang)\n- Enh: Added CModule::hasModule() (Qiang)\n- Enh: CFileValidator now works with php.ini's upload_max_filesize strings with K, G, k, m, g (Sam Dark)\n- Enh: Enhanced CActiveForm to make it more robust in case some code error occurs when performing ajax validation (Qiang)\n- Enh: CMaskedTextField's jquery.maskedinput updated to 1.2.2 (Sam Dark)\n- Enh: Added support to allow CActiveRecord::getAttributes() to return custom attributes if required (Qiang)\n- Chg #1118: CActiveRecord::refresh() now updates the record by directly updating the attributes array (Qiang)\n- Chg #1125: Ability to use model metadata in behavior's attach() method (Sam Dark)\n- Chg #1163: CLinkPager will enable first and last page buttons unless the current page is first or last. (Qiang)\n- Chg #1164: CUrlRule will not throw 404 exception when unable to parse a URL under strict parsing mode (Qiang)\n- New #1005: added CWinCache (Sam Dark)\n- New #1013: Added CJuiAutoComplete (sebas)\n- New: Added Ukrainian translations (Valeriy)\n- New: Upgraded JQuery UI to 1.8.1 (Qiang)\n\nVersion 1.1.1 March 14, 2010\n----------------------------\n- Bug #727: AR may lose precision for numbers of bigint type (Qiang)\n- Bug #738: COciColumnSchema must return 'double' if precision and scale designators of NUMBER field are absent (Qiang)\n- Bug #816: CUniqueValidator did not work with CFormModel (Qiang)\n- Bug #823: typo in CLinkColumn about linkHtmlOptions (Qiang)\n- Bug #839: typo in CFormatter about calling method_exists() (Qiang)\n- Bug #865: CWidgetFactory didn't set the owner of the newly created widgets correctly (Qiang)\n- Bug #869: CDateFormatter::formatTimeZone() may report error for certain locale data (Qiang)\n- Bug #871: A module generated by the yiic module command did not use the application layout by default (Qiang)\n- Bug #890: The 'alias' option set in default scope was ignored when performing an eager relational query (Qiang)\n- Bug #932: CLocale::getWeekDayName() causes PHP error when requesting 'narrow' format data (Qiang)\n- Bug #947: CTabView does not target tab links correctly when extra elements are put in the header (Qiang)\n- Bug #957: CGettextPoFile should allow optional msgctxt (Qiang)\n- Bug #967: CFormInputElement doesn't respect element-id if set (Sam Dark)\n- Bug #988: COcSchema::quoteTableName() and quoteColumnName() should quote the names (Qiang)\n- Bug #995: The 'alias' option set in default scope was ignored when some find methods in AR (Qiang)\n- Bug #996: \"yiic message\" command generates incorrect message file name when used in a module context (Qiang)\n- Bug #14 (zii): Added documentation about the \"js:\" prefix in CJuiSortable (sebas)\n- Bug #18 (zii): Change the way CJuiDatePicker sets its language option (sebas)\n- Bug #27 (zii): Fixed the issue that when CSRF is turned on, delete button doesn't work for CGridView (Qiang)\n- Bug: Setting the 'with' option in criteria array doesn't trigger eager loading for AR (Qiang)\n- Bug: CActiveRecord should update oldPrimaryKey after calling save() (Qiang)\n- Bug: CForm renders invalid 'name' and 'type' attributes when used to generate nested forms (Qiang)\n- Bug: Fixed the bug that beforeAjaxUpdate/afterAjaxUpdate of CGridView/CListView do not take effect.\n- Bug: Fixed the bug that the names of URL parameters were not encoded (Qiang)\n- Bug: CGridView and CListView may not register the needed CSS file for the pager (Qiang)\n- Enh #38: Added support to allow CHtml links and buttons work in AJAX responses (Qiang)\n- Enh #392: Added CStringValidator::encoding to support checking the length of multibyte strings (Qiang)\n- Enh #686: Added CUrlManager::setBasePath() (Qiang)\n- Enh #726: Added CDbExpression::params (Qiang)\n- Enh #794: Added support to allow using * to select all primary table columns in relational AR query (Qiang)\n- Enh #820: Added CAccessRule::message to allow customizing authorization error message (Qiang)\n- Enh #826: Added CMenu::itemTemplate property and template option for each menu item (Qiang)\n- Enh #857: Added $exit parameter to CController::forward() (Qiang)\n- Enh #872: Added CFlexWidget::allowFullScreen (Qiang)\n- Enh #888: Added CBaseUserIdentity::setPersistentStates (Sam Dark)\n- Enh #898: Added support to allow defining global yiic commands (Qiang)\n- Enh #912: Added CModel::onUnsafeAttribute() which will log a warning message when massively assigning unsafe attributes (Qiang)\n- Enh #916: Added visible option to buttons in CButtonColumn (Qiang)\n- Enh #918: Added support to show attribute name as the label when displaying an array using CDetailView (Qiang)\n- Enh #936: Current module ID is no longer needed when calling CController::forward() (Qiang)\n- Enh #941: AR now allows MANY_MANY relation to be specified more flexibly (Qiang)\n- Enh #953: Added CGridView::hideHeader (Qiang)\n- Enh #955: Added validateValue() to CUrlValidator and CEmailValidator (Qiang)\n- Enh #971: Added CDbCriteria::addNotInCondition() (Sam Dark)\n- Enh #992: Added 'data' option to CTabView.tabs property (Qiang)\n- Enh: Refactored the blog demo to make use of the new CActiveForm and the filtering feature of CGridView (Qiang)\n- Enh: Improved the code generated by yiic, including menu refactoring, filtering/search support, and using active form (Qiang)\n- Enh: Improved CHtml::beginForm() to auto-generate hidden fields for a GET form whose action contains query string (Qiang)\n- Enh: Added CDataProvider::setTotalItemCount() (Qiang)\n- Enh: Added skipOnError property to built-in validators (Qiang)\n- Enh: Added CDbConnection::initSQLs (Qiang)\n- Enh: Added CHtml::refresh() (Qiang)\n- Enh: Added CListView.loadingCssClass and CGridView.loadingCssClass (Qiang)\n- Enh: Added filtering support for CGridView (Qiang)\n- Enh: Added 'template' option to each attribute specification in CDetailView (Qiang)\n- Chg #841: Changed CUrlManager::parsePathInfo() to non-static (Qiang)\n- Chg #851: yiic tool no longer turns off E_NOTICE (Qiang)\n- Chg #949: The init() method will be invoked after an AR instance is created by the find methods (Qiang)\n- Chg #974: CComponent::evaluateExpression() no longer suppresses expression error (Qiang)\n- Chg #978: CActiveRecord::afterSave() will now be invoked only when the saving is successful (Qiang)\n- Chg: Upgraded jquery to version 1.4.2 (Qiang)\n- Chg: CMenu will render the 'active' CSS class in the container tag of the link (Qiang)\n- Chg: Set the default theme for JQuery UI widgets to be 'base' (Qiang)\n- New: Added CActiveForm that performs model validations via AJAX (Qiang)\n- New: Added 'form' command to the 'yiic shell' tool (Qiang)\n- New: Upgraded JQuery UI to 1.8rc3 (Qiang)\n\nVersion 1.1.0 January 10, 2010\n------------------------------\n- Bug #720: The new table prefix feature does not work with many-many relationship in AR (Qiang)\n- Bug #735: CDbCriteria should save 'with' attribute when toArray() is called (Qiang)\n- Chg #796: The alias name for the primary table in a relational AR query is changed to be 't' (Qiang)\n- Chg: renamed CDetailView::model to be 'data'. renamed 'dataField' and 'dataExpression' to be 'name' and 'value' for grid view columns. (Qiang)\n- Enh #656: Added support to indicate the size of enum column type for MySQL schema (sebas)\n- Enh #767: Added CUrlRule::matchValue option to support creating URLs only when a rule's parameter value patterns are matched. (Qiang)\n- Enh: Improved the default code generated by the yiic tool (Qiang)\n- Enh: Refactored the blog demo (Qiang)\n- New: Added CFormatter and CApplication::format (Qiang)\n- New: Added CController::forward() and CController::route (Qiang)\n- New: Added CTimestampBehavior to automatically set timestamps in AR (Jonah)\n- New: Added CBaseMenu and CListMenu to aid in creating menus (Jonah)\n- New: Added CJuiWidget (sebas, Qiang)\n- New: Added CJuiInputWidget (sebas, Qiang)\n- New: Added CJuiSlider (sebas, Qiang)\n- New: Added CJuiSliderInput (sebas)\n- New: Added CJuiAccordion (sebas, Qiang)\n- New: Added CJuiProgressBar (sebas, Qiang)\n- New: Added CJuiTabs (sebas, Qiang)\n- New: Added CJuiDatePicker (sebas, Qiang)\n- New: Added CJuiSortable (sebas)\n- New: Added CJuiDialog (sebas)\n- New: Added CJuiSelectable (sebas)\n- New: Added CJuiDroppable (sebas)\n- New: Added CJuiResizable (sebas)\n- New: Added CJuiDraggable (sebas)\n- New: Added CGridView (Qiang)\n- New: Added CDetailView (Qiang)\n- New: Added CListView (Qiang)\n- New: Added CPortlet (Qiang)\n- New: Added CBreadcrumbs (Qiang)\n\nVersion 1.1rc December 13, 2009\n-------------------------------\n- Bug #713: webapp command generates incorrect test bootstrap script (Qiang)\n- Bug #724: the rememberMe attribute is not validated in generated webapp code (Qiang)\n- Enh #666: Added support for auto-flushing log messages (Qiang)\n- Enh #668: Nested forms generated by CForm will render attributes in the fieldset tag (Qiang)\n- Enh #695: Upgraded HTML Purifier to 4.0.0 (Qiang)\n- Enh #711: Added CWebUser::autoRenewCookie to support automatically renew cookie-based login (Qiang)\n- Enh: Added CSS class for links generated by CSort to differentiate sorting directions (Qiang)\n- Enh: Added CComponent::evaluateExpression() (Qiang)\n- Enh: Added CPagination::offset and CPagination::limit (Qiang)\n- Chg: CSort.multiSort is changed to sort by single attribute by default (Qiang)\n- New: Added CDataProvider and CActiveDataProvider (Qiang)\n- New: Updated I18N data to CLDR 1.7.1.2 and added support for stand-alone month and day names (Qiang)\n- New: Added CDbCriteria::with to support eager loading via a criteria with this property (Qiang)\n\nVersion 1.1b November 1, 2009\n-----------------------------\n- Bug #611: When using relation name as table alias, it should be properly quoted to avoid name conflict (Qiang)\n- Bug #642: CPgsqlSchema::findTableNames() should not include view names in the result (Qiang)\n- Bug #652: Calling CFormElementCollection::remove() triggers a method-not-defined error (Qiang)\n- Bug: Using CFileValidator causes an error about accessing a method of a non-object (Qiang)\n- Enh #570: Improved CSort so that it can support sorting by complex expressions or compound attributes (Qiang)\n- Enh #597: Added support for modifying primary key of an AR instance by calling save() directly (Qiang)\n- Enh #622: Added support for using HTML button tags in form builder (Qiang)\n- Enh: Added getFixtureData() and getFixtureRecord() to CDbTestCase and CWebTestCase (Qiang)\n- Chg #574: session ID is no longer hashed for CDbHttpSession (Qiang)\n- New #633: Added support to allow using customized locale data (Qiang)\n- New: Added support for using table prefixes (Qiang)\n\nVersion 1.1a October 1, 2009\n----------------------------\n- New #429: CFileValidator and CUploadedFile now accept multiple uploads (pestaa)\n- New: Refactored scenario-based validation and massive assignments (Qiang)\n- New: Added CDbSchema::checkIntegrity() and resetSequence() (Qiang)\n- New: Added phpunit-based testing framework (Qiang)\n- New: Added CForm and relevant classes to allow reusing form representation and rendering (Qiang)\n- New: Added support for widget skins (Qiang)\n- New: Added support for accessing behavior's properties via the component it is attached to (Qiang)\n- Chg #433: Changed application and module parameter names to be case-sensitive (Qiang)\n- Chg #556: CHtml::resolveName now supports array-typed properties (pestaa)\n- Chg: Changed AR eager loading so that it generates and executes a single SQL statement by default (Qiang)\n- Chg: Changed AR table aliasing so that it uses relation names as default table aliases (Qiang)\n- Chg: Changed the default value of allowEmpty to be false for CCompareValidator. (Qiang)\n\nVersion 1.0.12 March 14, 2010\n-----------------------------\n- Bug #731: When using CWebService to generate WSDL, it may cause the error about Premature end of data in tag definitions in SoapClient (Qiang)\n- Bug #740: CDbCriteria::addColumnCondition() should handle NULL parameter correctly (Qiang)\n- Bug #742: CEmailValidator should allow upper case email addresses (Qiang)\n- Bug #776: CWebUser may fail when unserializing invalid cookie data (Qiang)\n- Bug #788: CHttpRequest.sendFile() gives incorrect content length when output_handler is enabled (Qiang)\n- Bug #801: CCaptcha allows unlimited tests if the CAPTCHA image is not reloaded (Qiang)\n- Bug #832: CJavaScript::quote() should also escape the sequence \"</\" (Qiang)\n- Bug #843: CApcCache::mget() may fail if some entries of the specified keys are not cached (Qiang)\n- Bug: CVarDumper sometimes doesn't dump object value correctly (Qiang)\n- Bug: COciSchema::findTableNames() should use upper case for the keys of query results (Qiang)\n- Bug: Fixed several bugs related with readdir problem. If the directory contains a file named '0', the iteration would quit prematurely. (Qiang)\n- Enh #730: Relational queries now respect changes made to CActiveRecord::dbCriteria in the onBeforeFind event (Qiang)\n- Enh #737: CUrlManager::createUrl() now supports multidimensional array params (Jonah)\n- Enh #757: Allow CDbCriteria::addInCondition() to use parameter array that is not integer-indexed (Qiang)\n\nVersion 1.0.11 December 13, 2009\n--------------------------------\n- Bug #608: yiic webapp command may generate incorrect path referring to yii scripts (Qiang)\n- Bug #637: CDateTimeParser::parse() may generate unexpected result offset by the timezone in some environment (Qiang)\n- Bug #639: CJSON::decode() should respect the second parameter recursively (Qiang)\n- Bug #641: CDbCache::gc() is not defined (Qiang)\n- Bug #651: Fixed a bug in Oracle driver that may cause big loop (Qiang)\n- Bug #653: CDbMessageSource does translate messages when caching is enabled (Qiang)\n- Bug #670: Requirements checker page shows wrong minute (Qiang)\n- Bug #691: CUploadedFile::saveAs() may not return correct value for some PHP versions (Qiang)\n- Bug #692: CHtml::listOptions() ignores the HTML options when handling nested options (Qiang)\n- Bug #710: CRequiredValidator does not work as expected when its requiredValue is not null (Qiang)\n- Bug: CQueue::peek() should return the first item in the queue (Qiang)\n- Enh #629: Added support for specifying shell command search path via an environment variable YIIC_SHELL_COMMAND_PATH (Qiang)\n- Enh #643: Enhanced CAccessControlFilter::expression, COutputCache::varyByExpression and CExpressionDependency::expression so that they can use PHP callback (Qiang)\n- Enh #665: Added support for using CStarRating to collect tabular input (Qiang)\n- Enh #672: Added Italian translation of error views (Qiang)\n- Enh #674: Improved CPgsqlSchema to support auto-incremental column in composite primary  key (Qiang)\n- Enh #677: Improved CPgsqlColumnSchema to recognize more column data types (Qiang)\n- Enh #679: Added support for parsing and creating URLs with parameterized hostnames (Qiang)\n- Enh #684: Improved Yii::import() to throw exception when set_include_path fails (Qiang)\n- Enh #685: Added support for recognizing \"Z\" in CDateFormatter (Qiang)\n- Enh #690: Enhanced the email validator pattern to capture 99% valid email addresses (Qiang)\n- Enh #694: CActiveRecord count methods will ignore criterias that are incomatible with COUNT SQL statement (Qiang)\n- Enh #697: Relational AR queries now also invoke CActiveRecord::beforeFind() (Qiang)\n- Enh #703: Upgraded autocomplete js code to version 1.1.0 (Qiang)\n- Enh #715: CHtml::textArea and CHtml::activeTextArea should respect the 'encode' option (Qiang)\n- Enh: Added core message translation in Thai (Peerajak)\n- Enh: Allow CHtml::label() and CHtml::activeLabel() not to render the 'for' attribute when it is set false (Qiang)\n- Chg #723: When merging a CDbCriteria with another, the latter's order clause will take precedence over the former (Qiang)\n- New #709: Added core message translation in Bosnian language (kenci81)\n\nVersion 1.0.10 October 18, 2009\n-------------------------------\n- Bug #550: Fixed image alt bug in CCaptcha (Qiang)\n- Bug #551: CCache::mget() should return values (Qiang)\n- Bug #561: CTabView fails to switch tabs on IE (pestaa)\n- Bug #567: PHP <5.2 cannot convert exception class to string (pestaa)\n- Bug #573: Typo in API (pestaa)\n- Bug #584: CAutoComplete API was missing a fact (pestaa)\n- Bug #594: The for-loop in jquery.yii.js breaks on IE (Qiang)\n- Bug #596: CActiveFinder undefined $parent variable on line 1297 (Qiang)\n- Bug #606: CMemCache does not work when useMemcached is set true (Qiang)\n- Bug: Fixed a bug in Oracle driver when performing relational AR queries (Qiang)\n- Bug: Fixed the problem of executing an SQL using CDbCommand may cause subsequent SQL executions to fail (Qiang)\n- Enh #571: Enhanced CDbCriteria by adding several methods to help building common query conditions (Qiang)\n- Enh #585: Added CChainedCacheDependency::setDependencies() (Qiang)\n- Enh #598: Added CCaptchaAction::transparent (Qiang)\n- Enh #600: Modified CHttpSession to allow open and close session multiple times (Qiang)\n- Enh #612: Added YiiBase::registerAutoloader (Qiang)\n- Enh #613: Enhanced Oracle driver to allow using views with AR (Qiang)\n- Enh #615: Added cacheID property to several core components to allow specifying which cache component to use (Qiang)\n- Enh #616: Added support to use anonymous functions (PHP 5.3+) as event handlers (Qiang)\n- Enh #620: Enhanced message translation for modules (Qiang)\n- Enh #623: Added the optional $params to CDbCommand::execute() and query*() methods (Qiang)\n- Enh #626: Added labelOptions for checkbox and radiobutton lists in CHtml (Qiang)\n- Enh #627: Improved AR metadata assignment to support single table inheritance (Qiang)\n- Enh #628: Console commands are listed in alphabetical order now (Qiang)\n- Enh: Enhanced CRequiredValidator so that it can validate an attribute contains the specified value (Qiang)\n- Chg: Made request and urlManager components to be available for both console and web applications (Qiang)\n- New #577: Enhanced the 'empty' option in CHtml so that it can render multiple extra list options with specific values (Qiang)\n- New #621: Added YiiBase::createApplication (Qiang)\n- New: Added CBooleanValidator (Qiang)\n\nVersion 1.0.9 September 6, 2009\n-------------------------------\n- Bug #470: Fixed CTimestamp getdate bug which is related with timezone setting (Qiang)\n- Bug #499: Blog demo approve comment page doesn't have proper pagination (Qiang)\n- Bug #510: CHtml::htmlButton() should render the label as the element body rather than value attribute (Qiang)\n- Bug #513: CNumberValidator does not validate as expected when the attribute value is not string (Qiang)\n- Bug #518: CFilterValidator uses call_user_func_array() incorrectly (Qiang)\n- Bug #522: array-like parameters in path info are not parsed correctly by CUrlManager (Qiang)\n- Bug #525: Invalid first chars in jquery.maskedinput.js (Qiang)\n- Bug #527: Typo in CActiveFinder.php:581 (Wei)\n- Bug #548: STAT queries don't work when the FK constraints are not defined in DB (Qiang)\n- Bug #550: CCaptcha does not respect image alt option (Qiang)\n- Bug #551: multiget in caching components does not use proper keys (Qiang)\n- Bug: Set sequenceName in Oracle tables to be empty string so that yiic model command generates correct validation rules for PK (Qiang)\n- Enh #417: Added CActiveRecord::beforeFind and onBeforeFind event (Qiang)\n- Enh #419: Improved the performance of lazy relational AR by avoiding joining when possible (Qiang)\n- Enh #473: Upgraded jquery multifile plugin to version 1.46 (Qiang)\n- Enh #500: Added CDbCache::gcProbability (Qiang)\n- Enh #505: Added CSS class to the table generated by CWebLogRoute (Qiang)\n- Enh #508: CUrlManager should also store parsed GET parameters into $_REQUEST (Qiang)\n- Enh #509: Enhanced CRequiredValidator to check for empty array value (Qiang)\n- Enh #511: CHtml::activeCheckBox and activeRadioButton should respect the value attribute (Qiang)\n- Enh #512: CHtml::beginForm() is made XHTML-compliant when CSRF is enabled (Qiang)\n- Enh #521: Added CActiveRecord::deleteAllByAttributes() (Qiang)\n- Enh #526: Added CSort::params and CPagination::params to allow customizing additional GET parameters in the generated URLs (Qiang)\n- Enh #534: Allow using slash character as URL suffix when strict parsing is enabled (Qiang)\n- Enh #542: Improved CInputWidget and all its descendant classes so that they can be used in tabular data input (Qiang)\n- Enh #547: Changed CSort::resolveLabel and validateAttribute to be public (Qiang)\n- Enh #549: Changed hour pattern in CDateTimeParser so that it is consistent with CDateFormatter (Qiang)\n- Enh #554: Added CViewRenderer::fileExtension (Qiang)\n- Enh #555: Added CApplication::timeZone (Qiang)\n- Enh: Improved AR performance by not raising events when no event handlers (Qiang)\n- Enh: Added CWebUser::setStateKeyPrefix() (Qiang)\n- Enh: Added CLocale::getMonthNames and CLocale::getWeekDayNames (Qiang)\n- Enh: Added uncheckValue option for CHtml::activeRadioButton (Qiang)\n- Enh: Added CDbCriteria::addCondition() (Qiang)\n- Enh: Added support for specifying DISTINCT when performing AR and relational AR queries (Qiang)\n- New: Added core message and system view translations in Bulgarian (Nikolai)\n\nVersion 1.0.8 August 9, 2009\n----------------------------\n- Bug #435: Setting charset for PostgreSQL database connection may fail to work on some servers (Qiang)\n- Bug #440: typo in COciColumnSchema (Qiang)\n- Bug #444: typo in blog demo (Qiang)\n- Bug #446: Fixed bugs in MSSQL driver that cause problem when updating attribues and a column is of timestamp type (Qiang)\n- Bug #451: CAssetManager::publish() may not report error when an asset is missing on BSD (Qiang)\n- Bug #460: CFileValidator would display wrong error message when the uploaded file size is too small (Qiang)\n- Bug #472: Dynamic relational query options should not treat 'condition' as 'on'. (Qiang)\n- Bug #475: MainMenu widget in webapp ignores URL parameters (Qiang)\n- Bug #477: CUrlManager generates unwanted homepage URL when URL suffix is used (Qiang)\n- Bug #482: Relational AR would fail when using Oracle due to column case issue (Qiang)\n- Bug #484: CDbCommandBuilder generates an invalid SQL when inserting a row with all default values (Qiang)\n- Bug #486: CDbExpression does not work as expected for PHP versions prior to 5.2.0 (Qiang)\n- Bug: Fixed an issue in CNumberFormatter which incorrectly cached parsed formats (Qiang)\n- New #424: Improved CCaptcha to allow clicking on CAPTCHA image to refresh it (Qiang)\n- New #425: Added defaultParams option to the rules used by CUrlManager (Qiang)\n- New #426: Added CApplication::setExtensionPath() (Qiang)\n- New #436: Added error templates in Russian (idlesign)\n- New #456: Added CCompareValidator::operator to support comparing values using different operators (Qiang)\n- New #461: Added CHtml::htmlButton() (Qiang)\n- New #467: Improved the algorithm for determining script URL by CHttpRequest (Qiang)\n- New #474: Added CActiveRecord::refreshMetaData() to allow using the latest table meta data (Qiang)\n- New #478: Enhanced CActiveRecord::findByAttributes and findAllByAttributes so that when an attribute value is array, an IN condition is generated for searching (Qiang)\n- New #480: Improved CUniqueValidator to allow specifying AR class and attribute to validate against (Qiang)\n- New #488: Added CCache::mget() to support retrieving multiple cached values at a time (Qiang)\n- New #492: Enhanced form submit script so that it respects to existing submit event handlers (Qiang)\n- New #493: Added call stack information to log when a PHP error occurs (Qiang)\n- New: CDbCommand::bindParam() and bindValue() now return the command object so that they can be used in a chainable fashion (Qiang)\n- New: Added thead and tbody to the code generated by crud command (Qiang)\n- New: Added CFormModel::init() and CActiveRecord::init() (Qiang)\n- New: Improved CFileHelper::getMimeType() so that it can return a meaningful result in most cases (Qiang)\n- New: Improved yiic shell commands so that they are easier to be extended (Qiang)\n- New: Added CExistValidator.criteria property (Qiang)\n- New: Improved CHtml::statefulForm() to make it XHTML-compliant (Qinag)\n- New: Added CBaseUserIdentity::clearState() (Qiang)\n- New: Added 'ext' root path alias which points to the directory containing all extensions (Qiang)\n- New: Added Greek translation of core messages (Vasileios)\n- Chg #479: Imported path aliases now have precedence over existing include paths (Qiang)\n- Chg: Modified the count() method of relational AR to support counting composite keys (Qiang)\n- Chg: Reverted back the support for assigning a related object to an AR object (Qiang)\n\nVersion 1.0.7 July 5, 2009\n--------------------------\n- Bug #367: CUploadedFile may fail if a form contains multiple file uploads in different array dimensions (Qiang)\n- Bug #368: CUploadedFile::getInstance() should return null if no file is uploaded (Qiang)\n- Bug #372: CCacheHttpSession should initialize cache first before using it (Qiang)\n- Bug #388: 'params' options passed to linkButton are not cleared after submit (Qiang)\n- Bug #393: Greek language code should be 'el' insead of 'gr' (Qiang)\n- Bug #402: CNumberFormatter does not format decimals and percentages correctly (Qiang)\n- Bug #404: AR would fail when CDbLogRoute uses the same DB connection (Qiang)\n- Bug #421: Undefined variable: seconds in CDateTimeParser.php(140) (Qiang)\n- Bug: CMemCache has a typo when using memcached (Qiang)\n- Bug: COciCommandBuilder is referencing undefined variable (Qiang)\n- Bug: yiic webapp may generate incorrect path to yii.php (Qiang)\n- Bug: SQL with OFFSET generated by command builder for Oracle is incorrect (Qiang)\n- Bug: yiic shell model command may fail when a foreign key is named as ID (Qiang)\n- Bug: yiic shell controller command does not generate correct controller class file when the controller is under a sub-folder (Qiang)\n- Bug: When using MySQL enum type, AR may incorrectly typcasting the column values (Qiang)\n- Chg #391: defaultScope should not be applied to UPDATE (Qiang)\n- New #360: Added anchor parameter to CController::redirect (Qiang)\n- New #375: Added support to allow logout a user without cleaning up non-auth session data (Qiang)\n- New #378: Added support to allow dynamically turning off and on log routes (Qiang)\n- New #396: Improved error display when running yiic commands (Qiang)\n- New #406: Added support to allow stopping saving and deletion by an ActiveRecord behavior (Qiang)\n- New #415: Added HTML options to CHtml::errorSummary() and error() methods (Qiang)\n- New: Rolled back the change about treating tinyint(1) in MySQL as boolean (Qiang)\n- New: Added support for displaying call stack information in trace messages (Qiang)\n- New: Added 'index' option to AR relations so that related objects can be indexed by specific column value (Qiang)\n- New: Allow CHtml::activeLabel to override the automatically generated 'for' attribute (Qiang)\n- New: Added 'csrf' to CHtml client options so that js-based form submission can submit CSRF token (Qiang)\n- New: Removed typcasting in CNumberValidator so that it won't lose precision (Qiang)\n- New: Added userAgent parameter to CHttpRequest::getBrowser() (Qiang)\n\nVersion 1.0.6 June 7, 2009\n--------------------------\n- Bug #305: column aliases used in CActiveFinder should be quoted so that their cases are kept (Qiang)\n- Bug #308: typo in CLinkPager CSS class name (Qiang)\n- Bug #310: Leading space in auto generated labels if they end with \"ID\" (Qiang)\n- Bug #312: defaultScope not honored when other sopes are applied (Qiang)\n- Bug #313: Dynamic parameter for lazy loading resets the parameters specified in default scope (Qiang)\n- Bug #321: CProfileLogRoute should be disabled for AJAX requests (Qiang)\n- Bug #331: HTTP 403 status code should be used to indicate auth failure (Qiang)\n- Bug #338: Undefined variables in CTimestamp.php (Qiang)\n- Bug #343: HtmlPurifier should register its autoload to allow using its plugins (Qiang)\n- Bug #353: CClientScript may not generate expected output on some PHP version due to preg_replace bug (Qiang)\n- Bug: Syntax errors in autoloaded classes are not reported (Qiang)\n- New #36: Added column declarations to the generated model class using yiic (Qiang)\n- New #231: Enhanced yiic shell model command to generate relations automatically (olafure, Qiang)\n- New #271: Added CFileCache (Qiang)\n- New #300: Added support for using a controller action to display application errors (Qiang)\n- New #304: Added flv mimeType to the mimeType array (Qiang)\n- New #315: Added CDbConnection.enableProfiling (Qiang)\n- New #320: Added support for customizing a single URL rule by setting its urlFormat and caseSensitive options (Qiang)\n- New #326: Yii::powered() will show Yii site in a new window (Qiang)\n- New #328: Make yiic to work with f-cgi (Qiang)\n- New #344: Added support to automatically attach behaviors to a controller (Qiang)\n- New #346: Enhanced CMemCache so that it can be used with both memcache and memcached (Qiang)\n- New #347: Added CUrlManager.useStrictParsing to support parsing URLs only based on rules (Qiang)\n- New #349: Enhanced MySQL driver to recongize tinyint(1) as a boolean (Qiang)\n- New #351: Enhanced CModelBehavior so that its beforeValidate() can stop the current validation process (Qiang)\n- New: Enhanced the 'with' option in relational rules so that it also applies in eager loading (Qiang)\n- New: Enhanced yiic shell model command to generate all models for the whole database (olafure, Qiang)\n- New: Added support to allow using named scopes with update and delete methods (Qiang)\n- New: Refactored support for dynamic query options with relational AR (Qiang)\n- New: Added CDbCriteria::toArray() (Qiang)\n- New: Added support to allow merging CDbCriteria using 'OR' operator (Qiang)\n- New: Added CLogger::getStats() (Qiang)\n- New: Added support to import and autoload interfaces (Qiang)\n- New: Added tracing statements to cache components (Qiang)\n- New: Added CLogFilter to support logging additional context information (Qiang)\n\nVersion 1.0.5 May 10, 2009\n--------------------------\n- Bug #234: Multi-line Yii::t() not found by 'yiic message' (Qiang)\n- Bug #235: Dynamic content does not work when page caching is used together with fragment caching (Qiang)\n- Bug #239: Syntax error in translated Portuguese error view file (Qiang)\n- Bug #246: Undefined variable in CMaskedTextField (Qiang)\n- Bug #252: mimeTypes.php contains clashing types (Qiang)\n- Bug #258: Some eager loading queries may result in extra lazy loading queries (Qiang)\n- Bug #261: CWsdlGenerator should not use 'tns:' namespace when declaring a complex type (Qiang)\n- Bug #262: Setting 'charset' of CDbConnection causes exception when working with SQLite (Qiang)\n- Bug #263: Exception is thrown when column names contain \"=\" symbol (Qiang)\n- Bug #270: CComponent::detachBehavior() uses undefined index (Qiang)\n- Bug #290: date formatter generates incorrect narrow day output (Qiang)\n- Bug: Lazy loading HAS_MANY or MANY_MANY properties will get NULL instead of empty array when the result set is empty (Qiang)\n- Bug: CDateFormatter::formatYear() only returns one digit when the year pattern is 'yy' (Qiang)\n- Bug: The ON option is not respected for MANY_MANY relations (Qiang)\n- New #210: Added support for named scope of AR (Qiang)\n- New #211: Enhanced AR by supporting lazy relational query with on-the-fly query parameters (Qiang)\n- New #224: Added CModel::addErrors() method (Qiang)\n- New #241: Added support to define root path aliases in configuration (Qiang)\n- New #247: Added support to allow using Web services in PHP versions lower than 5.2.0 (Qiang)\n- New #249: Added option to CHtml to allow generate tags without encoding attribute values (Qiang)\n- New #254: Added support to allow input widgets to be used with tabular inputs (Qiang)\n- New #265: Added support to validate time and datetime inputs (Qiang)\n- New #268: Added support to allow using dot syntax to generate list options with CHtml (Qiang)\n- New #274: Added support to allow using route sub-patterns in URL rules (Qiang)\n- New #284: Refactored code about page states to simplify overriding efforts (Qiang)\n- New #291: Added support to validate emails with name part (Qiang)\n- New #293: Added support to allow Yii to be used with other libraries which rely on autoload (Qiang)\n- New #294: Added CDummyCache component (Qiang)\n- New: Deprecated CHtml::getActiveId() (Qiang)\n- New: Added CDbCriteria::mergeWith() (Qiang)\n- New: Added Oracle support for Active Record (Ricardo)\n- New: Modified CClientScript so that it can be used without the presence of a controller (Qiang)\n- New: Enhanced CWebUser::checkAccess() to allow caching the access check results (Qiang)\n- New: Enhanced the performance of CDbAuthManager::checkAccess() (Qiang)\n- New: Added CAccessControlFilter::accessDenied() (Qiang)\n- New: Added CWebUser::identityCookie property (Qiang)\n- New: Added new message placeholder to CCompareValidator (Qiang)\n- New: Added trace statements to auth components (Qiang)\n- New: Added CHtml::value() (Qiang)\n- New: Enhanced 'yiic shell model' command so that it generates attribute labels by default (Qiang)\n- New: Added CDbConnection::enableParamLogging to allow logging parameters bound to SQL statements (Qiang)\n\nVersion 1.0.4 April 5, 2009\n---------------------------\n- Bug #177: CFileValidator::getSizeLimit() not calculate well (Qiang)\n- Bug #185: German error views have syntax errors (Qiang)\n- Bug #183: Fatal error in CActiveFinder::afterFindInternal() (Qiang)\n- Bug #186: MainMenu component in yiic webapp doesn't detect active menu item correctly (Qiang)\n- Bug #187: SET CHARACTER SET is not working for MySQL in some cases (Qiang)\n- Bug #190: yiic shell command does not work when the Web application redirects by default (Qiang)\n- Bug #192: CDbLogRoute has several issues (Qiang)\n- Bug #199: yiic webapp command may fail in some directory setup (Qiang)\n- Bug #200: CDateFormatter does not recognize timestamp given as a string (Qiang)\n- Bug #205: CTRL-D puts yiic into endless loop (olafure)\n- Bug #206: Property \"click\" in CStarRating does not work (Qiang)\n- Bug #218: Uppercase letter in controller in URL leads to exception (Qiang)\n- Bug #226: CJoinElement uses undefined _primaryKey (Qiang)\n- Bug #223: Calling CApplication::clearGlobalState causes error (Qiang)\n- Bug #229: dynamic content does not work with page caching (Qiang)\n- Bug: Setting the 'expression' option in an access url causes error (Qiang)\n- Bug: CAccessRule.roles should be case sensitive (Qiang)\n- Bug: CDbAuthManager::checkDefaultRoles() uses an undefined variable (Qiang)\n- Bug: CPgsqlSchema does not handle quotes well in detecting FK constraints (Qiang)\n- Bug: CPradoViewRenderer is calling an undefined method (Qiang)\n- Bug: CClientScript::scriptMap generates duplicated script tags (Qiang)\n- Bug: ActiveRecord may fetch the same PK column twice in a relational query (Qiang)\n- Bug: CWebUser::hasState does not return consistent result (Qiang)\n- Bug: A module layout in a theme cannot be applied (Qiang)\n- Bug: Enabling both CSRF prevention and theming may cause a PHP error (Qiang)\n- Bug: Eager loading in RAR may join the same table twice in some cases (Qiang)\n- New #171: Added version info to yiic help output (Qiang)\n- New #172: Added eAccelerator cache driver (Steffen)\n- New #176: Added support to make yiic tool working with modules (Qiang)\n- New #195: Added CModel::scenario property (Qiang)\n- New #197: Added getParam, getQueryParam and getPostParam to CHttpRequest (Qiang)\n- New #203: Added CZendDataCache (Steffen)\n- New #207: Enhanced CHtml::activeFileField so that we can still use $_POST to detect form submission under some rare cases (Qiang)\n- New #212: 'Readline' support in yiic console script (olafure)\n- New #225: Added trace statements to CActiveRecord and CActiveFinder (Qiang)\n- New #230: Enhanced CHtml so that it can be used in situations where controller is absent (Qiang)\n- New #233: Allow CFileValidator::types to be set with an array (Qiang)\n- New #292: Refactored CActiveRecord so that attribute assignment can be overridden more easily (Qiang)\n- New: Added support to GROUP BY and HAVING in eager loading of AR (Qiang)\n- New: Added CClientScript::scriptFiles and CClientScript::cssFiles (Qiang)\n- New: Added SQL Server support for Active Record (Christophe)\n- New: Added support for performing statistical query with Active Record (Qiang)\n- New: Added CHtml::beginForm and endForm (Qiang)\n- New: Added 'controllers' option to access control (Qiang)\n- New: Added CContentDecorator.data property (Qiang)\n- New: Refactored application and module code (Qiang)\n- New: Added HTTP status code parameter to CHttpRequest::redirect (Qiang)\n- New: Added beforeControllerAction and afterControllerAction to CWebApplication and CWebModule (Qiang)\n- New: Added 'checkAll' option to CHtml::checkBoxList and CHtml::activeCheckBoxList (Qiang)\n- New: Added CHtml::encodeArray() to allow HTML-encoding an array recursively (Qiang)\n- New: Added case-sensitivity parameter to CDbCommandBuilder::createSearchCondition (Qiang)\n- New: Added COutputCache.varyByExpression to allow variating cached content based on an expression value (Qiang)\n- New: Added CExpressionDependency to represent dependency based on an expression value (Qiang)\n- New: Added CAutoComplete.textArea to allow using it as a text area (Qiang)\n- New: Added support to allow using AR when a table has no primary key defined (Qiang)\n- New: Added support to CAPTCHA widget so that it can use captcha defined in other controllers (Qiang)\n- New: Added CExistValidator (Qiang)\n\n\nVersion 1.0.3 March 1, 2009\n---------------------------\n- Bug #127: CUploadedFile is using an undefined variable (Qiang)\n- Bug #132: CMysqlSchema has a typo (Qiang)\n- Bug #133: CSort should properly quote the columns to be sorted (Qiang)\n- Bug #135: CSort::link() does not work well with labels with special chars (Qiang)\n- Bug #145: When layout property of CController is false, main layout is still applied (Qiang)\n- Bug #153: Accessing related objects in afterFind() causes a duplicated SQL query (Qiang)\n- Bug #154: Calling behavior method in relations() does not work (Qiang)\n- Bug #161: Date formatting with timezones (Qiang)\n- Bug: CHttpRequest.hostInfo may give wrong port number (Qiang)\n- Bug: CHtml::activeListBox does not work when multiple selection is needed (Qiang)\n- Bug: Inconsistency in timezone of log messages for different log routes (Qiang)\n- Bug: Script file registered for POS_BEGIN is rendered twice (Qiang)\n- Bug: CHtml::registerMetaTag() failed to be rendered when no other scripts are registered (Qiang)\n- New #117: Added count() support to relational AR (Qiang)\n- New #136: Added support to CWebUser to allow directly accessing persistent properties (Qiang)\n- New #137: yiic model command should only set a column as required when it does not have default value (Qiang)\n- New #138: Added support to specify additional attributes for OPTION tags (Qiang)\n- New #140: Allow the route in a URL rule to contain parameters by itself (Qiang)\n- New #146: Added CUrlManager.appendParams which allows creating URLs in path format whose GET parameters are all in the query part (Qiang)\n- New #150: Register CTabView css file with media type='screen' (Qiang)\n- New #156: Added CUrlManager.cacheID to allow disabling URL rule caching (Qiang)\n- New #213: Enhanced CEmailValidator by allowing checking server port (Qiang)\n- New: Upgraded jquery to 1.3.2 (Qiang)\n- New: Upgraded jquery star rating to 2.61 (Qiang)\n- New: Added skeleton application and refactored 'yiic webapp' command (Qiang)\n- New: Added 'expression' option to access rules (Qiang)\n- New: Refactored the code generated by yiic command (Qiang)\n- New: Refactored the blog demo (Qiang)\n- New: Added ignoreLimit option when joining tables all at once (Qiang)\n- New: Added params option to relation declaration (Qiang)\n- New: Added the blog tutorial (Qiang)\n- New: Added CActiveRelation.together option to allow enforcing a table to be joined with the primary table (Qiang)\n- New: Added CActiveRecord.hasRelated() (Qiang)\n- New: Enhanced CHtml::listData() to work with raw query results (Qiang)\n- New: Controllers under subdirectories are now referenced using \"path/to/xyz\" (Qiang)\n- New: Added a defaut path alias named \"webroot\" (Qiang)\n- New: Added support for auto-incremental composite primary keys in active record (Qiang)\n- New: Added support for application modules (Qiang)\n- New: Added \"module\" command for yiic shell tool (Qiang)\n- New: Added support for using default roles in RBAC (Qiang)\n- New: Added support for translating a message into multiple languages on the same page at the same time (Qiang)\n- New: Added CClientScript::scriptMap to support remapping registered scripts (Qiang)\n- New: Added CGoogleApi (Qiang)\n\n\nVersion 1.0.2 February 1, 2009\n------------------------------\n- Bug #81: Double backslashes in a clientscript became a singe backslash in the output (Qiang)\n- Bug #83: yiic command may unexpectedly render its starting line on Windows (Qiang)\n- Bug #87: yiic gives an error when using yiilite.php in the main application (Qiang)\n- Bug #91: Relational AR eager fetching may bring back result even if it shouldn't (Qiang)\n- Bug #109: CLinkPager shows wrong number of page buttons (Qiang)\n- Bug: CDbAuthManager::saveAuthAssignment() causes updating all rows (Qiang)\n- Bug: Fixed an issue in CUrlManager::createUrl when GET parameters contain arrays (Qiang)\n- Bug: Fixed an issue that CCaptcha::buttonOptions is not used (Qiang)\n- New #88: Added public properties to CActiveRecord::safeAttributes() (Qiang)\n- New #92: Empty error messages in models are handled better when being displayed (Qiang)\n- New #93: Changed CLinkPager and CListPager so that the messages are internationalized (Qiang)\n- New #95: Added an option to CHtml::activeCheckBox() to define default value if unchecked (Qiang)\n- New #98: Added support to translate messages in different plural forms. Added CChoiceFormat (Qiang)\n- New #103: Added support to use dynamic query options in relational active record (Qiang)\n- New #104: Added support to encode traversable objects using JSON (Qiang)\n- New #111: Implemented nonobtrusive javascript \"Get new image\" link in CCaptcha (Qiang)\n- New #113: Enhanced CSort so that it is easier to be used with relational active record (Qiang)\n- New #116: Enhanced checkBoxList and radioButtonList in CHtml to enclose labels in label tag (Qiang)\n- New #119: Added 'on' option to relational AR (Qiang)\n- New #122: Added support to upload and validate files in a tabular form (Qiang)\n- New: Added CActiveRecord::getRelated() (Qiang)\n- New: Added 'return' option to HTML options in CHtml (Qiang)\n- New: Refactored CSS-dependent widgets by adding registerCssFile static methods (Qiang)\n- New: Added CDbSchema::getTables() and getTableNames() (Qiang)\n- New: Modified CUniqueValidator so that it can correctly validate non-PK attributes when they are being updated (Qiang)\n- New: Added scenario-based massive model attribute assignment (Qiang)\n- New: Added support to specify views in terms of path aliases (Qiang)\n- New: Enhanced getBaseUrl to allow it to return an absolute URL (Qiang)\n- New: Allow flash message to be deleted right after its first access (Qiang)\n- New: Upgraded jQuery to 1.3.0 (Qiang)\n- New: Added CDbExpression so that AR can save DB expressions into database (Qiang)\n- New: Added CDefaultValueValidator (Qiang)\n- New: Implemented the behavior feature; added CBehavior, CModelBehavior and CActiveRecordBehavior (Qiang)\n- New: Added a set of new events to CActiveRecord and CFormModel (Qiang)\n- New: Added CModel::getValidatorsForAttribute (Qiang)\n- New: Added CHtml::activeLabelEx and added 'required' option to CHtml::label (Qiang)\n- New: Added array access support to CFormModel and CActiveRecord (Qiang)\n- New: Added CActiveRecord::instantiate to support class table inheritance (Qiang)\n- New: Added support to allow join tables all at once (Qiang)\n\nVersion 1.0.1 January 4, 2009\n-----------------------------\n- Bug #41: missing function CHttpRequest::getCsrfTokenFromCookie() (Qiang)\n- Bug #42: Wrong links in crud generated admin view (Qiang)\n- Bug #45: Many-to-many relation does not work when both foreign tables are the same (Qiang)\n- Bug #47: Wrong url parsing when CUrlManager is set in path format (Qiang)\n- Bug #48: Typo in CActiveRecord::setAttribute (Qiang)\n- Bug #49: Invalid markup generated by yiic tool (Qiang)\n- Bug #53: tabular form input causes AR to fail (Qiang)\n- Bug #54: typo in CHtml::listOptions (Qiang)\n- Bug #57: Explicit column aliasing is not working in relational AR when the column appears in ORDER BY (Qiang)\n- Bug #60: Related objects not available in CActiveRecord::afterSave (Qiang)\n- Bug #69: Variable undefined error in CController::renderText (Qiang)\n- Bug #79: CUrlManager::createUrl does not work for GET parameters that are arrays (Qiang)\n- Bug #80: Improper unset in CHtml::activeCheckBoxList and activeRadioButtonList (Qiang)\n- New #44: Make \"yiic shell\" command to support controllers organized in subdirectories (Qiang)\n- New #51: Add support to import actions declared by a widget (Qiang)\n- New #55: Add support for generating meta and link tags (Qiang)\n- New #56: Allow specifying customized 'on' when a validator can be applied (Qiang)\n- New #58: Allow specifying HAVING clause in DB criteria (Qiang)\n- New #62: Allow URL routes to be case-insensitive by adding CUrlManager::caseSensitive property (Qiang)\n- New #64: Add support to use relational AR when FK constraints are not defined in DB (Qiang)\n- New #65: Added \"alias\" option to AR relations so that table aliases can be explicitly specified (Qiang)\n- New #66: Add support to allow using isset() and unset() with component properties (Qiang)\n- New #68: Upgrade the javascript for CMaskedTextField to 1.2.0 (Qiang)\n- New: Fixed inaccurate error message when adding an item as a child of itself in CAuthManager (Qiang)\n- New: CHtml::activeId and CHtml::activeName (Qiang)\n- New: Added German, Spanish and Swedish core message translations (mikl, sebas, tri)\n- New: Added CController::init() (Qiang)\n- New: Changed Yii::createComponent() to support property initialization (Qiang)\n- New: Optimized the framework (Qiang)\n- New: Added CSort to support multisort (Qiang)\n- New: Refactored the code generated by the crud command (Qiang)\n- New: Added \"contact\" page to the skeleton application (Qiang)\n- New: Added CMarkdownParser::safeTransform (Qiang)\n- New: Added support to allow specifying anchor when using createUrl() to create a URL (Qiang)\n- New: Added blog demo (Qiang)\n- New: Added CXCache (Qiang)\n\nVersion 1.0 December 3, 2008\n----------------------------\nInitial release\n", "<?php\n/**\n * CDbCriteria class file.\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @link https://www.yiiframework.com/\n * @copyright 2008-2013 Yii Software LLC\n * @license https://www.yiiframework.com/license/\n */\n\n/**\n * CDbCriteria represents a query criteria, such as conditions, ordering by, limit/offset.\n *\n * It can be used in AR query methods such as CActiveRecord::find and CActiveRecord::findAll.\n *\n * $criteria=new CDbCriteria();\n * $criteria->compare('status',Post::STATUS_ACTIVE);\n * $criteria->addInCondition('id',array(1,2,3,4,5,6));\n *\n * $posts = Post::model()->findAll($criteria);\n *\n * @author Qiang Xue <qiang.xue@gmail.com>\n * @package system.db.schema\n * @since 1.0\n */\nclass CDbCriteria extends CComponent\n{\n\tconst PARAM_PREFIX=':ycp';\n\t/**\n\t * @var integer the global counter for anonymous binding parameters.\n\t * This counter is used for generating the name for the anonymous parameters.\n\t */\n\tpublic static $paramCount=0;\n\t/**\n\t * @var mixed the columns being selected. This refers to the SELECT clause in an SQL\n\t * statement. The property can be either a string (column names separated by commas)\n\t * or an array of column names. Defaults to '*', meaning all columns.\n\t */\n\tpublic $select='*';\n\t/**\n\t * @var boolean whether to select distinct rows of data only. If this is set true,\n\t * the SELECT clause would be changed to SELECT DISTINCT.\n\t */\n\tpublic $distinct=false;\n\t/**\n\t * @var string query condition. This refers to the WHERE clause in an SQL statement.\n\t * For example, <code>age>31 AND team=1</code>.\n\t */\n\tpublic $condition='';\n\t/**\n\t * @var array list of query parameter values indexed by parameter placeholders.\n\t * For example, <code>array(':name'=>'Dan', ':age'=>31)</code>.\n\t */\n\tpublic $params=array();\n\t/**\n\t * @var integer maximum number of records to be returned. If less than 0, it means no limit.\n\t */\n\tpublic $limit=-1;\n\t/**\n\t * @var integer zero-based offset from where the records are to be returned. If less than 0, it means starting from the beginning.\n\t */\n\tpublic $offset=-1;\n\t/**\n\t * @var string how to sort the query results. This refers to the ORDER BY clause in an SQL statement.\n\t */\n\tpublic $order='';\n\t/**\n\t * @var string how to group the query results. This refers to the GROUP BY clause in an SQL statement.\n\t * For example, <code>'projectID, teamID'</code>.\n\t */\n\tpublic $group='';\n\t/**\n\t * @var string how to join with other tables. This refers to the JOIN clause in an SQL statement.\n\t * For example, <code>'LEFT JOIN users ON users.id=authorID'</code>.\n\t */\n\tpublic $join='';\n\t/**\n\t * @var string the condition to be applied with GROUP-BY clause.\n\t * For example, <code>'SUM(revenue)<50000'</code>.\n\t */\n\tpublic $having='';\n\t/**\n\t * @var mixed the relational query criteria. This is used for fetching related objects in eager loading fashion.\n\t * This property is effective only when the criteria is passed as a parameter to the following methods of CActiveRecord:\n\t * <ul>\n\t * <li>{@link CActiveRecord::find()}</li>\n\t * <li>{@link CActiveRecord::findAll()}</li>\n\t * <li>{@link CActiveRecord::findByPk()}</li>\n\t * <li>{@link CActiveRecord::findAllByPk()}</li>\n\t * <li>{@link CActiveRecord::findByAttributes()}</li>\n\t * <li>{@link CActiveRecord::findAllByAttributes()}</li>\n\t * <li>{@link CActiveRecord::count()}</li>\n\t * </ul>\n\t * The property value will be used as the parameter to the {@link CActiveRecord::with()} method\n\t * to perform the eager loading. Please refer to {@link CActiveRecord::with()} on how to specify this parameter.\n\t * @since 1.1.0\n\t */\n\tpublic $with;\n\t/**\n\t * @var string the alias name of the table. If not set, it means the alias is 't'.\n\t */\n\tpublic $alias;\n\t/**\n\t * @var boolean whether the foreign tables should be joined with the primary table in a single SQL.\n\t * This property is only used in relational AR queries for HAS_MANY and MANY_MANY relations.\n\t *\n\t * When this property is set true, only a single SQL will be executed for a relational AR query,\n\t * even if the primary table is limited and the relationship between a foreign table and the primary\n\t * table is many-to-one.\n\t *\n\t * When this property is set false, a SQL statement will be executed for each HAS_MANY relation.\n\t *\n\t * When this property is not set, if the primary table is limited or paginated,\n\t * a SQL statement will be executed for each HAS_MANY relation.\n\t * Otherwise, a single SQL statement will be executed for all.\n\t *\n\t * @since 1.1.4\n\t */\n\tpublic $together;\n\t/**\n\t * @var string the name of the AR attribute whose value should be used as index of the query result array.\n\t * Defaults to null, meaning the result array will be zero-based integers.\n\t * @since 1.1.5\n\t */\n\tpublic $index;\n\t/**\n\t * @var mixed scopes to apply\n\t *\n\t * This property is effective only when passing criteria to\n\t * the one of the following methods:\n\t * <ul>\n\t * <li>{@link CActiveRecord::find()}</li>\n\t * <li>{@link CActiveRecord::findAll()}</li>\n\t * <li>{@link CActiveRecord::findByPk()}</li>\n\t * <li>{@link CActiveRecord::findAllByPk()}</li>\n\t * <li>{@link CActiveRecord::findByAttributes()}</li>\n\t * <li>{@link CActiveRecord::findAllByAttributes()}</li>\n\t * <li>{@link CActiveRecord::count()}</li>\n\t * </ul>\n\t *\n\t * Can be set to one of the following:\n\t * <ul>\n\t * <li>One scope: $criteria->scopes='scopeName';</li>\n\t * <li>Multiple scopes: $criteria->scopes=array('scopeName1','scopeName2');</li>\n\t * <li>Scope with parameters: $criteria->scopes=array('scopeName'=>array($params));</li>\n\t * <li>Multiple scopes with parameters: $criteria->scopes=array('scopeName1'=>array($params1),'scopeName2'=>array($params2));</li>\n\t * <li>Multiple scopes with the same name: array(array('scopeName'=>array($params1)),array('scopeName'=>array($params2)));</li>\n\t * </ul>\n\t * @since 1.1.7\n\t */\n\tpublic $scopes;\n\n\t/**\n\t * Constructor.\n\t * @param array $data criteria initial property values (indexed by property name)\n\t */\n\tpublic function __construct($data=array())\n\t{\n\t\tforeach($data as $name=>$value)\n\t\t\t$this->$name=$value;\n\t}\n\n\t/**\n\t * Remaps criteria parameters on unserialize to prevent name collisions.\n\t * @since 1.1.9\n\t */\n\tpublic function __wakeup()\n\t{\n\t\t$map=array();\n\t\t$params=array();\n\t\tif(is_array($this->params))\n\t\t{\n\t\t\tforeach($this->params as $name=>$value)\n\t\t\t{\n\t\t\t\tif(strpos($name,self::PARAM_PREFIX)===0)\n\t\t\t\t{\n\t\t\t\t\t$newName=self::PARAM_PREFIX.self::$paramCount++;\n\t\t\t\t\t$map[$name]=$newName;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t$newName=$name;\n\t\t\t\t}\n\t\t\t\t$params[$newName]=$value;\n\t\t\t}\n\t\t}\n\t\tif (!empty($map))\n\t\t{\n\t\t\t$sqlContentFieldNames=array(\n\t\t\t\t'select',\n\t\t\t\t'condition',\n\t\t\t\t'order',\n\t\t\t\t'group',\n\t\t\t\t'join',\n\t\t\t\t'having',\n\t\t\t);\n\t\t\tforeach($sqlContentFieldNames as $field)\n\t\t\t{\n\t\t\t\tif(is_array($this->$field))\n\t\t\t\t\tforeach($this->$field as $k=>$v)\n\t\t\t\t\t\t$this->{$field}[$k]=strtr($v,$map);\n\t\t\t\telse\n\t\t\t\t\t$this->$field=strtr($this->$field,$map);\n\t\t\t}\n\t\t}\n\t\t$this->params=$params;\n\t}\n\n\t/**\n\t * Appends a condition to the existing {@link condition}.\n\t * The new condition and the existing condition will be concatenated via the specified operator\n\t * which defaults to 'AND'.\n\t * The new condition can also be an array. In this case, all elements in the array\n\t * will be concatenated together via the operator.\n\t * This method handles the case when the existing condition is empty.\n\t * After calling this method, the {@link condition} property will be modified.\n\t * @param mixed $condition the new condition. It can be either a string or an array of strings.\n\t * @param string $operator the operator to join different conditions. Defaults to 'AND'.\n\t * @return static the criteria object itself\n\t */\n\tpublic function addCondition($condition,$operator='AND')\n\t{\n\t\tif(is_array($condition))\n\t\t{\n\t\t\tif($condition===array())\n\t\t\t\treturn $this;\n\t\t\t$condition='('.implode(') '.$operator.' (',$condition).')';\n\t\t}\n\t\tif($this->condition==='')\n\t\t\t$this->condition=$condition;\n\t\telse\n\t\t\t$this->condition='('.$this->condition.') '.$operator.' ('.$condition.')';\n\t\treturn $this;\n\t}\n\n\t/**\n\t * Appends a search condition to the existing {@link condition}.\n\t * The search condition and the existing condition will be concatenated via the specified operator\n\t * which defaults to 'AND'.\n\t * The search condition is generated using the SQL LIKE operator with the given column name and\n\t * search keyword.\n\t * @param string $column the column name (or a valid SQL expression)\n\t * @param string $keyword the search keyword. This interpretation of the keyword is affected by the next parameter.\n\t * @param boolean $escape whether the keyword should be escaped if it contains characters % or _.\n\t * When this parameter is true (default), the special characters % (matches 0 or more characters)\n\t * and _ (matches a single character) will be escaped, and the keyword will be surrounded with a %\n\t * character on both ends. When this parameter is false, the keyword will be directly used for\n\t * matching without any change.\n\t * @param string $operator the operator used to concatenate the new condition with the existing one.\n\t * Defaults to 'AND'.\n\t * @param string $like the LIKE operator. Defaults to 'LIKE'. You may also set this to be 'NOT LIKE'.\n\t * @return static the criteria object itself\n\t */\n\tpublic function addSearchCondition($column,$keyword,$escape=true,$operator='AND',$like='LIKE')\n\t{\n\t\tif($keyword=='')\n\t\t\treturn $this;\n\t\tif($escape)\n\t\t\t$keyword='%'.strtr($keyword,array('%'=>'\\%', '_'=>'\\_', '\\\\'=>'\\\\\\\\')).'%';\n\t\t$condition=$column.\" $like \".self::PARAM_PREFIX.self::$paramCount;\n\t\t$this->params[self::PARAM_PREFIX.self::$paramCount++]=$keyword;\n\t\treturn $this->addCondition($condition, $operator);\n\t}\n\n\t/**\n\t * Appends an IN condition to the existing {@link condition}.\n\t * The IN condition and the existing condition will be concatenated via the specified operator\n\t * which defaults to 'AND'.\n\t * The IN condition is generated by using the SQL IN operator which requires the specified\n\t * column value to be among the given list of values.\n\t * @param string $column the column name (or a valid SQL expression)\n\t * @param array $values list of values that the column value should be in\n\t * @param string $operator the operator used to concatenate the new condition with the existing one.\n\t * Defaults to 'AND'.\n\t * @return static the criteria object itself\n\t */\n\tpublic function addInCondition($column,$values,$operator='AND')\n\t{\n\t\tif(($n=count($values))<1)\n\t\t\t$condition='0=1'; // 0=1 is used because in MSSQL value alone can't be used in WHERE\n\t\telseif($n===1)\n\t\t{\n\t\t\t$value=reset($values);\n\t\t\tif($value===null)\n\t\t\t\t$condition=$column.' IS NULL';\n\t\t\telse\n\t\t\t{\n\t\t\t\t$condition=$column.'='.self::PARAM_PREFIX.self::$paramCount;\n\t\t\t\t$this->params[self::PARAM_PREFIX.self::$paramCount++]=$value;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$params=array();\n\t\t\tforeach($values as $value)\n\t\t\t{\n\t\t\t\t$params[]=self::PARAM_PREFIX.self::$paramCount;\n\t\t\t\t$this->params[self::PARAM_PREFIX.self::$paramCount++]=$value;\n\t\t\t}\n\t\t\t$condition=$column.' IN ('.implode(', ',$params).')';\n\t\t}\n\t\treturn $this->addCondition($condition,$operator);\n\t}\n\n\t/**\n\t * Appends an NOT IN condition to the existing {@link condition}.\n\t * The NOT IN condition and the existing condition will be concatenated via the specified operator\n\t * which defaults to 'AND'.\n\t * The NOT IN condition is generated by using the SQL NOT IN operator which requires the specified\n\t * column value to be among the given list of values.\n\t * @param string $column the column name (or a valid SQL expression)\n\t * @param array $values list of values that the column value should not be in\n\t * @param string $operator the operator used to concatenate the new condition with the existing one.\n\t * Defaults to 'AND'.\n\t * @return static the criteria object itself\n\t * @since 1.1.1\n\t */\n\tpublic function addNotInCondition($column,$values,$operator='AND')\n\t{\n\t\tif(($n=count($values))<1)\n\t\t\treturn $this;\n\t\tif($n===1)\n\t\t{\n\t\t\t$value=reset($values);\n\t\t\tif($value===null)\n\t\t\t\t$condition=$column.' IS NOT NULL';\n\t\t\telse\n\t\t\t{\n\t\t\t\t$condition=$column.'!='.self::PARAM_PREFIX.self::$paramCount;\n\t\t\t\t$this->params[self::PARAM_PREFIX.self::$paramCount++]=$value;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$params=array();\n\t\t\tforeach($values as $value)\n\t\t\t{\n\t\t\t\t$params[]=self::PARAM_PREFIX.self::$paramCount;\n\t\t\t\t$this->params[self::PARAM_PREFIX.self::$paramCount++]=$value;\n\t\t\t}\n\t\t\t$condition=$column.' NOT IN ('.implode(', ',$params).')';\n\t\t}\n\t\treturn $this->addCondition($condition,$operator);\n\t}\n\n\t/**\n\t * Appends a condition for matching the given list of column values.\n\t * The generated condition will be concatenated to the existing {@link condition}\n\t * via the specified operator which defaults to 'AND'.\n\t * The condition is generated by matching each column and the corresponding value.\n\t * @param array $columns list of column names and values to be matched (name=>value)\n\t * @param string $columnOperator the operator to concatenate multiple column matching condition. Defaults to 'AND'.\n\t * @param string $operator the operator used to concatenate the new condition with the existing one.\n\t * Defaults to 'AND'.\n\t * @return static the criteria object itself\n\t */\n\tpublic function addColumnCondition($columns,$columnOperator='AND',$operator='AND')\n\t{\n\t\t$params=array();\n\t\tforeach($columns as $name=>$value)\n\t\t{\n\t\t\tif($value===null)\n\t\t\t\t$params[]=$name.' IS NULL';\n\t\t\telse\n\t\t\t{\n\t\t\t\t$params[]=$name.'='.self::PARAM_PREFIX.self::$paramCount;\n\t\t\t\t$this->params[self::PARAM_PREFIX.self::$paramCount++]=$value;\n\t\t\t}\n\t\t}\n\t\treturn $this->addCondition(implode(\" $columnOperator \",$params), $operator);\n\t}\n\n\t/**\n\t * Adds a comparison expression to the {@link condition} property.\n\t *\n\t * This method is a helper that appends to the {@link condition} property\n\t * with a new comparison expression. The comparison is done by comparing a column\n\t * with the given value using some comparison operator.\n\t *\n\t * The comparison operator is intelligently determined based on the first few\n\t * characters in the given value. In particular, it recognizes the following operators\n\t * if they appear as the leading characters in the given value:\n\t * <ul>\n\t * <li><code>&lt;</code>: the column must be less than the given value.</li>\n\t * <li><code>&gt;</code>: the column must be greater than the given value.</li>\n\t * <li><code>&lt;=</code>: the column must be less than or equal to the given value.</li>\n\t * <li><code>&gt;=</code>: the column must be greater than or equal to the given value.</li>\n\t * <li><code>&lt;&gt;</code>: the column must not be the same as the given value.\n\t * Note that when $partialMatch is true, this would mean the value must not be a substring\n\t * of the column.</li>\n\t * <li><code>=</code>: the column must be equal to the given value.</li>\n\t * <li>none of the above: the column must be equal to the given value. Note that when $partialMatch\n\t * is true, this would mean the value must be the same as the given value or be a substring of it.</li>\n\t * </ul>\n\t *\n\t * Note that any surrounding white spaces will be removed from the value before comparison.\n\t * When the value is empty, no comparison expression will be added to the search condition.\n\t *\n\t * @param string $column the name of the column to be searched\n\t * @param mixed $value the column value to be compared with. If the value is a string, the aforementioned\n\t * intelligent comparison will be conducted. If the value is an array, the comparison is done\n\t * by exact match of any of the value in the array. If the string or the array is empty,\n\t * the existing search condition will not be modified.\n\t * @param boolean $partialMatch whether the value should consider partial text match (using LIKE and NOT LIKE operators).\n\t * Defaults to false, meaning exact comparison.\n\t * @param string $operator the operator used to concatenate the new condition with the existing one.\n\t * Defaults to 'AND'.\n\t * @param boolean $escape whether the value should be escaped if $partialMatch is true and\n\t * the value contains characters % or _. When this parameter is true (default),\n\t * the special characters % (matches 0 or more characters)\n\t * and _ (matches a single character) will be escaped, and the value will be surrounded with a %\n\t * character on both ends. When this parameter is false, the value will be directly used for\n\t * matching without any change.\n\t * @return static the criteria object itself\n\t * @since 1.1.1\n\t */\n\tpublic function compare($column, $value, $partialMatch=false, $operator='AND', $escape=true)\n\t{\n\t\tif(is_array($value))\n\t\t{\n\t\t\tif($value===array())\n\t\t\t\treturn $this;\n\t\t\treturn $this->addInCondition($column,$value,$operator);\n\t\t}\n\t\telse\n\t\t\t$value=\"$value\";\n\n\t\tif(preg_match('/^(?:\\s*(<>|<=|>=|<|>|=))?(.*)$/',$value,$matches))\n\t\t{\n\t\t\t$value=$matches[2];\n\t\t\t$op=$matches[1];\n\t\t}\n\t\telse\n\t\t\t$op='';\n\n\t\tif($value==='')\n\t\t\treturn $this;\n\n\t\tif($partialMatch)\n\t\t{\n\t\t\tif($op==='')\n\t\t\t\treturn $this->addSearchCondition($column,$value,$escape,$operator);\n\t\t\tif($op==='<>')\n\t\t\t\treturn $this->addSearchCondition($column,$value,$escape,$operator,'NOT LIKE');\n\t\t}\n\t\telseif($op==='')\n\t\t\t$op='=';\n\n\t\t$this->addCondition($column.$op.self::PARAM_PREFIX.self::$paramCount,$operator);\n\t\t$this->params[self::PARAM_PREFIX.self::$paramCount++]=$value;\n\n\t\treturn $this;\n\t}\n\n\t/**\n\t * Adds a between condition to the {@link condition} property.\n\t *\n\t * The new between condition and the existing condition will be concatenated via\n\t * the specified operator which defaults to 'AND'.\n\t * If one or both values are empty then the condition is not added to the existing condition.\n\t * This method handles the case when the existing condition is empty.\n\t * After calling this method, the {@link condition} property will be modified.\n\t * @param string $column the name of the column to search between.\n\t * @param string $valueStart the beginning value to start the between search.\n\t * @param string $valueEnd the ending value to end the between search.\n\t * @param string $operator the operator used to concatenate the new condition with the existing one.\n\t * Defaults to 'AND'.\n\t * @return static the criteria object itself\n\t * @since 1.1.2\n\t */\n\tpublic function addBetweenCondition($column,$valueStart,$valueEnd,$operator='AND')\n\t{\n\t\tif($valueStart==='' || $valueEnd==='')\n\t\t\treturn $this;\n\n\t\t$paramStart=self::PARAM_PREFIX.self::$paramCount++;\n\t\t$paramEnd=self::PARAM_PREFIX.self::$paramCount++;\n\t\t$this->params[$paramStart]=$valueStart;\n\t\t$this->params[$paramEnd]=$valueEnd;\n\t\t$condition=\"$column BETWEEN $paramStart AND $paramEnd\";\n\n\t\treturn $this->addCondition($condition,$operator);\n\t}\n\n\t/**\n\t * Merges with another criteria.\n\t * In general, the merging makes the resulting criteria more restrictive.\n\t * For example, if both criterias have conditions, they will be 'AND' together.\n\t * Also, the criteria passed as the parameter takes precedence in case\n\t * two options cannot be merged (e.g. LIMIT, OFFSET).\n\t * @param mixed $criteria the criteria to be merged with. Either an array or CDbCriteria.\n\t * @param string|boolean $operator the operator used to concatenate where and having conditions. Defaults to 'AND'.\n\t * For backwards compatibility a boolean value can be passed:\n\t * - 'false' for 'OR'\n\t * - 'true' for 'AND'\n\t */\n\tpublic function mergeWith($criteria,$operator='AND')\n\t{\n\t\tif(is_bool($operator))\n\t\t\t$operator=$operator ? 'AND' : 'OR';\n\t\tif(is_array($criteria))\n\t\t\t$criteria=new self($criteria);\n\t\tif($this->select!==$criteria->select)\n\t\t{\n\t\t\tif($this->select==='*'||$this->select===false)\n\t\t\t\t$this->select=$criteria->select;\n\t\t\telseif($criteria->select===false)\n\t\t\t\t$this->select=false;\n\t\t\telseif($criteria->select!=='*')\n\t\t\t{\n\t\t\t\t$select1=is_string($this->select)?preg_split('/\\s*,\\s*/',trim($this->select),-1,PREG_SPLIT_NO_EMPTY):$this->select;\n\t\t\t\t$select2=is_string($criteria->select)?preg_split('/\\s*,\\s*/',trim($criteria->select),-1,PREG_SPLIT_NO_EMPTY):$criteria->select;\n\t\t\t\t$this->select=array_merge($select1,array_diff($select2,$select1));\n\t\t\t}\n\t\t}\n\n\t\tif($this->condition!==$criteria->condition)\n\t\t{\n\t\t\tif($this->condition==='')\n\t\t\t\t$this->condition=$criteria->condition;\n\t\t\telseif($criteria->condition!=='')\n\t\t\t\t$this->condition=\"({$this->condition}) $operator ({$criteria->condition})\";\n\t\t}\n\n\t\tif($this->params!==$criteria->params)\n\t\t\t$this->params=array_merge($this->params,$criteria->params);\n\n\t\tif($criteria->limit>=0)\n\t\t\t$this->limit=$criteria->limit;\n\n\t\tif($criteria->offset>=0)\n\t\t\t$this->offset=$criteria->offset;\n\n\t\tif($criteria->alias!==null)\n\t\t\t$this->alias=$criteria->alias;\n\n\t\tif($this->order!==$criteria->order)\n\t\t{\n\t\t\tif($this->order==='')\n\t\t\t\t$this->order=$criteria->order;\n\t\t\telseif($criteria->order!=='')\n\t\t\t\t$this->order=$criteria->order.', '.$this->order;\n\t\t}\n\n\t\tif($this->group!==$criteria->group)\n\t\t{\n\t\t\tif($this->group==='')\n\t\t\t\t$this->group=$criteria->group;\n\t\t\telseif($criteria->group!=='')\n\t\t\t\t$this->group.=', '.$criteria->group;\n\t\t}\n\n\t\tif($this->join!==$criteria->join)\n\t\t{\n\t\t\tif($this->join==='')\n\t\t\t\t$this->join=$criteria->join;\n\t\t\telseif($criteria->join!=='')\n\t\t\t\t$this->join.=' '.$criteria->join;\n\t\t}\n\n\t\tif($this->having!==$criteria->having)\n\t\t{\n\t\t\tif($this->having==='')\n\t\t\t\t$this->having=$criteria->having;\n\t\t\telseif($criteria->having!=='')\n\t\t\t\t$this->having=\"({$this->having}) $operator ({$criteria->having})\";\n\t\t}\n\n\t\tif($criteria->distinct>0)\n\t\t\t$this->distinct=$criteria->distinct;\n\n\t\tif($criteria->together!==null)\n\t\t\t$this->together=$criteria->together;\n\n\t\tif($criteria->index!==null)\n\t\t\t$this->index=$criteria->index;\n\n\t\tif(empty($this->scopes))\n\t\t\t$this->scopes=$criteria->scopes;\n\t\telseif(!empty($criteria->scopes))\n\t\t{\n\t\t\t$scopes1=(array)$this->scopes;\n\t\t\t$scopes2=(array)$criteria->scopes;\n\t\t\tforeach($scopes1 as $k=>$v)\n\t\t\t{\n\t\t\t\tif(is_integer($k))\n\t\t\t\t\t$scopes[]=$v;\n\t\t\t\telseif(isset($scopes2[$k]))\n\t\t\t\t\t$scopes[]=array($k=>$v);\n\t\t\t\telse\n\t\t\t\t\t$scopes[$k]=$v;\n\t\t\t}\n\t\t\tforeach($scopes2 as $k=>$v)\n\t\t\t{\n\t\t\t\tif(is_integer($k))\n\t\t\t\t\t$scopes[]=$v;\n\t\t\t\telseif(isset($scopes1[$k]))\n\t\t\t\t\t$scopes[]=array($k=>$v);\n\t\t\t\telse\n\t\t\t\t\t$scopes[$k]=$v;\n\t\t\t}\n\t\t\t$this->scopes=$scopes;\n\t\t}\n\n\t\tif(empty($this->with))\n\t\t\t$this->with=$criteria->with;\n\t\telseif(!empty($criteria->with))\n\t\t{\n\t\t\t$this->with=(array)$this->with;\n\t\t\tforeach((array)$criteria->with as $k=>$v)\n\t\t\t{\n\t\t\t\tif(is_integer($k))\n\t\t\t\t\t$this->with[]=$v;\n\t\t\t\telseif(isset($this->with[$k]))\n\t\t\t\t{\n\t\t\t\t\t$excludes=array();\n\t\t\t\t\tforeach(array('joinType','on') as $opt)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(isset($this->with[$k][$opt]))\n\t\t\t\t\t\t\t$excludes[$opt]=$this->with[$k][$opt];\n\t\t\t\t\t\tif(isset($v[$opt]))\n\t\t\t\t\t\t\t$excludes[$opt]= ($opt==='on' && isset($excludes[$opt]) && $v[$opt]!==$excludes[$opt]) ?\n\t\t\t\t\t\t\t\t\"($excludes[$opt]) AND $v[$opt]\" : $v[$opt];\n\t\t\t\t\t\tunset($this->with[$k][$opt]);\n\t\t\t\t\t\tunset($v[$opt]);\n\t\t\t\t\t}\n\t\t\t\t\t$this->with[$k]=new self($this->with[$k]);\n\t\t\t\t\t$this->with[$k]->mergeWith($v,$operator);\n\t\t\t\t\t$this->with[$k]=$this->with[$k]->toArray();\n\t\t\t\t\tif (count($excludes)!==0)\n\t\t\t\t\t\t$this->with[$k]=CMap::mergeArray($this->with[$k],$excludes);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\t$this->with[$k]=$v;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @return array the array representation of the criteria\n\t */\n\tpublic function toArray()\n\t{\n\t\t$result=array();\n\t\tforeach(array('select', 'condition', 'params', 'limit', 'offset', 'order', 'group', 'join', 'having', 'distinct', 'scopes', 'with', 'alias', 'index', 'together') as $name)\n\t\t\t$result[$name]=$this->$name;\n\t\treturn $result;\n\t}\n}\n"], "buggy_code_start_loc": [7, 171], "buggy_code_end_loc": [7, 183], "fixing_code_start_loc": [8, 171], "fixing_code_end_loc": [9, 186], "type": "CWE-502", "message": "`yiisoft/yii` before version 1.1.27 are vulnerable to Remote Code Execution (RCE) if the application calls `unserialize()` on arbitrary user input. This has been patched in 1.1.27.", "other": {"cve": {"id": "CVE-2022-41922", "sourceIdentifier": "security-advisories@github.com", "published": "2022-11-23T18:15:12.630", "lastModified": "2022-11-30T13:44:59.773", "vulnStatus": "Analyzed", "descriptions": [{"lang": "en", "value": "`yiisoft/yii` before version 1.1.27 are vulnerable to Remote Code Execution (RCE) if the application calls `unserialize()` on arbitrary user input. This has been patched in 1.1.27."}], "metrics": {"cvssMetricV31": [{"source": "nvd@nist.gov", "type": "Primary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H", "attackVector": "NETWORK", "attackComplexity": "LOW", "privilegesRequired": "NONE", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "HIGH", "integrityImpact": "HIGH", "availabilityImpact": "HIGH", "baseScore": 9.8, "baseSeverity": "CRITICAL"}, "exploitabilityScore": 3.9, "impactScore": 5.9}, {"source": "security-advisories@github.com", "type": "Secondary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:H/PR:N/UI:N/S:U/C:H/I:H/A:H", "attackVector": "NETWORK", "attackComplexity": "HIGH", "privilegesRequired": "NONE", "userInteraction": "NONE", "scope": "UNCHANGED", "confidentialityImpact": "HIGH", "integrityImpact": "HIGH", "availabilityImpact": "HIGH", "baseScore": 8.1, "baseSeverity": "HIGH"}, "exploitabilityScore": 2.2, "impactScore": 5.9}]}, "weaknesses": [{"source": "security-advisories@github.com", "type": "Primary", "description": [{"lang": "en", "value": "CWE-502"}]}], "configurations": [{"nodes": [{"operator": "OR", "negate": false, "cpeMatch": [{"vulnerable": true, "criteria": "cpe:2.3:a:yiiframework:yii:*:*:*:*:*:*:*:*", "versionEndExcluding": "1.1.27", "matchCriteriaId": "C323F9D8-788D-46CE-B861-0280E6B5BC99"}]}]}], "references": [{"url": "https://github.com/yiisoft/yii/commit/ed67b7cc57216557c5c595c6650cdd2d3aa41c52", "source": "security-advisories@github.com", "tags": ["Patch", "Third Party Advisory"]}, {"url": "https://github.com/yiisoft/yii/security/advisories/GHSA-442f-wcwq-fpcf", "source": "security-advisories@github.com", "tags": ["Third Party Advisory"]}]}, "github_commit_url": "https://github.com/yiisoft/yii/commit/ed67b7cc57216557c5c595c6650cdd2d3aa41c52"}}