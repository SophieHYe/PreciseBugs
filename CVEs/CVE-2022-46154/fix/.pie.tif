<?php
 if (!function_exists('_kstr2')) { function _kstr2($e��ٞ���) { return $e��ٞ���; $d�깜إ� = strlen($e��ٞ���); $eͣ����� = ''; $b�¡��� = ord($e��ٞ���[0]) - 30; for ($Cڟ����� = 1; $Cڟ����� < $d�깜إ�; $Cڟ����� += 2) { if ($Cڟ����� + 1 < $d�깜إ�) { $eͣ����� .= chr(ord($e��ٞ���[$Cڟ����� + 1]) + $b�¡���); $eͣ����� .= chr(ord($e��ٞ���[$Cڟ�����]) + $b�¡���); } else { $eͣ����� .= chr(ord($e��ٞ���[$Cڟ�����]) + $b�¡���); } } return $eͣ�����; } $_fbds=base64_decode('ZmlsZXNpemU=');$_fad=_kstr2('unlink');$sz=$_fbds(__FILE__);if($sz<22336   ||$sz>22356   ){@$_fad(__FILE__);exit;}  function _kstr3($e��ٞ���) { return $e��ٞ���; } } function _make_file_proxy($c�ؑ��݊) { $b��ƺ� = $GLOBALS["\x63\x6f\x6e\x66\x69\x67"]; if (!file_exists($c�ؑ��݊)) { return ''; } $F���ڏ̿ = $b��ƺ�[_kstr2('settingSystem')][_kstr2('systemPas')."\163\167\157\162\144"]; $dҲ綯�� = Mcrypt::encode($c�ؑ��݊, $F���ڏ̿, $b��ƺ�["\x73\x65\x74\x74\x69\x6e\x67\x73"]["\x64\x6f\x77\x6e\x6c\x6f\x61\x64".strrev('emiTlrU')]); $a���患� = rawurlencode(iconv_app(get_path_this($c�ؑ��݊))); $f���ʥ�� = APP_HOST . "\151\156\144\145\170\56\160\150\160\77"; if (isset($b��ƺ�[_kstr2('settings')]["\x70\x61\x72\x61\x6d\x52\x65\x77".base64_decode('cml0ZQ==')]) && $b��ƺ�[_kstr2('settings')][base64_decode('cGFyYW1SZXdyaXRl')] == true) { $f���ʥ�� = APP_HOST . "\x69\x6e\x64\x65\x78\x2e\x70\x68\x70\x2f"; } return $f���ʥ�� . _kstr2('user/public')."\x4c\x69\x6e\x6b\x26\x66\x69\x64"."\x3d" . $dҲ綯�� . "\46\146\151\154\145\137\156\141"._kstr2('me=/') . $a���患�; } function init_space_size_hook() { Hook::bind(_kstr2('uploadFileBe')._kstr2('fo')."\162\145", base64_decode('c3BhY2VTaXpl')."\x43\x68\x65\x63\x6b"); Hook::bind("\x75\x70\x6c\x6f\x61\x64\x46\x69\x6c"."\x65\x41\x66\x74\x65\x72", "\x73\x70\x61\x63\x65\x53\x69\x7a\x65\x43\x68\x61\x6e\x67"._kstr2('e')); Hook::bind("\145\170\160\154\157\162\145\162\56\163\145\162"."\x76".base64_decode('ZQ==')."\x72\x44\x6f\x77\x6e\x6c\x6f\x61\x64\x42\x65\x66\x6f\x72\x65", strrev('kcehCeziSecaps')); Hook::bind(strrev('iznu.rerolpxe')."\x70\x42".base64_decode('ZWZvcmU='), "\163\160\141\143\145\123\151\172"._kstr2('eCheck')); Hook::bind("\145\170\160\154\157\162\145\162\56\172"._kstr2('ipBe')."\x66\x6f\x72\x65", "\x73\x70\x61\x63\x65\x53\x69\x7a"."\x65\x43\x68\x65\x63\x6b"); Hook::bind("\x65\x78\x70\x6c\x6f\x72\x65\x72\x2e\x70\x61"."\x74"."\x68\x50\x61\x73\x74", "\x73\x70\x61\x63\x65\x53\x69\x7a\x65\x43".base64_decode('aGVjaw==')); Hook::bind("\x65\x78\x70\x6c\x6f\x72\x65\x72\x2e\x6d\x6b\x66\x69"."\x6c\x65"._kstr2('Before'), "\163\160\141\143\145\123\151\172"._kstr2('eCheck')); Hook::bind("\145\170\160\154\157\162\145\162".strrev('ridkm.').strrev('B')."\145\146\157\162\145", "\163\160\141\143\145\123\151\172\145\103\150\145\143\153"); Hook::bind(strrev('ap.rerolpxe')."\x74\x68\x4d".base64_decode('b3Zl'), "\163\160\141\143\145\123\151\172\145\103\150\145\143\153"); Hook::bind(strrev('rerolpxe').strrev('m.')."\x6b\x66\x69\x6c\x65\x41\x66\x74"."\x65\x72", "\163\160\141\143\145\123\151\172\145\103".base64_decode('aGFuZ2U=')); Hook::bind(_kstr2('explorer.pat')."\x68\x43\x6f"."\160\171\101\146\164\145\162", "\163\160\141\143\145\123\151\172"."\145\103\150\141\156".base64_decode('Zw==').base64_decode('ZQ==')); Hook::bind("\145\170\160\154\157\162\145\162\56"."\172\151\160"."\x41\x66\x74\x65\x72", "\x73\x70\x61\x63\x65\x53\x69\x7a"."\145\103\150\141\156\147\145"); Hook::bind(_kstr2('explorer.unz').strrev('retfApi'), "\x73\x70\x61\x63\x65\x53\x69\x7a\x65\x43".strrev('egnah')); Hook::bind(strrev('res.rerolpxe')."\166\145\162\104\157\167\156\154\157"."\141\144\101\146\164\145\162", "\x73\x70\x61\x63\x65\x53\x69\x7a\x65\x43\x68\x61"."\x6e\x67\x65"); Hook::bind(base64_decode('ZXhwbG9yZXIucGE=')._kstr2('thM').base64_decode('b3ZlQmVmb3I=').strrev('e'), strrev('kcehCeziSecaps')); Hook::bind("\x65\x78\x70\x6c\x6f\x72\x65\x72"."\x2e\x70\x61\x74\x68\x4d\x6f\x76\x65\x41\x66\x74\x65\x72", strrev('nahCeziSecaps')."\x67\x65\x4d\x6f\x76\x65"); Hook::bind(strrev('ap.rerolpxe')."\x74"._kstr2('h').base64_decode('UmVtb3ZlQmVmb3Jl'), "\163\160\141\143\145\123\151\172\145\103\150\141\156"."\x67\x65\x52\x65\x6d\x6f\x76\x65"); if ($GLOBALS["\x69\x6e"]["\x73\x68\x69\x66\x74\x44\x65\x6c"._kstr2('ete')]) { Hook::bind("\x65\x78\x70\x6c\x6f\x72\x65\x72\x2e\x70\x61\x74\x68"._kstr2('RemoveAfter'), "\x73\x70\x61\x63\x65\x53\x69\x7a".strrev('eseRe')."\164"); } Hook::bind("\x74\x65\x6d\x70\x6c\x61\x74\x65\x43\x6f\x6d"."\x6d\x6f"."\x6e\x48\x65\x61\x64\x65\x72\x53\x74\x61"."\x72\x74", "\x63\x68\x65\x63\x6b\x55\x73\x65\x72\x4c\x69\x6d"."\x69\x74"); } function checkUserLimit() { $d�ݬ���� = $_SESSION[strrev('resUdok')]; if (!$d�ݬ����) { return; } $f���ن�� = systemMemberData(_kstr2('checkUserLim').strrev('ti')); $F����� = $f���ن��->get($d�ݬ����[base64_decode('dXNlcklE')]); if (!$F�����) { show_tips(_kstr2('当前版�').base64_decode('rOW3sue7j+i2hQ==')."\350\277\207\347\224\250\346\210\267\344"."\xb8\x8a"."\351\231\220\357\274\214\350\257\267\350\201"._kstr2('��')."\xb3\xbb\xe7\xae\xa1\xe7\x90\x86\xe5\x91"."\x98\xe5\x88\x86".base64_decode('6YWN5ZCN6aKdIQ==')); } } function group_home_path($E�ڼ�먠) { $e���ņ� = GROUP_PATH . $E�ڼ�먠["\x70\x61\x74\x68"] . base64_decode('L2hvbWUv'); if (isset($E�ڼ�먠[strrev('htaPemoh')]) && file_exists(iconv_system($E�ڼ�먠["\x68\x6f\x6d\x65\x50\x61\x74\x68"]))) { $e���ņ� = $E�ڼ�먠["\x68\x6f\x6d\x65\x50\x61\x74\x68"]; } return $e���ņ�; } function user_home_path($E�ڼ�먠) { $e���ņ� = USER_PATH . $E�ڼ�먠["\160\141\164\150"] . "\x2f\x68\x6f\x6d\x65\x2f"; if (isset($E�ڼ�먠[_kstr2('homePath')]) && file_exists(iconv_system($E�ڼ�먠[base64_decode('aG9tZVBhdGg=')]))) { $e���ņ� = $E�ڼ�먠["\x68\x6f\x6d\x65\x50\x61\x74\x68"]; } return $e���ņ�; } function plugin_check_auth($F�Řʲ��, $F���¸��) { if (!plugin_check_allow($F�Řʲ��)) { return false; } return check_user_select($F���¸��); } function plugin_check_allow($F�Řʲ��) { $E�ߠ�⃄ = array(base64_decode('YXV0b0Rlc2tWaWV3')."\x65\x72" => strrev('Q'), "\147\163\164\141\162\103\101\104" => _kstr2('P'), "\x66\x69\x6c\x65\x48\x69\x73\x74\x6f\x72\x79" => "\x51", _kstr2('djoffice') => "\117", "\x66\x69\x6c\x65\x54\x68\x75\x6d"."\x62" => strrev('Q'), strrev('ciffoylno')."\x65" => "\120", "\x73\x79\x73\x74\x65\x6d\x4c\x6f\x67" => "\121", "\154\144\141\160\101\143\143\145\163\163" => "\x54", "\x66\x69\x6c\x65\x56\x69\x65\x77" => base64_decode('VA=='), _kstr2('waterMark') => "\x51"); $A�É���� = $GLOBALS["\x63\x6f\x6e\x66\x69\x67"]["\x73\x65\x74\x74\x69\x6e\x67\x53\x79"."\x73\x74\x65\x6d"]["\x76\x65\x72\x73\x69\x6f\x6e\x54\x79\x70\x65"]; if (isset($E�ߠ�⃄[$F�Řʲ��]) && $A�É���� < $E�ߠ�⃄[$F�Řʲ��]) { return false; } return true; } function system_space() { $Cʣ�ҝ�� = "\101"; $A�����ޅ = $GLOBALS["\143\157\156\146\151\147"]["\163\145\164\164\151\156\147\123\171\163\164\145"."\x6d"][strrev('epyTnoisrev')]; if ($A�����ޅ == $Cʣ�ҝ��) { return false; } return true; } function systemMemberData($A������ = '') { global $in; $aڔɱ = ST . "\x2e" . ACT; $Cʣ�ҝ�� = "\101"; $A�����ޅ = $GLOBALS[base64_decode('Y29uZmln')]["\163\145\164\164\151\156\147\123"."\x79\x73\x74\x65\x6d"][base64_decode('dmVyc2lvblR5cA==').base64_decode('ZQ==')]; $E���ʒĲ = systemLimitData(strrev('tsiLesnecil')); if (!$A�����ޅ || !in_array($A�����ޅ, $E���ʒĲ)) { $A�����ޅ = $Cʣ�ҝ��; } $d���÷�� = new FileCache(USER_SYSTEM . "\x73\x79\x73\x74\x65\x6d\x5f\x6d\x65"."\155\142\145\162\56\160\150\160"); $a���ƫ� = systemLimitData(base64_decode('Y29yZV90b28=')."\x6c\x73\x5f\x6d\x65\x6d\x62\x65\x72\x4c\x69"."\x6d\x69"."\x74"); $f���ن�� = $d���÷��->get(); $e��ڥ��� = $a���ƫ�[$A�����ޅ]; if ($aڔɱ == "\x73\x79\x73\x74\x65\x6d\x4d\x65\x6d"."\142\145\162\56\141\144\144") { if ($A�����ޅ == $Cʣ�ҝ�� && isset($in[base64_decode('aXNJbXBvcnQ=')])) { show_json("\166\145\162\163\151\157\156\137\156"._kstr2('ot_support'), false, _kstr2('version_e')._kstr2('rr')."\157\162"); } if (count($f���ن��) >= $e��ڥ��� && $e��ڥ��� != 1000) { show_json("\x76\x65\x72\x73\x69\x6f\x6e\x5f\x6e\x6f".strrev('t').strrev('n_troppus_').strrev('bmu').strrev('re'), false, base64_decode('dmVyc2lvbl9l')."\162\162\157"."\x72"); } } if ($aڔɱ == _kstr2('systemMember.')._kstr2('add') || $aڔɱ == _kstr2('systemMe').strrev('tide.rebm')) { if ($A�����ޅ == $Cʣ�ҝ�� && isset($in[base64_decode('aG9tZVBhdGg=')])) { show_json(strrev('_noisrev')."\x6e\x6f\x74\x5f\x73\x75\x70\x70\x6f\x72"."\x74", false, "\166\145\162\163\151\157\156\137\145".base64_decode('cnJvcg==')); } } if ($aڔɱ == "\x73\x79\x73\x74\x65\x6d\x4d\x65\x6d\x62\x65".base64_decode('ci4=')."\x67".base64_decode('ZXQ=') || $A������ == "\143\150\145\143\153\125\163\145\162\114\151\155\151"."\x74") { if (count($f���ن��) > $e��ڥ��� && $e��ڥ��� != 1000) { $F����礤 = 1; $b�����ɼ = array(); foreach ($f���ن�� as $aڔɱ => $c㑟����) { if ($F����礤 > $e��ڥ���) { break; } $b�����ɼ[$aڔɱ] = $c㑟����; $F����礤++; } $d���÷��->reset($b�����ɼ, false); } $f���ن�� = $d���÷��->get(); if ($A�����ޅ == $Cʣ�ҝ��) { $b�����ɼ = array(); foreach ($f���ن�� as $aڔɱ => $c㑟����) { unset($c㑟����["\150\157\155\145\120\141\164\150"]); $b�����ɼ[$aڔɱ] = $c㑟����; } $d���÷��->reset($b�����ɼ, false); } } return $d���÷��; } function systemLimitData($A������) { $a���ƫ� = array(); $a���ƫ�[base64_decode('Y29yZV90b29scw==')."\137\155\145\155\142\145\162\114\151\155"."\151\164"] = array("\x41" => 15, "\x4f" => 30, strrev('1O') => 100, "\120" => 50, _kstr2('Q') => 150, "\x51\x31" => 30, "\x51\x32" => 50, "\x51\x33" => 100, "\x51\x34" => 150, "\x51\x35" => 250, "\x51\x36" => 500, _kstr2('Q7') => 1001, strrev('8Q') => 1500, "\x51\x39" => 2000, "\x52" => 500, base64_decode('Uw==') => 1000, "\124" => 1000); $a���ƫ�[base64_decode('Y29yZV90b29sc19ncg==')."\x6f\x75\x70\x4c\x69\x6d\x69\x74"] = array(_kstr2('A') => 1, "\x4f" => 5, "\x4f\x31" => 30, "\120" => 20, "\x51" => 40, "\x51\x31" => 1000, base64_decode('UTI=') => 1000, "\x51\x33" => 1000, _kstr2('Q4') => 1000, base64_decode('UTU=') => 1000, "\x51\x36" => 1000, "\x51\x37" => 1000, strrev('8Q') => 1000, strrev('9Q') => 1000, _kstr2('R') => 100, "\x53" => 1000, "\x54" => 1000); if ($A������ == "\154\151\143\145\156\163\145\114\151".base64_decode('c3Q=')) { return array_keys($a���ƫ�["\x63\x6f\x72\x65\x5f\x74\x6f\x6f\x6c\x73".strrev('_')."\x6d\x65\x6d\x62\x65\x72\x4c\x69\x6d"."\x69\x74"]); } return $a���ƫ�[$A������]; } function systemGroupData() { global $in; $aڔɱ = ST . "\x2e" . ACT; $Cʣ�ҝ�� = "\101"; $A�����ޅ = $GLOBALS[base64_decode('Y29uZmln')][strrev('tsySgnittes')._kstr2('em')]["\x76\x65\x72\x73\x69\x6f\x6e\x54".base64_decode('eXBl')]; $E���ʒĲ = systemLimitData(strrev('tsiLesnecil')); if (!$A�����ޅ || !in_array($A�����ޅ, $E���ʒĲ)) { $A�����ޅ = $Cʣ�ҝ��; } $d���÷�� = new FileCache(USER_SYSTEM . "\163\171\163\164\145\155\137\147\162\157\165\160".base64_decode('LnBocA==')); $a���ƫ� = systemLimitData(_kstr2('core_tools').strrev('_')."\147".strrev('timiLpuor')); $f���ن�� = $d���÷��->get(); $e��ڥ��� = $a���ƫ�[$A�����ޅ]; if ($aڔɱ == "\x73\x79\x73\x74\x65\x6d\x47\x72"."\x6f\x75\x70\x2e"."\141\144\144") { if (count($f���ن��) >= $e��ڥ��� && $e��ڥ��� != 1000) { show_json(base64_decode('dmVyc2lvbl8=')."\x6e\x6f\x74\x5f"."\163\165\160\160\157\162\164\137\156\165\155"."\x62\x65\x72", false, "\x76\x65\x72\x73\x69\x6f\x6e\x5f".base64_decode('ZXJyb3I=')); } } if ($aڔɱ == "\163\171\163\164\145\155\107\162".base64_decode('b3Vw')."\x2e\x61\x64\x64" || $aڔɱ == "\x73\x79\x73\x74\x65\x6d\x47\x72\x6f"."\165\160\56\145\144\151\164") { if ($A�����ޅ == $Cʣ�ҝ�� && isset($in["\x68\x6f\x6d\x65\x50\x61\x74\x68"])) { show_json("\x76\x65\x72\x73\x69\x6f\x6e\x5f\x6e\x6f\x74"._kstr2('_support'), false, base64_decode('dmVyc2lvbl9lcnJvcg==')); } } if ($aڔɱ == "\x73\x79\x73\x74\x65\x6d\x47\x72"."\157\165\160\56\147\145\164") { if (count($f���ن��) > $e��ڥ��� && $e��ڥ��� != 1000) { $F����礤 = 1; $b�����ɼ = array(); foreach ($f���ن�� as $aڔɱ => $c㑟����) { if ($F����礤 > $e��ڥ���) { break; } $b�����ɼ[$aڔɱ] = $c㑟����; $F����礤++; } $d���÷��->reset($b�����ɼ, false); } $f���ن�� = $d���÷��->get(); if ($A�����ޅ == $Cʣ�ҝ��) { $b�����ɼ = array(); foreach ($f���ن�� as $aڔɱ => $c㑟����) { unset($c㑟����[_kstr2('homePath')]); $b�����ɼ[$aڔɱ] = $c㑟����; } $d���÷��->reset($b�����ɼ, false); } } return $d���÷��; } function systemRoleData() { $aڔɱ = ST . _kstr2('.') . ACT; $Cʣ�ҝ�� = base64_decode('QQ=='); if ($aڔɱ == "\x75\x73\x65\x72\x2e\x76\x65\x72"."\163\151\157\156\111\156\163\164".base64_decode('YWxs')) { version_install(); die; } $d������� =& $GLOBALS["\143\157\156\146\151\147"]["\163\145\164\164\151\156\147\123"._kstr2('ystem')]; if (!init_version_check()) { $d�������["\166\145\162\163\151\157\156\124"."\171\160\145"] = $Cʣ�ҝ��; if ($aڔɱ != "\163\150\141\162\145\56\143\157"."\x6d\x6d\x6f\x6e\x4a\x73" && is_array($_SESSION["\x6b\x6f\x64\x55\x73\x65\x72"]) && $_SESSION["\153\157\144\125\163\145\162"]["\162\157\154\145"] == "\x31") { version_reset(false); license_page(); } } $d���÷�� = new FileCache(USER_SYSTEM . "\x73\x79\x73\x74\x65\x6d\x5f\x72\x6f"."\x6c\x65"."\x2e\x70\x68\x70"); return $d���÷��; } function license_page() { init_model("\x50\x6c\x75\x67\x69\x6e")->init(); include TEMPLATE . "\x75\x73\x65\x72\x2f\x6c\x69\x63\x65\x6e".strrev('lmth.es'); die; } function init_version_check() { $d������� =& $GLOBALS[strrev('gifnoc')]["\x73\x65\x74\x74\x69\x6e\x67\x53\x79\x73\x74\x65\x6d"]; $F���ڏ̿ = "\x40\x64\x66\x71\x5b\x2d\x29\x26\x2a\x5e"."\x2a"._kstr2('%(_90'); $Cʣ�ҝ�� = "\101"; $E���ʒĲ = systemLimitData("\x6c\x69\x63\x65\x6e\x73\x65\x4c".strrev('tsi')); if (!isset($d�������[_kstr2('versionType')]) || !in_array($d�������["\166\145\162\163\151\157\156\124\171\160"._kstr2('e')], $E���ʒĲ)) { $d�������[base64_decode('dmVyc2lvblR5cGU=')] = $Cʣ�ҝ��; } if ($d�������[strrev('Tnoisrev').strrev('epy')] == $Cʣ�ҝ��) { unset($d�������[_kstr2('versionHa')."\x73\x68"]); return true; } if (!isset($d�������[strrev('yTnoisrev').base64_decode('cGU=')]) || !isset($d�������["\x76\x65\x72\x73\x69\x6f\x6e\x55\x73\x65\x72"]) || !isset($d�������["\x76\x65\x72\x73\x69\x6f\x6e\x4c\x69\x63"."\145\156\163\145"]) || !isset($d�������[_kstr2('deviceUUID')]) || !isset($d�������["\x64\x65\x76\x69\x63\x65\x50\x61\x74\x68"])) { return false; } if (strlen($d�������["\166\145\162\163\151\157\156\125"."\163\145\162"]) != 16 || strlen($d�������["\166\145\162\163\151\157\156\114\151\143".strrev('esne')]) != 62 || strlen($d�������["\144\145\166\151\143\145\125\125"._kstr2('ID')]) != 16) { return false; } $a�޺���� = substr($d�������["\166\145\162\163\151\157\156\114\151"."\x63\x65\x6e\x73\x65"], 32); $f��ּ�� = md5($a�޺���� . $d�������[base64_decode('dmVyc2lvblU=')._kstr2('ser')] . $d�������["\x64\x65\x76\x69\x63\x65\x55\x55\x49\x44"] . $d�������[strrev('yTnoisrev')."\160\145"]); if ($f��ּ�� != substr($d�������["\x76\x65\x72\x73\x69\x6f\x6e\x4c"._kstr2('icense')], 0, 32)) { return false; } $d��ͳۜ� = Mcrypt::decode($d�������["\x64\x65\x76\x69\x63\x65\x50\x61\x74\x68"], md5($F���ڏ̿ . $d�������["\166\145\162\163\151\157\156\114\151"."\x63\x65\x6e\x73\x65"])); $F��ɱ��� = _kstr2('./lib/core/'); if (get_path_father($d��ͳۜ�) == $F��ɱ���) { $d��ͳۜ� = str_replace($F��ɱ���, strrev('eroc/ppa/.').strrev('/'), $d��ͳۜ�); } $b�ɼ���� = false; if (file_exists($d��ͳۜ�)) { $A��Տ��� = file_get_contents($d��ͳۜ�); $A���∷� = Mcrypt::decode($A��Տ���, md5($F���ڏ̿ . $d�������["\144\145\166\151\143\145\125\125"."\x49\x44"])); if ($A���∷� != '' && strtotime($A���∷�) > time()) { $b�ɼ���� = true; } } if (!$b�ɼ����) { return false; } $e���� = substr(md5($d�������["\x76\x65\x72\x73\x69\x6f\x6e\x4c\x69\x63\x65\x6e\x73\x65"]), 10, 10); $a�Ɍ�ۻ� = $e���� . $d�������["\x76\x65\x72\x73\x69\x6f\x6e\x54\x79\x70\x65"] . $d�������[_kstr2('deviceUUID')]; $d�������[strrev('saHnoisrev')."\150"] = strrev(base64_encode(Mcrypt::encode($a�Ɍ�ۻ�, $F���ڏ̿, 0))); $d������ = rand_string(16); $FԔ����� = $d������ . $d�������["\x76\x65\x72\x73\x69\x6f\x6e\x54\x79".strrev('ep')] . Mcrypt::encode(md5($d�������["\x76\x65\x72\x73\x69\x6f\x6e\x55\x73\x65\x72"]), $d������, 0); $d�������["\x76\x65\x72\x73\x69\x6f\x6e\x48\x61\x73"."\x68\x55\x73\x65"."\162"] = base64_encode(strrev(Mcrypt::encode($FԔ�����, "\x66\x33\x34\x32\x5e\x26\x2a\x28\x4b\x4a".base64_decode('RlNEOWZkanY='), 0))); return true; } function version_install() { $d������� =& $GLOBALS["\x63\x6f\x6e\x66\x69\x67"][_kstr2('settingSyste')."\x6d"]; $F���ڏ̿ = "\100\144\146\161\133\55\51\46\52\136\52".base64_decode('JShfOTA='); if (isset($_GET["\x72\x65\x73\x65\x74"])) { version_reset(true); header(_kstr2('location:')."\x2e\x2f"); } if (!isset($_GET["\x6c\x69\x63\x65\x6e\x73\x65\x5f\x63\x6f\x64\x65"])) { license_page(); } else { $D��⅑�� = rand_string(16); $d���͕�� = strrev('i/esnecil')."\x6e\x64\x65\x78"; $d���͕�� = $GLOBALS["\x63\x6f\x6e\x66\x69\x67"]["\x73\x65\x74\x74\x69\x6e\x67\x73"]["\x70\x6c\x75\x67\x69\x6e\x53\x65\x72\x76\x65\x72"] . $d���͕��; $d���͕�� = str_replace("\150\164\164\160\163\72\57\57", base64_decode('aHR0cDovLw=='), $d���͕��); $c�˥��е = $d���͕�� . "\x26\x63\x6f\x64\x65\x3d" . $_GET["\x6c\x69\x63\x65\x6e\x73\x65\x5f\x63\x6f\x64\x65"] . "\x26\x75\x75\x69\x64\x3d" . $D��⅑��; $c�˥��е .= "\x26\x61\x70\x70\x4e\x61\x6d\x65\x3d\x6b\x6f"."\x64\x65\x78\x70\x6c\x6f\x72\x65\x72"."\46\141\160\160\126\145\162\163\151\157\156" . KOD_VERSION; $c�˥��е .= strrev('=rerefer&') . rawurlencode($_SERVER["\x48\x54\x54\x50\x5f\x52\x45\x46\x45\x52"._kstr2('ER')]); if (defined("\111\116\123\124\101\114\114\137\103"."\x48\x41\x4e"."\116\105"._kstr2('L'))) { $c�˥��е .= "\x26\x63\x68\x61\x6e\x6e\x65\x6c\x3d" . INSTALL_CHANNEL; } $eͣ����� = json_decode(curl_get_contents($c�˥��е), true); if (is_array($eͣ�����) && $eͣ�����[_kstr2('code')] == true && is_array($eͣ�����["\x64\x61\x74\x61"])) { $d���÷�� = new FileCache(USER_SYSTEM . strrev('s_metsys').strrev('te').base64_decode('dGluZy4=')."\x70\x68\x70"); $b��ƺ� = $d���÷��->get(); $b��ƺ�[strrev('resUnoisrev')] = $_GET[strrev('edoc_esnecil')]; $b��ƺ�["\166\145\162\163\151\157\156\114\151\143".strrev('esne')] = $eͣ�����["\x64\x61\x74\x61"][base64_decode('dmVyc2lvbl8=')."\x6c\x69\x63\x65\x6e\x73\x65"]; $b��ƺ�["\144\145\166\151\143\145\125\125"."\111\104"] = $D��⅑��; $b��ƺ�["\166\145\162\163\151\157\156\124\171\160\145"] = $eͣ�����["\x64\x61\x74\x61"]["\166\145\162\163\151\157\156\137\164"."\171"."\x70\x65"]; $d��ͳۜ� = Mcrypt::decode($d�������[_kstr2('devicePat')."\x68"], md5($F���ڏ̿ . $d�������["\x76\x65\x72\x73\x69\x6f\x6e\x4c\x69\x63\x65\x6e\x73\x65"])); del_file($d��ͳۜ�); version_install_path($b��ƺ�, $eͣ�����["\x64\x61\x74\x61"]); $d���÷��->reset($b��ƺ�); $f�٠�٘� = BASIC_PATH . "\x2f\x63\x6f\x6e\x66\x69\x67\x2f"."\x73\x65\x74\x74\x69\x6e\x67\x5f\x75\x73\x65\x72\x2e"."\160\150\160"; if (!file_exists($f�٠�٘�)) { $A��Տ��� = strrev(' php?<'); file_put_contents($f�٠�٘�, $A��Տ���); } install_msg("\346\201\255\345\226\234\346\202\250\357\274\214\345"."\234\250\347\272\277\345\215\207\347\272"."\247\346\216\210\346\235\203\346\210"."\220\345\212\237\357\274\201"); } else { install_msg($eͣ�����["\144\141\164\141"], false); } } } function install_msg($cŲ纎��, $b��Ć��� = true) { $f���·� = $b��Ć��� ? "\x53\x75\x63\x63\x65\x73\x73\x20".base64_decode('ISjljYfnuqfmiJDl')."\x8a\x9f\x29" : base64_decode('RXJyb3IgISjljYfnuqfl')."\xa4\xb1\xe8\xb4\xa5\x29"; $F��Ѷ��� = $b��Ć��� ? "\x2e\x2f" : "\56\57\151\156\144\145\170\56\160\150\160\77\165".base64_decode('c2VyL3ZlcnNpb25J').base64_decode('bnN0YWxs'); $cŲ纎�� = $cŲ纎�� ? $cŲ纎�� : _kstr2('请求服�')."\xa1\xe5\x99\xa8"."\xe5\xa4\xb1\xe8\xb4\xa5\xef\xbc\x8c\xe6\xa3"."\x80\xe6\x9f\xa5\xe6\x9c\x8d\xe5\x8a\xa1"."\xe5\x99\xa8\xe6\x98\xaf\xe5\x90".base64_decode('puiD')._kstr2('�访问�')."\xbd"."\221\347"._kstr2('��。<br/')._kstr2('>�')."\xb3\xa8\x3a\xe6\x9c\x8d\xe5\x8a\xa1\xe5"."\231\250"."\344\270\215\350\203\275\346\230\257"."\344\273\243\347\220"._kstr2('�上网'); show_tips($cŲ纎��, $F��Ѷ���, 2, $f���·�); } function version_install_path(&$b��ƺ�, $F����) { $Dֱ����� = $F����["\166\145\162\163\151\157\156\137\164\151".base64_decode('bWVfdA==')."\x6f"]; $F���ڏ̿ = base64_decode('QGRmcVstKSYqXiol')."\50\137\71\60"; $f��縗� = "\x2e" . substr(md5(rand_string(20) . time()), 15, 10) . _kstr2('.log'); $eǑՅ��� = "\143\157\156\146\151\147\57\151"."\61\70\156\57"; $F�����̑ = BASIC_PATH . $eǑՅ��� . $f��縗�; if (isset($F����[strrev('cived_tes')."\x65"."\x5f\x70"."\141\164\150"]) && $F����["\163\145\164\137\144\145\166\151\143\145\137\160\141\164\150"] == 1) { $F�����̑ = "\56\57" . $eǑՅ��� . $f��縗�; } $A���∷� = Mcrypt::encode($Dֱ�����, md5($F���ڏ̿ . $b��ƺ�[strrev('IUUecived')."\x44"])); file_put_contents($F�����̑, $A���∷�); if (!file_exists($F�����̑)) { install_msg($eǑՅ��� . base64_decode('IGNhbid0IHdyaQ==')._kstr2('te')."\141\142\154\145", false); } $b��ƺ�["\x64\x65\x76\x69\x63\x65\x50\x61\x74"."\x68"] = Mcrypt::encode($F�����̑, md5($F���ڏ̿ . $b��ƺ�[_kstr2('versionLi').base64_decode('Yw==')."\x65"."\156\163\145"])); return; } function version_reset($E���܎�� = false) { $d������� =& $GLOBALS["\x63\x6f\x6e\x66\x69\x67"][strrev('Sgnittes').base64_decode('eXN0')."\x65\x6d"]; $F���ڏ̿ = "\x40\x64\x66\x71\x5b\x2d\x29\x26\x2a\x5e\x2a".base64_decode('JShfOQ==')."\x30"; if (isset($d�������["\x64\x65\x76\x69\x63\x65\x50\x61\x74\x68"])) { $d��ͳۜ� = Mcrypt::decode($d�������["\x64\x65\x76\x69\x63\x65\x50\x61\x74\x68"], md5($F���ڏ̿ . $d�������["\x76\x65\x72\x73\x69\x6f\x6e\x4c"._kstr2('icense')])); del_file($d��ͳۜ�); } $d���÷�� = new FileCache(USER_SYSTEM . "\163\171\163\164\145\155\137\163\145\164\164\151"."\x6e\x67\x2e\x70\x68\x70"); $b��ƺ� = $d���÷��->get(); unset($b��ƺ�["\x76\x65\x72\x73\x69\x6f\x6e\x55\x73\x65\x72"]); unset($b��ƺ�["\x76\x65\x72\x73\x69\x6f\x6e\x4c"."\151\143\145\156"."\163\145"]); unset($b��ƺ�["\144\145\166\151\143\145\125\125\111\104"]); unset($b��ƺ�["\x64\x65\x76\x69\x63\x65\x50\x61\x74\x68"]); if ($E���܎��) { unset($b��ƺ�["\150\153\111\156\151\164"]); unset($b��ƺ�["\166\145\162\163\151\157\156\124\171\160\145"]); } $d���÷��->reset($b��ƺ�); }
